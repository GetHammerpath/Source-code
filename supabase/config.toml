project_id = "wzpswnuteisyxxwlnqrn"

[functions.analyze-image-for-request]
verify_jwt = false

[functions.handle-n8n-callback]
verify_jwt = false

[functions.analyze-image-kie]
verify_jwt = false

# Accept service-role when called from video-generate (bulk flow)
[functions.kie-generate-video]
verify_jwt = false

[functions.kie-callback]
verify_jwt = false

[functions.kie-extend-video]
verify_jwt = false

[functions.kie-check-status]
verify_jwt = true

[functions.kie-extend-next]
verify_jwt = false

[functions.kie-retry-generation]
verify_jwt = false

[functions.cloudinary-stitch-videos]
verify_jwt = false

[functions.cloudinary-stitch-batch]
verify_jwt = true

[functions.analyze-image-sora]
verify_jwt = true

[functions.sora-generate-video]
verify_jwt = true

[functions.sora-callback]
verify_jwt = false

[functions.sora-extend-next]
verify_jwt = false

# Accept service-role when called from video-generate (bulk flow)
[functions.sora2-generate-video]
verify_jwt = false

[functions.sora2-callback]
verify_jwt = false

[functions.sora2-extend-next]
verify_jwt = false

[functions.runway-extend-analyze]
verify_jwt = true

[functions.runway-extend-generate]
verify_jwt = true

[functions.runway-extend-callback]
verify_jwt = false

[functions.runway-extend-next]
verify_jwt = false

[functions.bulk-generate-videos]
verify_jwt = true

[functions.smart-bulk-generate]
verify_jwt = true

[functions.create-checkout-session]
verify_jwt = false

[functions.create-portal-session]
verify_jwt = true

[functions.stripe-webhook]
verify_jwt = false

[functions.sync-subscription]
verify_jwt = true

[functions.deduct-kie-credits]
verify_jwt = true

[functions.retroactively-charge-credits]
verify_jwt = true

[functions.admin-charge-credits]
verify_jwt = true

[functions.retry-failed-generations]
verify_jwt = true

[functions.resume-bulk-batch]
verify_jwt = true

# Allow service-role key from bulk-generate-videos and other server callers (service key is not a JWT)
[functions.video-generate]
verify_jwt = false

# Accept service-role when called from video-generate (bulk flow)
[functions.kie-kling-generate-video]
verify_jwt = false

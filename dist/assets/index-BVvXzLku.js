var iP=Object.defineProperty;var Ey=e=>{throw TypeError(e)};var oP=(e,t,r)=>t in e?iP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ry=(e,t,r)=>oP(e,typeof t!="symbol"?t+"":t,r),Gf=(e,t,r)=>t.has(e)||Ey("Cannot "+r);var M=(e,t,r)=>(Gf(e,t,"read from private field"),r?r.call(e):t.get(e)),Se=(e,t,r)=>t.has(e)?Ey("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),pe=(e,t,r,n)=>(Gf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ze=(e,t,r)=>(Gf(e,t,"access private method"),r);var Ad=(e,t,r,n)=>({set _(a){pe(e,t,a,r)},get _(){return M(e,t,n)}});function lP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var as=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ej(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var tj={exports:{}},$h={},rj={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc=Symbol.for("react.element"),dP=Symbol.for("react.portal"),uP=Symbol.for("react.fragment"),hP=Symbol.for("react.strict_mode"),fP=Symbol.for("react.profiler"),mP=Symbol.for("react.provider"),pP=Symbol.for("react.context"),gP=Symbol.for("react.forward_ref"),xP=Symbol.for("react.suspense"),vP=Symbol.for("react.memo"),yP=Symbol.for("react.lazy"),Py=Symbol.iterator;function wP(e){return e===null||typeof e!="object"?null:(e=Py&&e[Py]||e["@@iterator"],typeof e=="function"?e:null)}var sj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nj=Object.assign,aj={};function sl(e,t,r){this.props=e,this.context=t,this.refs=aj,this.updater=r||sj}sl.prototype.isReactComponent={};sl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ij(){}ij.prototype=sl.prototype;function Zg(e,t,r){this.props=e,this.context=t,this.refs=aj,this.updater=r||sj}var Jg=Zg.prototype=new ij;Jg.constructor=Zg;nj(Jg,sl.prototype);Jg.isPureReactComponent=!0;var Ty=Array.isArray,oj=Object.prototype.hasOwnProperty,ex={current:null},lj={key:!0,ref:!0,__self:!0,__source:!0};function cj(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)oj.call(t,n)&&!lj.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Xc,type:e,key:i,ref:o,props:a,_owner:ex.current}}function bP(e,t){return{$$typeof:Xc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xc}function jP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ay=/\/+/g;function Kf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jP(""+e.key):t.toString(36)}function uu(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Xc:case dP:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Kf(o,0):n,Ty(a)?(r="",e!=null&&(r=e.replace(Ay,"$&/")+"/"),uu(a,t,r,"",function(d){return d})):a!=null&&(tx(a)&&(a=bP(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Ay,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Ty(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Kf(i,l);o+=uu(i,t,r,c,a)}else if(c=wP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Kf(i,l++),o+=uu(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Id(e,t,r){if(e==null)return e;var n=[],a=0;return uu(e,n,"","",function(i){return t.call(r,i,a++)}),n}function _P(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vr={current:null},hu={transition:null},NP={ReactCurrentDispatcher:vr,ReactCurrentBatchConfig:hu,ReactCurrentOwner:ex};function dj(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Id,forEach:function(e,t,r){Id(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Id(e,function(){t++}),t},toArray:function(e){return Id(e,function(t){return t})||[]},only:function(e){if(!tx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ve.Component=sl;Ve.Fragment=uP;Ve.Profiler=fP;Ve.PureComponent=Zg;Ve.StrictMode=hP;Ve.Suspense=xP;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NP;Ve.act=dj;Ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=nj({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ex.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)oj.call(t,c)&&!lj.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Xc,type:e.type,key:a,ref:i,props:n,_owner:o}};Ve.createContext=function(e){return e={$$typeof:pP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mP,_context:e},e.Consumer=e};Ve.createElement=cj;Ve.createFactory=function(e){var t=cj.bind(null,e);return t.type=e,t};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(e){return{$$typeof:gP,render:e}};Ve.isValidElement=tx;Ve.lazy=function(e){return{$$typeof:yP,_payload:{_status:-1,_result:e},_init:_P}};Ve.memo=function(e,t){return{$$typeof:vP,type:e,compare:t===void 0?null:t}};Ve.startTransition=function(e){var t=hu.transition;hu.transition={};try{e()}finally{hu.transition=t}};Ve.unstable_act=dj;Ve.useCallback=function(e,t){return vr.current.useCallback(e,t)};Ve.useContext=function(e){return vr.current.useContext(e)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(e){return vr.current.useDeferredValue(e)};Ve.useEffect=function(e,t){return vr.current.useEffect(e,t)};Ve.useId=function(){return vr.current.useId()};Ve.useImperativeHandle=function(e,t,r){return vr.current.useImperativeHandle(e,t,r)};Ve.useInsertionEffect=function(e,t){return vr.current.useInsertionEffect(e,t)};Ve.useLayoutEffect=function(e,t){return vr.current.useLayoutEffect(e,t)};Ve.useMemo=function(e,t){return vr.current.useMemo(e,t)};Ve.useReducer=function(e,t,r){return vr.current.useReducer(e,t,r)};Ve.useRef=function(e){return vr.current.useRef(e)};Ve.useState=function(e){return vr.current.useState(e)};Ve.useSyncExternalStore=function(e,t,r){return vr.current.useSyncExternalStore(e,t,r)};Ve.useTransition=function(){return vr.current.useTransition()};Ve.version="18.3.1";rj.exports=Ve;var f=rj.exports;const B=ej(f),rx=lP({__proto__:null,default:B},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP=f,kP=Symbol.for("react.element"),CP=Symbol.for("react.fragment"),EP=Object.prototype.hasOwnProperty,RP=SP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PP={key:!0,ref:!0,__self:!0,__source:!0};function uj(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)EP.call(t,n)&&!PP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:kP,type:e,key:i,ref:o,props:a,_owner:RP.current}}$h.Fragment=CP;$h.jsx=uj;$h.jsxs=uj;tj.exports=$h;var s=tj.exports,hj={exports:{}},Yr={},fj={exports:{}},mj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,O){var G=T.length;T.push(O);e:for(;0<G;){var de=G-1>>>1,oe=T[de];if(0<a(oe,O))T[de]=O,T[G]=oe,G=de;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var O=T[0],G=T.pop();if(G!==O){T[0]=G;e:for(var de=0,oe=T.length,je=oe>>>1;de<je;){var _e=2*(de+1)-1,ge=T[_e],xe=_e+1,Q=T[xe];if(0>a(ge,G))xe<oe&&0>a(Q,ge)?(T[de]=Q,T[xe]=G,de=xe):(T[de]=ge,T[_e]=G,de=_e);else if(xe<oe&&0>a(Q,G))T[de]=Q,T[xe]=G,de=xe;else break e}}return O}function a(T,O){var G=T.sortIndex-O.sortIndex;return G!==0?G:T.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,w=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var O=r(d);O!==null;){if(O.callback===null)n(d);else if(O.startTime<=T)n(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(d)}}function j(T){if(y=!1,x(T),!w)if(r(c)!==null)w=!0,U(_);else{var O=r(d);O!==null&&q(j,O.startTime-T)}}function _(T,O){w=!1,y&&(y=!1,b(S),S=-1),p=!0;var G=m;try{for(x(O),h=r(c);h!==null&&(!(h.expirationTime>O)||T&&!P());){var de=h.callback;if(typeof de=="function"){h.callback=null,m=h.priorityLevel;var oe=de(h.expirationTime<=O);O=e.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(c)&&n(c),x(O)}else n(c);h=r(c)}if(h!==null)var je=!0;else{var _e=r(d);_e!==null&&q(j,_e.startTime-O),je=!1}return je}finally{h=null,m=G,p=!1}}var N=!1,k=null,S=-1,E=5,I=-1;function P(){return!(e.unstable_now()-I<E)}function C(){if(k!==null){var T=e.unstable_now();I=T;var O=!0;try{O=k(!0,T)}finally{O?R():(N=!1,k=null)}}else N=!1}var R;if(typeof g=="function")R=function(){g(C)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=C,R=function(){$.postMessage(null)}}else R=function(){v(C,0)};function U(T){k=T,N||(N=!0,R())}function q(T,O){S=v(function(){T(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,U(_))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var G=m;m=O;try{return T()}finally{m=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,O){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var G=m;m=T;try{return O()}finally{m=G}},e.unstable_scheduleCallback=function(T,O,G){var de=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?de+G:de):G=de,T){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=G+oe,T={id:u++,callback:O,priorityLevel:T,startTime:G,expirationTime:oe,sortIndex:-1},G>de?(T.sortIndex=G,t(d,T),r(c)===null&&T===r(d)&&(y?(b(S),S=-1):y=!0,q(j,G-de))):(T.sortIndex=oe,t(c,T),w||p||(w=!0,U(_))),T},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(T){var O=m;return function(){var G=m;m=O;try{return T.apply(this,arguments)}finally{m=G}}}})(mj);fj.exports=mj;var TP=fj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AP=f,Gr=TP;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pj=new Set,uc={};function Ti(e,t){Do(e,t),Do(e+"Capture",t)}function Do(e,t){for(uc[e]=t,e=0;e<t.length;e++)pj.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zm=Object.prototype.hasOwnProperty,IP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iy={},Oy={};function OP(e){return Zm.call(Oy,e)?!0:Zm.call(Iy,e)?!1:IP.test(e)?Oy[e]=!0:(Iy[e]=!0,!1)}function MP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DP(e,t,r,n){if(t===null||typeof t>"u"||MP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yr(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zt[e]=new yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zt[t]=new yr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zt[e]=new yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zt[e]=new yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zt[e]=new yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zt[e]=new yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zt[e]=new yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zt[e]=new yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zt[e]=new yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var sx=/[\-:]([a-z])/g;function nx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sx,nx);Zt[t]=new yr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sx,nx);Zt[t]=new yr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sx,nx);Zt[t]=new yr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zt[e]=new yr(e,1,!1,e.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zt[e]=new yr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ax(e,t,r,n){var a=Zt.hasOwnProperty(t)?Zt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DP(t,r,a,n)&&(r=null),n||a===null?OP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var On=AP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Od=Symbol.for("react.element"),Ji=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),ix=Symbol.for("react.strict_mode"),Jm=Symbol.for("react.profiler"),gj=Symbol.for("react.provider"),xj=Symbol.for("react.context"),ox=Symbol.for("react.forward_ref"),ep=Symbol.for("react.suspense"),tp=Symbol.for("react.suspense_list"),lx=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),vj=Symbol.for("react.offscreen"),My=Symbol.iterator;function bl(e){return e===null||typeof e!="object"?null:(e=My&&e[My]||e["@@iterator"],typeof e=="function"?e:null)}var _t=Object.assign,Yf;function Ll(e){if(Yf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Yf=t&&t[1]||""}return`
`+Yf+e}var Qf=!1;function Xf(e,t){if(!e||Qf)return"";Qf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Qf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ll(e):""}function FP(e){switch(e.tag){case 5:return Ll(e.type);case 16:return Ll("Lazy");case 13:return Ll("Suspense");case 19:return Ll("SuspenseList");case 0:case 2:case 15:return e=Xf(e.type,!1),e;case 11:return e=Xf(e.type.render,!1),e;case 1:return e=Xf(e.type,!0),e;default:return""}}function rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case eo:return"Fragment";case Ji:return"Portal";case Jm:return"Profiler";case ix:return"StrictMode";case ep:return"Suspense";case tp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xj:return(e.displayName||"Context")+".Consumer";case gj:return(e._context.displayName||"Context")+".Provider";case ox:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lx:return t=e.displayName||null,t!==null?t:rp(e.type)||"Memo";case Kn:t=e._payload,e=e._init;try{return rp(e(t))}catch{}}return null}function LP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rp(t);case 8:return t===ix?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $P(e){var t=yj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Md(e){e._valueTracker||(e._valueTracker=$P(e))}function wj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=yj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Tu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sp(e,t){var r=t.checked;return _t({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Dy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Sa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bj(e,t){t=t.checked,t!=null&&ax(e,"checked",t,!1)}function np(e,t){bj(e,t);var r=Sa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ap(e,t.type,r):t.hasOwnProperty("defaultValue")&&ap(e,t.type,Sa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ap(e,t,r){(t!=="number"||Tu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $l=Array.isArray;function ho(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sa(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ip(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return _t({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ly(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Z(92));if($l(r)){if(1<r.length)throw Error(Z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Sa(r)}}function jj(e,t){var r=Sa(t.value),n=Sa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $y(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _j(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function op(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_j(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dd,Nj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dd=Dd||document.createElement("div"),Dd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UP=["Webkit","ms","Moz","O"];Object.keys(Kl).forEach(function(e){UP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kl[t]=Kl[e]})});function Sj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Kl.hasOwnProperty(e)&&Kl[e]?(""+t).trim():t+"px"}function kj(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Sj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var VP=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lp(e,t){if(t){if(VP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function cp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=null;function cx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var up=null,fo=null,mo=null;function Uy(e){if(e=ed(e)){if(typeof up!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=Wh(t),up(e.stateNode,e.type,t))}}function Cj(e){fo?mo?mo.push(e):mo=[e]:fo=e}function Ej(){if(fo){var e=fo,t=mo;if(mo=fo=null,Uy(e),t)for(e=0;e<t.length;e++)Uy(t[e])}}function Rj(e,t){return e(t)}function Pj(){}var Zf=!1;function Tj(e,t,r){if(Zf)return e(t,r);Zf=!0;try{return Rj(e,t,r)}finally{Zf=!1,(fo!==null||mo!==null)&&(Pj(),Ej())}}function fc(e,t){var r=e.stateNode;if(r===null)return null;var n=Wh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Z(231,t,typeof r));return r}var hp=!1;if(Cn)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){hp=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{hp=!1}function BP(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Yl=!1,Au=null,Iu=!1,fp=null,zP={onError:function(e){Yl=!0,Au=e}};function WP(e,t,r,n,a,i,o,l,c){Yl=!1,Au=null,BP.apply(zP,arguments)}function qP(e,t,r,n,a,i,o,l,c){if(WP.apply(this,arguments),Yl){if(Yl){var d=Au;Yl=!1,Au=null}else throw Error(Z(198));Iu||(Iu=!0,fp=d)}}function Ai(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Aj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vy(e){if(Ai(e)!==e)throw Error(Z(188))}function HP(e){var t=e.alternate;if(!t){if(t=Ai(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Vy(a),e;if(i===n)return Vy(a),t;i=i.sibling}throw Error(Z(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?e:t}function Ij(e){return e=HP(e),e!==null?Oj(e):null}function Oj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Oj(e);if(t!==null)return t;e=e.sibling}return null}var Mj=Gr.unstable_scheduleCallback,By=Gr.unstable_cancelCallback,GP=Gr.unstable_shouldYield,KP=Gr.unstable_requestPaint,Tt=Gr.unstable_now,YP=Gr.unstable_getCurrentPriorityLevel,dx=Gr.unstable_ImmediatePriority,Dj=Gr.unstable_UserBlockingPriority,Ou=Gr.unstable_NormalPriority,QP=Gr.unstable_LowPriority,Fj=Gr.unstable_IdlePriority,Uh=null,Ys=null;function XP(e){if(Ys&&typeof Ys.onCommitFiberRoot=="function")try{Ys.onCommitFiberRoot(Uh,e,void 0,(e.current.flags&128)===128)}catch{}}var Ss=Math.clz32?Math.clz32:eT,ZP=Math.log,JP=Math.LN2;function eT(e){return e>>>=0,e===0?32:31-(ZP(e)/JP|0)|0}var Fd=64,Ld=4194304;function Ul(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Ul(l):(i&=o,i!==0&&(n=Ul(i)))}else o=r&~a,o!==0?n=Ul(o):i!==0&&(n=Ul(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ss(t),a=1<<r,n|=e[r],t&=~a;return n}function tT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ss(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=tT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function mp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lj(){var e=Fd;return Fd<<=1,!(Fd&4194240)&&(Fd=64),e}function Jf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ss(t),e[t]=r}function sT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ss(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function ux(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ss(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var nt=0;function $j(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uj,hx,Vj,Bj,zj,pp=!1,$d=[],ha=null,fa=null,ma=null,mc=new Map,pc=new Map,Xn=[],nT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zy(e,t){switch(e){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":mc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(t.pointerId)}}function _l(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ed(t),t!==null&&hx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function aT(e,t,r,n,a){switch(t){case"focusin":return ha=_l(ha,e,t,r,n,a),!0;case"dragenter":return fa=_l(fa,e,t,r,n,a),!0;case"mouseover":return ma=_l(ma,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return mc.set(i,_l(mc.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,pc.set(i,_l(pc.get(i)||null,e,t,r,n,a)),!0}return!1}function Wj(e){var t=ei(e.target);if(t!==null){var r=Ai(t);if(r!==null){if(t=r.tag,t===13){if(t=Aj(r),t!==null){e.blockedOn=t,zj(e.priority,function(){Vj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=gp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);dp=n,r.target.dispatchEvent(n),dp=null}else return t=ed(r),t!==null&&hx(t),e.blockedOn=r,!1;t.shift()}return!0}function Wy(e,t,r){fu(e)&&r.delete(t)}function iT(){pp=!1,ha!==null&&fu(ha)&&(ha=null),fa!==null&&fu(fa)&&(fa=null),ma!==null&&fu(ma)&&(ma=null),mc.forEach(Wy),pc.forEach(Wy)}function Nl(e,t){e.blockedOn===t&&(e.blockedOn=null,pp||(pp=!0,Gr.unstable_scheduleCallback(Gr.unstable_NormalPriority,iT)))}function gc(e){function t(a){return Nl(a,e)}if(0<$d.length){Nl($d[0],e);for(var r=1;r<$d.length;r++){var n=$d[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ha!==null&&Nl(ha,e),fa!==null&&Nl(fa,e),ma!==null&&Nl(ma,e),mc.forEach(t),pc.forEach(t),r=0;r<Xn.length;r++)n=Xn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xn.length&&(r=Xn[0],r.blockedOn===null);)Wj(r),r.blockedOn===null&&Xn.shift()}var po=On.ReactCurrentBatchConfig,Du=!0;function oT(e,t,r,n){var a=nt,i=po.transition;po.transition=null;try{nt=1,fx(e,t,r,n)}finally{nt=a,po.transition=i}}function lT(e,t,r,n){var a=nt,i=po.transition;po.transition=null;try{nt=4,fx(e,t,r,n)}finally{nt=a,po.transition=i}}function fx(e,t,r,n){if(Du){var a=gp(e,t,r,n);if(a===null)cm(e,t,n,Fu,r),zy(e,n);else if(aT(a,e,t,r,n))n.stopPropagation();else if(zy(e,n),t&4&&-1<nT.indexOf(e)){for(;a!==null;){var i=ed(a);if(i!==null&&Uj(i),i=gp(e,t,r,n),i===null&&cm(e,t,n,Fu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else cm(e,t,n,null,r)}}var Fu=null;function gp(e,t,r,n){if(Fu=null,e=cx(n),e=ei(e),e!==null)if(t=Ai(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Aj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fu=e,null}function qj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YP()){case dx:return 1;case Dj:return 4;case Ou:case QP:return 16;case Fj:return 536870912;default:return 16}default:return 16}}var la=null,mx=null,mu=null;function Hj(){if(mu)return mu;var e,t=mx,r=t.length,n,a="value"in la?la.value:la.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return mu=a.slice(e,1<n?1-n:void 0)}function pu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ud(){return!0}function qy(){return!1}function Qr(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ud:qy,this.isPropagationStopped=qy,this}return _t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ud)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ud)},persist:function(){},isPersistent:Ud}),t}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},px=Qr(nl),Jc=_t({},nl,{view:0,detail:0}),cT=Qr(Jc),em,tm,Sl,Vh=_t({},Jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sl&&(Sl&&e.type==="mousemove"?(em=e.screenX-Sl.screenX,tm=e.screenY-Sl.screenY):tm=em=0,Sl=e),em)},movementY:function(e){return"movementY"in e?e.movementY:tm}}),Hy=Qr(Vh),dT=_t({},Vh,{dataTransfer:0}),uT=Qr(dT),hT=_t({},Jc,{relatedTarget:0}),rm=Qr(hT),fT=_t({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),mT=Qr(fT),pT=_t({},nl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gT=Qr(pT),xT=_t({},nl,{data:0}),Gy=Qr(xT),vT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wT[e])?!!t[e]:!1}function gx(){return bT}var jT=_t({},Jc,{key:function(e){if(e.key){var t=vT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gx,charCode:function(e){return e.type==="keypress"?pu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_T=Qr(jT),NT=_t({},Vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ky=Qr(NT),ST=_t({},Jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gx}),kT=Qr(ST),CT=_t({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ET=Qr(CT),RT=_t({},Vh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PT=Qr(RT),TT=[9,13,27,32],xx=Cn&&"CompositionEvent"in window,Ql=null;Cn&&"documentMode"in document&&(Ql=document.documentMode);var AT=Cn&&"TextEvent"in window&&!Ql,Gj=Cn&&(!xx||Ql&&8<Ql&&11>=Ql),Yy=" ",Qy=!1;function Kj(e,t){switch(e){case"keyup":return TT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var to=!1;function IT(e,t){switch(e){case"compositionend":return Yj(t);case"keypress":return t.which!==32?null:(Qy=!0,Yy);case"textInput":return e=t.data,e===Yy&&Qy?null:e;default:return null}}function OT(e,t){if(to)return e==="compositionend"||!xx&&Kj(e,t)?(e=Hj(),mu=mx=la=null,to=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gj&&t.locale!=="ko"?null:t.data;default:return null}}var MT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MT[e.type]:t==="textarea"}function Qj(e,t,r,n){Cj(n),t=Lu(t,"onChange"),0<t.length&&(r=new px("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xl=null,xc=null;function DT(e){o_(e,0)}function Bh(e){var t=no(e);if(wj(t))return e}function FT(e,t){if(e==="change")return t}var Xj=!1;if(Cn){var sm;if(Cn){var nm="oninput"in document;if(!nm){var Zy=document.createElement("div");Zy.setAttribute("oninput","return;"),nm=typeof Zy.oninput=="function"}sm=nm}else sm=!1;Xj=sm&&(!document.documentMode||9<document.documentMode)}function Jy(){Xl&&(Xl.detachEvent("onpropertychange",Zj),xc=Xl=null)}function Zj(e){if(e.propertyName==="value"&&Bh(xc)){var t=[];Qj(t,xc,e,cx(e)),Tj(DT,t)}}function LT(e,t,r){e==="focusin"?(Jy(),Xl=t,xc=r,Xl.attachEvent("onpropertychange",Zj)):e==="focusout"&&Jy()}function $T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bh(xc)}function UT(e,t){if(e==="click")return Bh(t)}function VT(e,t){if(e==="input"||e==="change")return Bh(t)}function BT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cs=typeof Object.is=="function"?Object.is:BT;function vc(e,t){if(Cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Zm.call(t,a)||!Cs(e[a],t[a]))return!1}return!0}function ew(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tw(e,t){var r=ew(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ew(r)}}function Jj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function e_(){for(var e=window,t=Tu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Tu(e.document)}return t}function vx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zT(e){var t=e_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Jj(r.ownerDocument.documentElement,r)){if(n!==null&&vx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=tw(r,i);var o=tw(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WT=Cn&&"documentMode"in document&&11>=document.documentMode,ro=null,xp=null,Zl=null,vp=!1;function rw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vp||ro==null||ro!==Tu(n)||(n=ro,"selectionStart"in n&&vx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zl&&vc(Zl,n)||(Zl=n,n=Lu(xp,"onSelect"),0<n.length&&(t=new px("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ro)))}function Vd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var so={animationend:Vd("Animation","AnimationEnd"),animationiteration:Vd("Animation","AnimationIteration"),animationstart:Vd("Animation","AnimationStart"),transitionend:Vd("Transition","TransitionEnd")},am={},t_={};Cn&&(t_=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function zh(e){if(am[e])return am[e];if(!so[e])return e;var t=so[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in t_)return am[e]=t[r];return e}var r_=zh("animationend"),s_=zh("animationiteration"),n_=zh("animationstart"),a_=zh("transitionend"),i_=new Map,sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(e,t){i_.set(e,t),Ti(t,[e])}for(var im=0;im<sw.length;im++){var om=sw[im],qT=om.toLowerCase(),HT=om[0].toUpperCase()+om.slice(1);Oa(qT,"on"+HT)}Oa(r_,"onAnimationEnd");Oa(s_,"onAnimationIteration");Oa(n_,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(a_,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vl));function nw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qP(n,t,void 0,e),e.currentTarget=null}function o_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;nw(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;nw(a,l,d),i=c}}}if(Iu)throw e=fp,Iu=!1,fp=null,e}function pt(e,t){var r=t[_p];r===void 0&&(r=t[_p]=new Set);var n=e+"__bubble";r.has(n)||(l_(t,e,2,!1),r.add(n))}function lm(e,t,r){var n=0;t&&(n|=4),l_(r,e,n,t)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function yc(e){if(!e[Bd]){e[Bd]=!0,pj.forEach(function(r){r!=="selectionchange"&&(GT.has(r)||lm(r,!1,e),lm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bd]||(t[Bd]=!0,lm("selectionchange",!1,t))}}function l_(e,t,r,n){switch(qj(t)){case 1:var a=oT;break;case 4:a=lT;break;default:a=fx}r=a.bind(null,t,r,e),a=void 0,!hp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function cm(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ei(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Tj(function(){var d=i,u=cx(r),h=[];e:{var m=i_.get(e);if(m!==void 0){var p=px,w=e;switch(e){case"keypress":if(pu(r)===0)break e;case"keydown":case"keyup":p=_T;break;case"focusin":w="focus",p=rm;break;case"focusout":w="blur",p=rm;break;case"beforeblur":case"afterblur":p=rm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Hy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kT;break;case r_:case s_:case n_:p=mT;break;case a_:p=ET;break;case"scroll":p=cT;break;case"wheel":p=PT;break;case"copy":case"cut":case"paste":p=gT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ky}var y=(t&4)!==0,v=!y&&e==="scroll",b=y?m!==null?m+"Capture":null:m;y=[];for(var g=d,x;g!==null;){x=g;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,b!==null&&(j=fc(g,b),j!=null&&y.push(wc(g,j,x)))),v)break;g=g.return}0<y.length&&(m=new p(m,w,null,r,u),h.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&r!==dp&&(w=r.relatedTarget||r.fromElement)&&(ei(w)||w[En]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=d,w=w?ei(w):null,w!==null&&(v=Ai(w),w!==v||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=d),p!==w)){if(y=Hy,j="onMouseLeave",b="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ky,j="onPointerLeave",b="onPointerEnter",g="pointer"),v=p==null?m:no(p),x=w==null?m:no(w),m=new y(j,g+"leave",p,r,u),m.target=v,m.relatedTarget=x,j=null,ei(u)===d&&(y=new y(b,g+"enter",w,r,u),y.target=x,y.relatedTarget=v,j=y),v=j,p&&w)t:{for(y=p,b=w,g=0,x=y;x;x=$i(x))g++;for(x=0,j=b;j;j=$i(j))x++;for(;0<g-x;)y=$i(y),g--;for(;0<x-g;)b=$i(b),x--;for(;g--;){if(y===b||b!==null&&y===b.alternate)break t;y=$i(y),b=$i(b)}y=null}else y=null;p!==null&&aw(h,m,p,y,!1),w!==null&&v!==null&&aw(h,v,w,y,!0)}}e:{if(m=d?no(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var _=FT;else if(Xy(m))if(Xj)_=VT;else{_=$T;var N=LT}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=UT);if(_&&(_=_(e,d))){Qj(h,_,r,u);break e}N&&N(e,m,d),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&ap(m,"number",m.value)}switch(N=d?no(d):window,e){case"focusin":(Xy(N)||N.contentEditable==="true")&&(ro=N,xp=d,Zl=null);break;case"focusout":Zl=xp=ro=null;break;case"mousedown":vp=!0;break;case"contextmenu":case"mouseup":case"dragend":vp=!1,rw(h,r,u);break;case"selectionchange":if(WT)break;case"keydown":case"keyup":rw(h,r,u)}var k;if(xx)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else to?Kj(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Gj&&r.locale!=="ko"&&(to||S!=="onCompositionStart"?S==="onCompositionEnd"&&to&&(k=Hj()):(la=u,mx="value"in la?la.value:la.textContent,to=!0)),N=Lu(d,S),0<N.length&&(S=new Gy(S,e,null,r,u),h.push({event:S,listeners:N}),k?S.data=k:(k=Yj(r),k!==null&&(S.data=k)))),(k=AT?IT(e,r):OT(e,r))&&(d=Lu(d,"onBeforeInput"),0<d.length&&(u=new Gy("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=k))}o_(h,t)})}function wc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Lu(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=fc(e,r),i!=null&&n.unshift(wc(e,i,a)),i=fc(e,t),i!=null&&n.push(wc(e,i,a))),e=e.return}return n}function $i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function aw(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=fc(r,i),c!=null&&o.unshift(wc(r,c,l))):a||(c=fc(r,i),c!=null&&o.push(wc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var KT=/\r\n?/g,YT=/\u0000|\uFFFD/g;function iw(e){return(typeof e=="string"?e:""+e).replace(KT,`
`).replace(YT,"")}function zd(e,t,r){if(t=iw(t),iw(e)!==t&&r)throw Error(Z(425))}function $u(){}var yp=null,wp=null;function bp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jp=typeof setTimeout=="function"?setTimeout:void 0,QT=typeof clearTimeout=="function"?clearTimeout:void 0,ow=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof ow<"u"?function(e){return ow.resolve(null).then(e).catch(ZT)}:jp;function ZT(e){setTimeout(function(){throw e})}function dm(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),gc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);gc(t)}function pa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var al=Math.random().toString(36).slice(2),Ws="__reactFiber$"+al,bc="__reactProps$"+al,En="__reactContainer$"+al,_p="__reactEvents$"+al,JT="__reactListeners$"+al,eA="__reactHandles$"+al;function ei(e){var t=e[Ws];if(t)return t;for(var r=e.parentNode;r;){if(t=r[En]||r[Ws]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=lw(e);e!==null;){if(r=e[Ws])return r;e=lw(e)}return t}e=r,r=e.parentNode}return null}function ed(e){return e=e[Ws]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function no(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function Wh(e){return e[bc]||null}var Np=[],ao=-1;function Ma(e){return{current:e}}function gt(e){0>ao||(e.current=Np[ao],Np[ao]=null,ao--)}function ft(e,t){ao++,Np[ao]=e.current,e.current=t}var ka={},nr=Ma(ka),Ir=Ma(!1),pi=ka;function Fo(e,t){var r=e.type.contextTypes;if(!r)return ka;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Or(e){return e=e.childContextTypes,e!=null}function Uu(){gt(Ir),gt(nr)}function cw(e,t,r){if(nr.current!==ka)throw Error(Z(168));ft(nr,t),ft(Ir,r)}function c_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Z(108,LP(e)||"Unknown",a));return _t({},r,n)}function Vu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ka,pi=nr.current,ft(nr,e),ft(Ir,Ir.current),!0}function dw(e,t,r){var n=e.stateNode;if(!n)throw Error(Z(169));r?(e=c_(e,t,pi),n.__reactInternalMemoizedMergedChildContext=e,gt(Ir),gt(nr),ft(nr,e)):gt(Ir),ft(Ir,r)}var gn=null,qh=!1,um=!1;function d_(e){gn===null?gn=[e]:gn.push(e)}function tA(e){qh=!0,d_(e)}function Da(){if(!um&&gn!==null){um=!0;var e=0,t=nt;try{var r=gn;for(nt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gn=null,qh=!1}catch(a){throw gn!==null&&(gn=gn.slice(e+1)),Mj(dx,Da),a}finally{nt=t,um=!1}}return null}var io=[],oo=0,Bu=null,zu=0,es=[],ts=0,gi=null,yn=1,wn="";function Ka(e,t){io[oo++]=zu,io[oo++]=Bu,Bu=e,zu=t}function u_(e,t,r){es[ts++]=yn,es[ts++]=wn,es[ts++]=gi,gi=e;var n=yn;e=wn;var a=32-Ss(n)-1;n&=~(1<<a),r+=1;var i=32-Ss(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,yn=1<<32-Ss(t)+a|r<<a|n,wn=i+e}else yn=1<<i|r<<a|n,wn=e}function yx(e){e.return!==null&&(Ka(e,1),u_(e,1,0))}function wx(e){for(;e===Bu;)Bu=io[--oo],io[oo]=null,zu=io[--oo],io[oo]=null;for(;e===gi;)gi=es[--ts],es[ts]=null,wn=es[--ts],es[ts]=null,yn=es[--ts],es[ts]=null}var zr=null,Vr=null,yt=!1,js=null;function h_(e,t){var r=rs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function uw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zr=e,Vr=pa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zr=e,Vr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gi!==null?{id:yn,overflow:wn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,zr=e,Vr=null,!0):!1;default:return!1}}function Sp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kp(e){if(yt){var t=Vr;if(t){var r=t;if(!uw(e,t)){if(Sp(e))throw Error(Z(418));t=pa(r.nextSibling);var n=zr;t&&uw(e,t)?h_(n,r):(e.flags=e.flags&-4097|2,yt=!1,zr=e)}}else{if(Sp(e))throw Error(Z(418));e.flags=e.flags&-4097|2,yt=!1,zr=e}}}function hw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zr=e}function Wd(e){if(e!==zr)return!1;if(!yt)return hw(e),yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bp(e.type,e.memoizedProps)),t&&(t=Vr)){if(Sp(e))throw f_(),Error(Z(418));for(;t;)h_(e,t),t=pa(t.nextSibling)}if(hw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Vr=pa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Vr=null}}else Vr=zr?pa(e.stateNode.nextSibling):null;return!0}function f_(){for(var e=Vr;e;)e=pa(e.nextSibling)}function Lo(){Vr=zr=null,yt=!1}function bx(e){js===null?js=[e]:js.push(e)}var rA=On.ReactCurrentBatchConfig;function kl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,e))}return e}function qd(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fw(e){var t=e._init;return t(e._payload)}function m_(e){function t(b,g){if(e){var x=b.deletions;x===null?(b.deletions=[g],b.flags|=16):x.push(g)}}function r(b,g){if(!e)return null;for(;g!==null;)t(b,g),g=g.sibling;return null}function n(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function a(b,g){return b=ya(b,g),b.index=0,b.sibling=null,b}function i(b,g,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<g?(b.flags|=2,g):x):(b.flags|=2,g)):(b.flags|=1048576,g)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,g,x,j){return g===null||g.tag!==6?(g=vm(x,b.mode,j),g.return=b,g):(g=a(g,x),g.return=b,g)}function c(b,g,x,j){var _=x.type;return _===eo?u(b,g,x.props.children,j,x.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Kn&&fw(_)===g.type)?(j=a(g,x.props),j.ref=kl(b,g,x),j.return=b,j):(j=ju(x.type,x.key,x.props,null,b.mode,j),j.ref=kl(b,g,x),j.return=b,j)}function d(b,g,x,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=ym(x,b.mode,j),g.return=b,g):(g=a(g,x.children||[]),g.return=b,g)}function u(b,g,x,j,_){return g===null||g.tag!==7?(g=mi(x,b.mode,j,_),g.return=b,g):(g=a(g,x),g.return=b,g)}function h(b,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=vm(""+g,b.mode,x),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Od:return x=ju(g.type,g.key,g.props,null,b.mode,x),x.ref=kl(b,null,g),x.return=b,x;case Ji:return g=ym(g,b.mode,x),g.return=b,g;case Kn:var j=g._init;return h(b,j(g._payload),x)}if($l(g)||bl(g))return g=mi(g,b.mode,x,null),g.return=b,g;qd(b,g)}return null}function m(b,g,x,j){var _=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:l(b,g,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Od:return x.key===_?c(b,g,x,j):null;case Ji:return x.key===_?d(b,g,x,j):null;case Kn:return _=x._init,m(b,g,_(x._payload),j)}if($l(x)||bl(x))return _!==null?null:u(b,g,x,j,null);qd(b,x)}return null}function p(b,g,x,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(x)||null,l(g,b,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Od:return b=b.get(j.key===null?x:j.key)||null,c(g,b,j,_);case Ji:return b=b.get(j.key===null?x:j.key)||null,d(g,b,j,_);case Kn:var N=j._init;return p(b,g,x,N(j._payload),_)}if($l(j)||bl(j))return b=b.get(x)||null,u(g,b,j,_,null);qd(g,j)}return null}function w(b,g,x,j){for(var _=null,N=null,k=g,S=g=0,E=null;k!==null&&S<x.length;S++){k.index>S?(E=k,k=null):E=k.sibling;var I=m(b,k,x[S],j);if(I===null){k===null&&(k=E);break}e&&k&&I.alternate===null&&t(b,k),g=i(I,g,S),N===null?_=I:N.sibling=I,N=I,k=E}if(S===x.length)return r(b,k),yt&&Ka(b,S),_;if(k===null){for(;S<x.length;S++)k=h(b,x[S],j),k!==null&&(g=i(k,g,S),N===null?_=k:N.sibling=k,N=k);return yt&&Ka(b,S),_}for(k=n(b,k);S<x.length;S++)E=p(k,b,S,x[S],j),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?S:E.key),g=i(E,g,S),N===null?_=E:N.sibling=E,N=E);return e&&k.forEach(function(P){return t(b,P)}),yt&&Ka(b,S),_}function y(b,g,x,j){var _=bl(x);if(typeof _!="function")throw Error(Z(150));if(x=_.call(x),x==null)throw Error(Z(151));for(var N=_=null,k=g,S=g=0,E=null,I=x.next();k!==null&&!I.done;S++,I=x.next()){k.index>S?(E=k,k=null):E=k.sibling;var P=m(b,k,I.value,j);if(P===null){k===null&&(k=E);break}e&&k&&P.alternate===null&&t(b,k),g=i(P,g,S),N===null?_=P:N.sibling=P,N=P,k=E}if(I.done)return r(b,k),yt&&Ka(b,S),_;if(k===null){for(;!I.done;S++,I=x.next())I=h(b,I.value,j),I!==null&&(g=i(I,g,S),N===null?_=I:N.sibling=I,N=I);return yt&&Ka(b,S),_}for(k=n(b,k);!I.done;S++,I=x.next())I=p(k,b,S,I.value,j),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?S:I.key),g=i(I,g,S),N===null?_=I:N.sibling=I,N=I);return e&&k.forEach(function(C){return t(b,C)}),yt&&Ka(b,S),_}function v(b,g,x,j){if(typeof x=="object"&&x!==null&&x.type===eo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Od:e:{for(var _=x.key,N=g;N!==null;){if(N.key===_){if(_=x.type,_===eo){if(N.tag===7){r(b,N.sibling),g=a(N,x.props.children),g.return=b,b=g;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Kn&&fw(_)===N.type){r(b,N.sibling),g=a(N,x.props),g.ref=kl(b,N,x),g.return=b,b=g;break e}r(b,N);break}else t(b,N);N=N.sibling}x.type===eo?(g=mi(x.props.children,b.mode,j,x.key),g.return=b,b=g):(j=ju(x.type,x.key,x.props,null,b.mode,j),j.ref=kl(b,g,x),j.return=b,b=j)}return o(b);case Ji:e:{for(N=x.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(b,g.sibling),g=a(g,x.children||[]),g.return=b,b=g;break e}else{r(b,g);break}else t(b,g);g=g.sibling}g=ym(x,b.mode,j),g.return=b,b=g}return o(b);case Kn:return N=x._init,v(b,g,N(x._payload),j)}if($l(x))return w(b,g,x,j);if(bl(x))return y(b,g,x,j);qd(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(b,g.sibling),g=a(g,x),g.return=b,b=g):(r(b,g),g=vm(x,b.mode,j),g.return=b,b=g),o(b)):r(b,g)}return v}var $o=m_(!0),p_=m_(!1),Wu=Ma(null),qu=null,lo=null,jx=null;function _x(){jx=lo=qu=null}function Nx(e){var t=Wu.current;gt(Wu),e._currentValue=t}function Cp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function go(e,t){qu=e,jx=lo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ar=!0),e.firstContext=null)}function is(e){var t=e._currentValue;if(jx!==e)if(e={context:e,memoizedValue:t,next:null},lo===null){if(qu===null)throw Error(Z(308));lo=e,qu.dependencies={lanes:0,firstContext:e}}else lo=lo.next=e;return t}var ti=null;function Sx(e){ti===null?ti=[e]:ti.push(e)}function g_(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Sx(t)):(r.next=a.next,a.next=r),t.interleaved=r,Rn(e,n)}function Rn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yn=!1;function kx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ga(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,qe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Rn(e,r)}return a=n.interleaved,a===null?(t.next=t,Sx(n)):(t.next=a.next,a.next=t),n.interleaved=t,Rn(e,r)}function gu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ux(e,r)}}function mw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hu(e,t,r,n){var a=e.updateQueue;Yn=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,y=l;switch(m=t,p=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(p,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,m=typeof w=="function"?w.call(p,h,m):w,m==null)break e;h=_t({},h,m);break e;case 2:Yn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);vi|=o,e.lanes=o,e.memoizedState=h}}function pw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Z(191,a));a.call(n)}}}var td={},Qs=Ma(td),jc=Ma(td),_c=Ma(td);function ri(e){if(e===td)throw Error(Z(174));return e}function Cx(e,t){switch(ft(_c,t),ft(jc,e),ft(Qs,td),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:op(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=op(t,e)}gt(Qs),ft(Qs,t)}function Uo(){gt(Qs),gt(jc),gt(_c)}function v_(e){ri(_c.current);var t=ri(Qs.current),r=op(t,e.type);t!==r&&(ft(jc,e),ft(Qs,r))}function Ex(e){jc.current===e&&(gt(Qs),gt(jc))}var wt=Ma(0);function Gu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hm=[];function Rx(){for(var e=0;e<hm.length;e++)hm[e]._workInProgressVersionPrimary=null;hm.length=0}var xu=On.ReactCurrentDispatcher,fm=On.ReactCurrentBatchConfig,xi=0,jt=null,Bt=null,Ht=null,Ku=!1,Jl=!1,Nc=0,sA=0;function er(){throw Error(Z(321))}function Px(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cs(e[r],t[r]))return!1;return!0}function Tx(e,t,r,n,a,i){if(xi=i,jt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xu.current=e===null||e.memoizedState===null?oA:lA,e=r(n,a),Jl){i=0;do{if(Jl=!1,Nc=0,25<=i)throw Error(Z(301));i+=1,Ht=Bt=null,t.updateQueue=null,xu.current=cA,e=r(n,a)}while(Jl)}if(xu.current=Yu,t=Bt!==null&&Bt.next!==null,xi=0,Ht=Bt=jt=null,Ku=!1,t)throw Error(Z(300));return e}function Ax(){var e=Nc!==0;return Nc=0,e}function $s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?jt.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function os(){if(Bt===null){var e=jt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var t=Ht===null?jt.memoizedState:Ht.next;if(t!==null)Ht=t,Bt=e;else{if(e===null)throw Error(Z(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Ht===null?jt.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function Sc(e,t){return typeof t=="function"?t(e):t}function mm(e){var t=os(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=Bt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((xi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,jt.lanes|=u,vi|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Cs(n,t.memoizedState)||(Ar=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,jt.lanes|=i,vi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function pm(e){var t=os(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Cs(i,t.memoizedState)||(Ar=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function y_(){}function w_(e,t){var r=jt,n=os(),a=t(),i=!Cs(n.memoizedState,a);if(i&&(n.memoizedState=a,Ar=!0),n=n.queue,Ix(__.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ht!==null&&Ht.memoizedState.tag&1){if(r.flags|=2048,kc(9,j_.bind(null,r,n,a,t),void 0,null),Gt===null)throw Error(Z(349));xi&30||b_(r,t,a)}return a}function b_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=jt.updateQueue,t===null?(t={lastEffect:null,stores:null},jt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function j_(e,t,r,n){t.value=r,t.getSnapshot=n,N_(t)&&S_(e)}function __(e,t,r){return r(function(){N_(t)&&S_(e)})}function N_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cs(e,r)}catch{return!0}}function S_(e){var t=Rn(e,1);t!==null&&ks(t,e,1,-1)}function gw(e){var t=$s();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:e},t.queue=e,e=e.dispatch=iA.bind(null,jt,e),[t.memoizedState,e]}function kc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=jt.updateQueue,t===null?(t={lastEffect:null,stores:null},jt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function k_(){return os().memoizedState}function vu(e,t,r,n){var a=$s();jt.flags|=e,a.memoizedState=kc(1|t,r,void 0,n===void 0?null:n)}function Hh(e,t,r,n){var a=os();n=n===void 0?null:n;var i=void 0;if(Bt!==null){var o=Bt.memoizedState;if(i=o.destroy,n!==null&&Px(n,o.deps)){a.memoizedState=kc(t,r,i,n);return}}jt.flags|=e,a.memoizedState=kc(1|t,r,i,n)}function xw(e,t){return vu(8390656,8,e,t)}function Ix(e,t){return Hh(2048,8,e,t)}function C_(e,t){return Hh(4,2,e,t)}function E_(e,t){return Hh(4,4,e,t)}function R_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function P_(e,t,r){return r=r!=null?r.concat([e]):null,Hh(4,4,R_.bind(null,t,e),r)}function Ox(){}function T_(e,t){var r=os();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Px(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function A_(e,t){var r=os();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Px(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function I_(e,t,r){return xi&21?(Cs(r,t)||(r=Lj(),jt.lanes|=r,vi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ar=!0),e.memoizedState=r)}function nA(e,t){var r=nt;nt=r!==0&&4>r?r:4,e(!0);var n=fm.transition;fm.transition={};try{e(!1),t()}finally{nt=r,fm.transition=n}}function O_(){return os().memoizedState}function aA(e,t,r){var n=va(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},M_(e))D_(t,r);else if(r=g_(e,t,r,n),r!==null){var a=gr();ks(r,e,n,a),F_(r,t,n)}}function iA(e,t,r){var n=va(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(M_(e))D_(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Cs(l,o)){var c=t.interleaved;c===null?(a.next=a,Sx(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=g_(e,t,a,n),r!==null&&(a=gr(),ks(r,e,n,a),F_(r,t,n))}}function M_(e){var t=e.alternate;return e===jt||t!==null&&t===jt}function D_(e,t){Jl=Ku=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function F_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ux(e,r)}}var Yu={readContext:is,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},oA={readContext:is,useCallback:function(e,t){return $s().memoizedState=[e,t===void 0?null:t],e},useContext:is,useEffect:xw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vu(4194308,4,R_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vu(4194308,4,e,t)},useInsertionEffect:function(e,t){return vu(4,2,e,t)},useMemo:function(e,t){var r=$s();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$s();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=aA.bind(null,jt,e),[n.memoizedState,e]},useRef:function(e){var t=$s();return e={current:e},t.memoizedState=e},useState:gw,useDebugValue:Ox,useDeferredValue:function(e){return $s().memoizedState=e},useTransition:function(){var e=gw(!1),t=e[0];return e=nA.bind(null,e[1]),$s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=jt,a=$s();if(yt){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=t(),Gt===null)throw Error(Z(349));xi&30||b_(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,xw(__.bind(null,n,i,e),[e]),n.flags|=2048,kc(9,j_.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=$s(),t=Gt.identifierPrefix;if(yt){var r=wn,n=yn;r=(n&~(1<<32-Ss(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Nc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sA++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lA={readContext:is,useCallback:T_,useContext:is,useEffect:Ix,useImperativeHandle:P_,useInsertionEffect:C_,useLayoutEffect:E_,useMemo:A_,useReducer:mm,useRef:k_,useState:function(){return mm(Sc)},useDebugValue:Ox,useDeferredValue:function(e){var t=os();return I_(t,Bt.memoizedState,e)},useTransition:function(){var e=mm(Sc)[0],t=os().memoizedState;return[e,t]},useMutableSource:y_,useSyncExternalStore:w_,useId:O_,unstable_isNewReconciler:!1},cA={readContext:is,useCallback:T_,useContext:is,useEffect:Ix,useImperativeHandle:P_,useInsertionEffect:C_,useLayoutEffect:E_,useMemo:A_,useReducer:pm,useRef:k_,useState:function(){return pm(Sc)},useDebugValue:Ox,useDeferredValue:function(e){var t=os();return Bt===null?t.memoizedState=e:I_(t,Bt.memoizedState,e)},useTransition:function(){var e=pm(Sc)[0],t=os().memoizedState;return[e,t]},useMutableSource:y_,useSyncExternalStore:w_,useId:O_,unstable_isNewReconciler:!1};function xs(e,t){if(e&&e.defaultProps){t=_t({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ep(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_t({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gh={isMounted:function(e){return(e=e._reactInternals)?Ai(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gr(),a=va(e),i=jn(n,a);i.payload=t,r!=null&&(i.callback=r),t=ga(e,i,a),t!==null&&(ks(t,e,a,n),gu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gr(),a=va(e),i=jn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ga(e,i,a),t!==null&&(ks(t,e,a,n),gu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gr(),n=va(e),a=jn(r,n);a.tag=2,t!=null&&(a.callback=t),t=ga(e,a,n),t!==null&&(ks(t,e,n,r),gu(t,e,n))}};function vw(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!vc(r,n)||!vc(a,i):!0}function L_(e,t,r){var n=!1,a=ka,i=t.contextType;return typeof i=="object"&&i!==null?i=is(i):(a=Or(t)?pi:nr.current,n=t.contextTypes,i=(n=n!=null)?Fo(e,a):ka),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function yw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gh.enqueueReplaceState(t,t.state,null)}function Rp(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},kx(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=is(i):(i=Or(t)?pi:nr.current,a.context=Fo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ep(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Gh.enqueueReplaceState(a,a.state,null),Hu(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Vo(e,t){try{var r="",n=t;do r+=FP(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function gm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Pp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dA=typeof WeakMap=="function"?WeakMap:Map;function $_(e,t,r){r=jn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xu||(Xu=!0,Up=n),Pp(e,t)},r}function U_(e,t,r){r=jn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Pp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Pp(e,t),typeof n!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ww(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new dA;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=NA.bind(null,e,t,r),t.then(e,e))}function bw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jw(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jn(-1,1),t.tag=2,ga(r,t,1))),r.lanes|=1),e)}var uA=On.ReactCurrentOwner,Ar=!1;function dr(e,t,r,n){t.child=e===null?p_(t,null,r,n):$o(t,e.child,r,n)}function _w(e,t,r,n,a){r=r.render;var i=t.ref;return go(t,a),n=Tx(e,t,r,n,i,a),r=Ax(),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pn(e,t,a)):(yt&&r&&yx(t),t.flags|=1,dr(e,t,n,a),t.child)}function Nw(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Bx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,V_(e,t,i,n,a)):(e=ju(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:vc,r(o,n)&&e.ref===t.ref)return Pn(e,t,a)}return t.flags|=1,e=ya(i,n),e.ref=t.ref,e.return=t,t.child=e}function V_(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(vc(i,n)&&e.ref===t.ref)if(Ar=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ar=!0);else return t.lanes=e.lanes,Pn(e,t,a)}return Tp(e,t,r,n,a)}function B_(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(uo,Fr),Fr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ft(uo,Fr),Fr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ft(uo,Fr),Fr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ft(uo,Fr),Fr|=n;return dr(e,t,a,r),t.child}function z_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Tp(e,t,r,n,a){var i=Or(r)?pi:nr.current;return i=Fo(t,i),go(t,a),r=Tx(e,t,r,n,i,a),n=Ax(),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pn(e,t,a)):(yt&&n&&yx(t),t.flags|=1,dr(e,t,r,a),t.child)}function Sw(e,t,r,n,a){if(Or(r)){var i=!0;Vu(t)}else i=!1;if(go(t,a),t.stateNode===null)yu(e,t),L_(t,r,n),Rp(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=is(d):(d=Or(r)?pi:nr.current,d=Fo(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&yw(t,o,n,d),Yn=!1;var m=t.memoizedState;o.state=m,Hu(t,n,o,a),c=t.memoizedState,l!==n||m!==c||Ir.current||Yn?(typeof u=="function"&&(Ep(t,r,u,n),c=t.memoizedState),(l=Yn||vw(t,r,l,n,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,x_(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:xs(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=is(c):(c=Or(r)?pi:nr.current,c=Fo(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&yw(t,o,n,c),Yn=!1,m=t.memoizedState,o.state=m,Hu(t,n,o,a);var w=t.memoizedState;l!==h||m!==w||Ir.current||Yn?(typeof p=="function"&&(Ep(t,r,p,n),w=t.memoizedState),(d=Yn||vw(t,r,d,n,m,w,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Ap(e,t,r,n,i,a)}function Ap(e,t,r,n,a,i){z_(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&dw(t,r,!1),Pn(e,t,i);n=t.stateNode,uA.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=$o(t,e.child,null,i),t.child=$o(t,null,l,i)):dr(e,t,l,i),t.memoizedState=n.state,a&&dw(t,r,!0),t.child}function W_(e){var t=e.stateNode;t.pendingContext?cw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cw(e,t.context,!1),Cx(e,t.containerInfo)}function kw(e,t,r,n,a){return Lo(),bx(a),t.flags|=256,dr(e,t,r,n),t.child}var Ip={dehydrated:null,treeContext:null,retryLane:0};function Op(e){return{baseLanes:e,cachePool:null,transitions:null}}function q_(e,t,r){var n=t.pendingProps,a=wt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ft(wt,a&1),e===null)return kp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Qh(o,n,0,null),e=mi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Op(r),t.memoizedState=Ip,e):Mx(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return hA(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ya(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ya(l,i):(i=mi(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Op(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ip,n}return i=e.child,e=i.sibling,n=ya(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Mx(e,t){return t=Qh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hd(e,t,r,n){return n!==null&&bx(n),$o(t,e.child,null,r),e=Mx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hA(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=gm(Error(Z(422))),Hd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Qh({mode:"visible",children:n.children},a,0,null),i=mi(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&$o(t,e.child,null,o),t.child.memoizedState=Op(o),t.memoizedState=Ip,i);if(!(t.mode&1))return Hd(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Z(419)),n=gm(i,n,void 0),Hd(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ar||l){if(n=Gt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Rn(e,a),ks(n,e,a,-1))}return Vx(),n=gm(Error(Z(421))),Hd(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=SA.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Vr=pa(a.nextSibling),zr=t,yt=!0,js=null,e!==null&&(es[ts++]=yn,es[ts++]=wn,es[ts++]=gi,yn=e.id,wn=e.overflow,gi=t),t=Mx(t,n.children),t.flags|=4096,t)}function Cw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Cp(e.return,t,r)}function xm(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function H_(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(dr(e,t,n.children,r),n=wt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cw(e,r,t);else if(e.tag===19)Cw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ft(wt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Gu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),xm(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Gu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}xm(t,!0,r,null,i);break;case"together":xm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,r=ya(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ya(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function fA(e,t,r){switch(t.tag){case 3:W_(t),Lo();break;case 5:v_(t);break;case 1:Or(t.type)&&Vu(t);break;case 4:Cx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ft(Wu,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ft(wt,wt.current&1),t.flags|=128,null):r&t.child.childLanes?q_(e,t,r):(ft(wt,wt.current&1),e=Pn(e,t,r),e!==null?e.sibling:null);ft(wt,wt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return H_(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ft(wt,wt.current),n)break;return null;case 22:case 23:return t.lanes=0,B_(e,t,r)}return Pn(e,t,r)}var G_,Mp,K_,Y_;G_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Mp=function(){};K_=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ri(Qs.current);var i=null;switch(r){case"input":a=sp(e,a),n=sp(e,n),i=[];break;case"select":a=_t({},a,{value:void 0}),n=_t({},n,{value:void 0}),i=[];break;case"textarea":a=ip(e,a),n=ip(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$u)}lp(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(uc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(uc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&pt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Y_=function(e,t,r,n){r!==n&&(t.flags|=4)};function Cl(e,t){if(!yt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function mA(e,t,r){var n=t.pendingProps;switch(wx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(t),null;case 1:return Or(t.type)&&Uu(),tr(t),null;case 3:return n=t.stateNode,Uo(),gt(Ir),gt(nr),Rx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,js!==null&&(zp(js),js=null))),Mp(e,t),tr(t),null;case 5:Ex(t);var a=ri(_c.current);if(r=t.type,e!==null&&t.stateNode!=null)K_(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Z(166));return tr(t),null}if(e=ri(Qs.current),Wd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ws]=t,n[bc]=i,e=(t.mode&1)!==0,r){case"dialog":pt("cancel",n),pt("close",n);break;case"iframe":case"object":case"embed":pt("load",n);break;case"video":case"audio":for(a=0;a<Vl.length;a++)pt(Vl[a],n);break;case"source":pt("error",n);break;case"img":case"image":case"link":pt("error",n),pt("load",n);break;case"details":pt("toggle",n);break;case"input":Dy(n,i),pt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},pt("invalid",n);break;case"textarea":Ly(n,i),pt("invalid",n)}lp(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&zd(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&zd(n.textContent,l,e),a=["children",""+l]):uc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&pt("scroll",n)}switch(r){case"input":Md(n),Fy(n,i,!0);break;case"textarea":Md(n),$y(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=$u)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_j(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ws]=t,e[bc]=n,G_(e,t,!1,!1),t.stateNode=e;e:{switch(o=cp(r,n),r){case"dialog":pt("cancel",e),pt("close",e),a=n;break;case"iframe":case"object":case"embed":pt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Vl.length;a++)pt(Vl[a],e);a=n;break;case"source":pt("error",e),a=n;break;case"img":case"image":case"link":pt("error",e),pt("load",e),a=n;break;case"details":pt("toggle",e),a=n;break;case"input":Dy(e,n),a=sp(e,n),pt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=_t({},n,{value:void 0}),pt("invalid",e);break;case"textarea":Ly(e,n),a=ip(e,n),pt("invalid",e);break;default:a=n}lp(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?kj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nj(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&hc(e,c):typeof c=="number"&&hc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(uc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pt("scroll",e):c!=null&&ax(e,i,c,o))}switch(r){case"input":Md(e),Fy(e,n,!1);break;case"textarea":Md(e),$y(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Sa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ho(e,!!n.multiple,i,!1):n.defaultValue!=null&&ho(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=$u)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tr(t),null;case 6:if(e&&t.stateNode!=null)Y_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Z(166));if(r=ri(_c.current),ri(Qs.current),Wd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ws]=t,(i=n.nodeValue!==r)&&(e=zr,e!==null))switch(e.tag){case 3:zd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zd(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ws]=t,t.stateNode=n}return tr(t),null;case 13:if(gt(wt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yt&&Vr!==null&&t.mode&1&&!(t.flags&128))f_(),Lo(),t.flags|=98560,i=!1;else if(i=Wd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[Ws]=t}else Lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tr(t),i=!1}else js!==null&&(zp(js),js=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||wt.current&1?zt===0&&(zt=3):Vx())),t.updateQueue!==null&&(t.flags|=4),tr(t),null);case 4:return Uo(),Mp(e,t),e===null&&yc(t.stateNode.containerInfo),tr(t),null;case 10:return Nx(t.type._context),tr(t),null;case 17:return Or(t.type)&&Uu(),tr(t),null;case 19:if(gt(wt),i=t.memoizedState,i===null)return tr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Cl(i,!1);else{if(zt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gu(e),o!==null){for(t.flags|=128,Cl(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ft(wt,wt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Tt()>Bo&&(t.flags|=128,n=!0,Cl(i,!1),t.lanes=4194304)}else{if(!n)if(e=Gu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Cl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!yt)return tr(t),null}else 2*Tt()-i.renderingStartTime>Bo&&r!==1073741824&&(t.flags|=128,n=!0,Cl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Tt(),t.sibling=null,r=wt.current,ft(wt,n?r&1|2:r&1),t):(tr(t),null);case 22:case 23:return Ux(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fr&1073741824&&(tr(t),t.subtreeFlags&6&&(t.flags|=8192)):tr(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function pA(e,t){switch(wx(t),t.tag){case 1:return Or(t.type)&&Uu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uo(),gt(Ir),gt(nr),Rx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ex(t),null;case 13:if(gt(wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return gt(wt),null;case 4:return Uo(),null;case 10:return Nx(t.type._context),null;case 22:case 23:return Ux(),null;case 24:return null;default:return null}}var Gd=!1,sr=!1,gA=typeof WeakSet=="function"?WeakSet:Set,me=null;function co(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){kt(e,t,n)}else r.current=null}function Dp(e,t,r){try{r()}catch(n){kt(e,t,n)}}var Ew=!1;function xA(e,t){if(yp=Du,e=e_(),vx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===n&&(c=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(wp={focusedElem:e,selectionRange:r},Du=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,v=w.memoizedState,b=t.stateNode,g=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:xs(t.type,y),v);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(j){kt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return w=Ew,Ew=!1,w}function ec(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Dp(t,r,i)}a=a.next}while(a!==n)}}function Kh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Fp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Q_(e){var t=e.alternate;t!==null&&(e.alternate=null,Q_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ws],delete t[bc],delete t[_p],delete t[JT],delete t[eA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function X_(e){return e.tag===5||e.tag===3||e.tag===4}function Rw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||X_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$u));else if(n!==4&&(e=e.child,e!==null))for(Lp(e,t,r),e=e.sibling;e!==null;)Lp(e,t,r),e=e.sibling}function $p(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($p(e,t,r),e=e.sibling;e!==null;)$p(e,t,r),e=e.sibling}var Yt=null,ws=!1;function Un(e,t,r){for(r=r.child;r!==null;)Z_(e,t,r),r=r.sibling}function Z_(e,t,r){if(Ys&&typeof Ys.onCommitFiberUnmount=="function")try{Ys.onCommitFiberUnmount(Uh,r)}catch{}switch(r.tag){case 5:sr||co(r,t);case 6:var n=Yt,a=ws;Yt=null,Un(e,t,r),Yt=n,ws=a,Yt!==null&&(ws?(e=Yt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Yt.removeChild(r.stateNode));break;case 18:Yt!==null&&(ws?(e=Yt,r=r.stateNode,e.nodeType===8?dm(e.parentNode,r):e.nodeType===1&&dm(e,r),gc(e)):dm(Yt,r.stateNode));break;case 4:n=Yt,a=ws,Yt=r.stateNode.containerInfo,ws=!0,Un(e,t,r),Yt=n,ws=a;break;case 0:case 11:case 14:case 15:if(!sr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dp(r,t,o),a=a.next}while(a!==n)}Un(e,t,r);break;case 1:if(!sr&&(co(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){kt(r,t,l)}Un(e,t,r);break;case 21:Un(e,t,r);break;case 22:r.mode&1?(sr=(n=sr)||r.memoizedState!==null,Un(e,t,r),sr=n):Un(e,t,r);break;default:Un(e,t,r)}}function Pw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new gA),t.forEach(function(n){var a=kA.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ms(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yt=l.stateNode,ws=!1;break e;case 3:Yt=l.stateNode.containerInfo,ws=!0;break e;case 4:Yt=l.stateNode.containerInfo,ws=!0;break e}l=l.return}if(Yt===null)throw Error(Z(160));Z_(i,o,a),Yt=null,ws=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){kt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)J_(t,e),t=t.sibling}function J_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),Fs(e),n&4){try{ec(3,e,e.return),Kh(3,e)}catch(y){kt(e,e.return,y)}try{ec(5,e,e.return)}catch(y){kt(e,e.return,y)}}break;case 1:ms(t,e),Fs(e),n&512&&r!==null&&co(r,r.return);break;case 5:if(ms(t,e),Fs(e),n&512&&r!==null&&co(r,r.return),e.flags&32){var a=e.stateNode;try{hc(a,"")}catch(y){kt(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&bj(a,i),cp(l,o);var d=cp(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?kj(a,h):u==="dangerouslySetInnerHTML"?Nj(a,h):u==="children"?hc(a,h):ax(a,u,h,d)}switch(l){case"input":np(a,i);break;case"textarea":jj(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ho(a,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?ho(a,!!i.multiple,i.defaultValue,!0):ho(a,!!i.multiple,i.multiple?[]:"",!1))}a[bc]=i}catch(y){kt(e,e.return,y)}}break;case 6:if(ms(t,e),Fs(e),n&4){if(e.stateNode===null)throw Error(Z(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){kt(e,e.return,y)}}break;case 3:if(ms(t,e),Fs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gc(t.containerInfo)}catch(y){kt(e,e.return,y)}break;case 4:ms(t,e),Fs(e);break;case 13:ms(t,e),Fs(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Lx=Tt())),n&4&&Pw(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(sr=(d=sr)||u,ms(t,e),sr=d):ms(t,e),Fs(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(me=e,u=e.child;u!==null;){for(h=me=u;me!==null;){switch(m=me,p=m.child,m.tag){case 0:case 11:case 14:case 15:ec(4,m,m.return);break;case 1:co(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){kt(n,r,y)}}break;case 5:co(m,m.return);break;case 22:if(m.memoizedState!==null){Aw(h);continue}}p!==null?(p.return=m,me=p):Aw(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Sj("display",o))}catch(y){kt(e,e.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){kt(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),Fs(e),n&4&&Pw(e);break;case 21:break;default:ms(t,e),Fs(e)}}function Fs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(X_(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(hc(a,""),n.flags&=-33);var i=Rw(e);$p(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Rw(e);Lp(e,l,o);break;default:throw Error(Z(161))}}catch(c){kt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vA(e,t,r){me=e,eN(e)}function eN(e,t,r){for(var n=(e.mode&1)!==0;me!==null;){var a=me,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Gd;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||sr;l=Gd;var d=sr;if(Gd=o,(sr=c)&&!d)for(me=a;me!==null;)o=me,c=o.child,o.tag===22&&o.memoizedState!==null?Iw(a):c!==null?(c.return=o,me=c):Iw(a);for(;i!==null;)me=i,eN(i),i=i.sibling;me=a,Gd=l,sr=d}Tw(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,me=i):Tw(e)}}function Tw(e){for(;me!==null;){var t=me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sr||Kh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!sr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:xs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&pw(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}pw(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&gc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}sr||t.flags&512&&Fp(t)}catch(m){kt(t,t.return,m)}}if(t===e){me=null;break}if(r=t.sibling,r!==null){r.return=t.return,me=r;break}me=t.return}}function Aw(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,me=r;break}me=t.return}}function Iw(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Kh(4,t)}catch(c){kt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){kt(t,a,c)}}var i=t.return;try{Fp(t)}catch(c){kt(t,i,c)}break;case 5:var o=t.return;try{Fp(t)}catch(c){kt(t,o,c)}}}catch(c){kt(t,t.return,c)}if(t===e){me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,me=l;break}me=t.return}}var yA=Math.ceil,Qu=On.ReactCurrentDispatcher,Dx=On.ReactCurrentOwner,ss=On.ReactCurrentBatchConfig,qe=0,Gt=null,Ft=null,Xt=0,Fr=0,uo=Ma(0),zt=0,Cc=null,vi=0,Yh=0,Fx=0,tc=null,Rr=null,Lx=0,Bo=1/0,mn=null,Xu=!1,Up=null,xa=null,Kd=!1,ca=null,Zu=0,rc=0,Vp=null,wu=-1,bu=0;function gr(){return qe&6?Tt():wu!==-1?wu:wu=Tt()}function va(e){return e.mode&1?qe&2&&Xt!==0?Xt&-Xt:rA.transition!==null?(bu===0&&(bu=Lj()),bu):(e=nt,e!==0||(e=window.event,e=e===void 0?16:qj(e.type)),e):1}function ks(e,t,r,n){if(50<rc)throw rc=0,Vp=null,Error(Z(185));Zc(e,r,n),(!(qe&2)||e!==Gt)&&(e===Gt&&(!(qe&2)&&(Yh|=r),zt===4&&Zn(e,Xt)),Mr(e,n),r===1&&qe===0&&!(t.mode&1)&&(Bo=Tt()+500,qh&&Da()))}function Mr(e,t){var r=e.callbackNode;rT(e,t);var n=Mu(e,e===Gt?Xt:0);if(n===0)r!==null&&By(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&By(r),t===1)e.tag===0?tA(Ow.bind(null,e)):d_(Ow.bind(null,e)),XT(function(){!(qe&6)&&Da()}),r=null;else{switch($j(n)){case 1:r=dx;break;case 4:r=Dj;break;case 16:r=Ou;break;case 536870912:r=Fj;break;default:r=Ou}r=lN(r,tN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function tN(e,t){if(wu=-1,bu=0,qe&6)throw Error(Z(327));var r=e.callbackNode;if(xo()&&e.callbackNode!==r)return null;var n=Mu(e,e===Gt?Xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ju(e,n);else{t=n;var a=qe;qe|=2;var i=sN();(Gt!==e||Xt!==t)&&(mn=null,Bo=Tt()+500,fi(e,t));do try{jA();break}catch(l){rN(e,l)}while(!0);_x(),Qu.current=i,qe=a,Ft!==null?t=0:(Gt=null,Xt=0,t=zt)}if(t!==0){if(t===2&&(a=mp(e),a!==0&&(n=a,t=Bp(e,a))),t===1)throw r=Cc,fi(e,0),Zn(e,n),Mr(e,Tt()),r;if(t===6)Zn(e,n);else{if(a=e.current.alternate,!(n&30)&&!wA(a)&&(t=Ju(e,n),t===2&&(i=mp(e),i!==0&&(n=i,t=Bp(e,i))),t===1))throw r=Cc,fi(e,0),Zn(e,n),Mr(e,Tt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Z(345));case 2:Ya(e,Rr,mn);break;case 3:if(Zn(e,n),(n&130023424)===n&&(t=Lx+500-Tt(),10<t)){if(Mu(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){gr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=jp(Ya.bind(null,e,Rr,mn),t);break}Ya(e,Rr,mn);break;case 4:if(Zn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ss(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yA(n/1960))-n,10<n){e.timeoutHandle=jp(Ya.bind(null,e,Rr,mn),n);break}Ya(e,Rr,mn);break;case 5:Ya(e,Rr,mn);break;default:throw Error(Z(329))}}}return Mr(e,Tt()),e.callbackNode===r?tN.bind(null,e):null}function Bp(e,t){var r=tc;return e.current.memoizedState.isDehydrated&&(fi(e,t).flags|=256),e=Ju(e,t),e!==2&&(t=Rr,Rr=r,t!==null&&zp(t)),e}function zp(e){Rr===null?Rr=e:Rr.push.apply(Rr,e)}function wA(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Cs(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t){for(t&=~Fx,t&=~Yh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ss(t),n=1<<r;e[r]=-1,t&=~n}}function Ow(e){if(qe&6)throw Error(Z(327));xo();var t=Mu(e,0);if(!(t&1))return Mr(e,Tt()),null;var r=Ju(e,t);if(e.tag!==0&&r===2){var n=mp(e);n!==0&&(t=n,r=Bp(e,n))}if(r===1)throw r=Cc,fi(e,0),Zn(e,t),Mr(e,Tt()),r;if(r===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ya(e,Rr,mn),Mr(e,Tt()),null}function $x(e,t){var r=qe;qe|=1;try{return e(t)}finally{qe=r,qe===0&&(Bo=Tt()+500,qh&&Da())}}function yi(e){ca!==null&&ca.tag===0&&!(qe&6)&&xo();var t=qe;qe|=1;var r=ss.transition,n=nt;try{if(ss.transition=null,nt=1,e)return e()}finally{nt=n,ss.transition=r,qe=t,!(qe&6)&&Da()}}function Ux(){Fr=uo.current,gt(uo)}function fi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,QT(r)),Ft!==null)for(r=Ft.return;r!==null;){var n=r;switch(wx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Uu();break;case 3:Uo(),gt(Ir),gt(nr),Rx();break;case 5:Ex(n);break;case 4:Uo();break;case 13:gt(wt);break;case 19:gt(wt);break;case 10:Nx(n.type._context);break;case 22:case 23:Ux()}r=r.return}if(Gt=e,Ft=e=ya(e.current,null),Xt=Fr=t,zt=0,Cc=null,Fx=Yh=vi=0,Rr=tc=null,ti!==null){for(t=0;t<ti.length;t++)if(r=ti[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}ti=null}return e}function rN(e,t){do{var r=Ft;try{if(_x(),xu.current=Yu,Ku){for(var n=jt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ku=!1}if(xi=0,Ht=Bt=jt=null,Jl=!1,Nc=0,Dx.current=null,r===null||r.return===null){zt=1,Cc=t,Ft=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=bw(o);if(p!==null){p.flags&=-257,jw(p,o,l,i,t),p.mode&1&&ww(i,d,t),t=p,c=d;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){ww(i,d,t),Vx();break e}c=Error(Z(426))}}else if(yt&&l.mode&1){var v=bw(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),jw(v,o,l,i,t),bx(Vo(c,l));break e}}i=c=Vo(c,l),zt!==4&&(zt=2),tc===null?tc=[i]:tc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=$_(i,c,t);mw(i,b);break e;case 1:l=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xa===null||!xa.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=U_(i,l,t);mw(i,j);break e}}i=i.return}while(i!==null)}aN(r)}catch(_){t=_,Ft===r&&r!==null&&(Ft=r=r.return);continue}break}while(!0)}function sN(){var e=Qu.current;return Qu.current=Yu,e===null?Yu:e}function Vx(){(zt===0||zt===3||zt===2)&&(zt=4),Gt===null||!(vi&268435455)&&!(Yh&268435455)||Zn(Gt,Xt)}function Ju(e,t){var r=qe;qe|=2;var n=sN();(Gt!==e||Xt!==t)&&(mn=null,fi(e,t));do try{bA();break}catch(a){rN(e,a)}while(!0);if(_x(),qe=r,Qu.current=n,Ft!==null)throw Error(Z(261));return Gt=null,Xt=0,zt}function bA(){for(;Ft!==null;)nN(Ft)}function jA(){for(;Ft!==null&&!GP();)nN(Ft)}function nN(e){var t=oN(e.alternate,e,Fr);e.memoizedProps=e.pendingProps,t===null?aN(e):Ft=t,Dx.current=null}function aN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pA(r,t),r!==null){r.flags&=32767,Ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zt=6,Ft=null;return}}else if(r=mA(r,t,Fr),r!==null){Ft=r;return}if(t=t.sibling,t!==null){Ft=t;return}Ft=t=e}while(t!==null);zt===0&&(zt=5)}function Ya(e,t,r){var n=nt,a=ss.transition;try{ss.transition=null,nt=1,_A(e,t,r,n)}finally{ss.transition=a,nt=n}return null}function _A(e,t,r,n){do xo();while(ca!==null);if(qe&6)throw Error(Z(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(sT(e,i),e===Gt&&(Ft=Gt=null,Xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Kd||(Kd=!0,lN(Ou,function(){return xo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ss.transition,ss.transition=null;var o=nt;nt=1;var l=qe;qe|=4,Dx.current=null,xA(e,r),J_(r,e),zT(wp),Du=!!yp,wp=yp=null,e.current=r,vA(r),KP(),qe=l,nt=o,ss.transition=i}else e.current=r;if(Kd&&(Kd=!1,ca=e,Zu=a),i=e.pendingLanes,i===0&&(xa=null),XP(r.stateNode),Mr(e,Tt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Xu)throw Xu=!1,e=Up,Up=null,e;return Zu&1&&e.tag!==0&&xo(),i=e.pendingLanes,i&1?e===Vp?rc++:(rc=0,Vp=e):rc=0,Da(),null}function xo(){if(ca!==null){var e=$j(Zu),t=ss.transition,r=nt;try{if(ss.transition=null,nt=16>e?16:e,ca===null)var n=!1;else{if(e=ca,ca=null,Zu=0,qe&6)throw Error(Z(331));var a=qe;for(qe|=4,me=e.current;me!==null;){var i=me,o=i.child;if(me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(me=d;me!==null;){var u=me;switch(u.tag){case 0:case 11:case 15:ec(8,u,i)}var h=u.child;if(h!==null)h.return=u,me=h;else for(;me!==null;){u=me;var m=u.sibling,p=u.return;if(Q_(u),u===d){me=null;break}if(m!==null){m.return=p,me=m;break}me=p}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,me=o;else e:for(;me!==null;){if(i=me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ec(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,me=b;break e}me=i.return}}var g=e.current;for(me=g;me!==null;){o=me;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,me=x;else e:for(o=g;me!==null;){if(l=me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kh(9,l)}}catch(_){kt(l,l.return,_)}if(l===o){me=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,me=j;break e}me=l.return}}if(qe=a,Da(),Ys&&typeof Ys.onPostCommitFiberRoot=="function")try{Ys.onPostCommitFiberRoot(Uh,e)}catch{}n=!0}return n}finally{nt=r,ss.transition=t}}return!1}function Mw(e,t,r){t=Vo(r,t),t=$_(e,t,1),e=ga(e,t,1),t=gr(),e!==null&&(Zc(e,1,t),Mr(e,t))}function kt(e,t,r){if(e.tag===3)Mw(e,e,r);else for(;t!==null;){if(t.tag===3){Mw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xa===null||!xa.has(n))){e=Vo(r,e),e=U_(t,e,1),t=ga(t,e,1),e=gr(),t!==null&&(Zc(t,1,e),Mr(t,e));break}}t=t.return}}function NA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gr(),e.pingedLanes|=e.suspendedLanes&r,Gt===e&&(Xt&r)===r&&(zt===4||zt===3&&(Xt&130023424)===Xt&&500>Tt()-Lx?fi(e,0):Fx|=r),Mr(e,t)}function iN(e,t){t===0&&(e.mode&1?(t=Ld,Ld<<=1,!(Ld&130023424)&&(Ld=4194304)):t=1);var r=gr();e=Rn(e,t),e!==null&&(Zc(e,t,r),Mr(e,r))}function SA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),iN(e,r)}function kA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(t),iN(e,r)}var oN;oN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)Ar=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ar=!1,fA(e,t,r);Ar=!!(e.flags&131072)}else Ar=!1,yt&&t.flags&1048576&&u_(t,zu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;yu(e,t),e=t.pendingProps;var a=Fo(t,nr.current);go(t,r),a=Tx(null,t,n,e,a,r);var i=Ax();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Or(n)?(i=!0,Vu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kx(t),a.updater=Gh,t.stateNode=a,a._reactInternals=t,Rp(t,n,e,r),t=Ap(null,t,n,!0,i,r)):(t.tag=0,yt&&i&&yx(t),dr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(yu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=EA(n),e=xs(n,e),a){case 0:t=Tp(null,t,n,e,r);break e;case 1:t=Sw(null,t,n,e,r);break e;case 11:t=_w(null,t,n,e,r);break e;case 14:t=Nw(null,t,n,xs(n.type,e),r);break e}throw Error(Z(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xs(n,a),Tp(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xs(n,a),Sw(e,t,n,a,r);case 3:e:{if(W_(t),e===null)throw Error(Z(387));n=t.pendingProps,i=t.memoizedState,a=i.element,x_(e,t),Hu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Vo(Error(Z(423)),t),t=kw(e,t,n,r,a);break e}else if(n!==a){a=Vo(Error(Z(424)),t),t=kw(e,t,n,r,a);break e}else for(Vr=pa(t.stateNode.containerInfo.firstChild),zr=t,yt=!0,js=null,r=p_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lo(),n===a){t=Pn(e,t,r);break e}dr(e,t,n,r)}t=t.child}return t;case 5:return v_(t),e===null&&kp(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,bp(n,a)?o=null:i!==null&&bp(n,i)&&(t.flags|=32),z_(e,t),dr(e,t,o,r),t.child;case 6:return e===null&&kp(t),null;case 13:return q_(e,t,r);case 4:return Cx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$o(t,null,n,r):dr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xs(n,a),_w(e,t,n,a,r);case 7:return dr(e,t,t.pendingProps,r),t.child;case 8:return dr(e,t,t.pendingProps.children,r),t.child;case 12:return dr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,ft(Wu,n._currentValue),n._currentValue=o,i!==null)if(Cs(i.value,o)){if(i.children===a.children&&!Ir.current){t=Pn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=jn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Cp(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Cp(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}dr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,go(t,r),a=is(a),n=n(a),t.flags|=1,dr(e,t,n,r),t.child;case 14:return n=t.type,a=xs(n,t.pendingProps),a=xs(n.type,a),Nw(e,t,n,a,r);case 15:return V_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xs(n,a),yu(e,t),t.tag=1,Or(n)?(e=!0,Vu(t)):e=!1,go(t,r),L_(t,n,a),Rp(t,n,a,r),Ap(null,t,n,!0,e,r);case 19:return H_(e,t,r);case 22:return B_(e,t,r)}throw Error(Z(156,t.tag))};function lN(e,t){return Mj(e,t)}function CA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(e,t,r,n){return new CA(e,t,r,n)}function Bx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function EA(e){if(typeof e=="function")return Bx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ox)return 11;if(e===lx)return 14}return 2}function ya(e,t){var r=e.alternate;return r===null?(r=rs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ju(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Bx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case eo:return mi(r.children,a,i,t);case ix:o=8,a|=8;break;case Jm:return e=rs(12,r,t,a|2),e.elementType=Jm,e.lanes=i,e;case ep:return e=rs(13,r,t,a),e.elementType=ep,e.lanes=i,e;case tp:return e=rs(19,r,t,a),e.elementType=tp,e.lanes=i,e;case vj:return Qh(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gj:o=10;break e;case xj:o=9;break e;case ox:o=11;break e;case lx:o=14;break e;case Kn:o=16,n=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=rs(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function mi(e,t,r,n){return e=rs(7,e,n,t),e.lanes=r,e}function Qh(e,t,r,n){return e=rs(22,e,n,t),e.elementType=vj,e.lanes=r,e.stateNode={isHidden:!1},e}function vm(e,t,r){return e=rs(6,e,null,t),e.lanes=r,e}function ym(e,t,r){return t=rs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RA(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jf(0),this.expirationTimes=Jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jf(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zx(e,t,r,n,a,i,o,l,c){return e=new RA(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=rs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kx(i),e}function PA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ji,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function cN(e){if(!e)return ka;e=e._reactInternals;e:{if(Ai(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var r=e.type;if(Or(r))return c_(e,r,t)}return t}function dN(e,t,r,n,a,i,o,l,c){return e=zx(r,n,!0,e,a,i,o,l,c),e.context=cN(null),r=e.current,n=gr(),a=va(r),i=jn(n,a),i.callback=t??null,ga(r,i,a),e.current.lanes=a,Zc(e,a,n),Mr(e,n),e}function Xh(e,t,r,n){var a=t.current,i=gr(),o=va(a);return r=cN(r),t.context===null?t.context=r:t.pendingContext=r,t=jn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ga(a,t,o),e!==null&&(ks(e,a,o,i),gu(e,a,o)),o}function eh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wx(e,t){Dw(e,t),(e=e.alternate)&&Dw(e,t)}function TA(){return null}var uN=typeof reportError=="function"?reportError:function(e){console.error(e)};function qx(e){this._internalRoot=e}Zh.prototype.render=qx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Xh(e,t,null,null)};Zh.prototype.unmount=qx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yi(function(){Xh(null,e,null,null)}),t[En]=null}};function Zh(e){this._internalRoot=e}Zh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xn.length&&t!==0&&t<Xn[r].priority;r++);Xn.splice(r,0,e),r===0&&Wj(e)}};function Hx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fw(){}function AA(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=eh(o);i.call(d)}}var o=dN(t,n,e,0,null,!1,!1,"",Fw);return e._reactRootContainer=o,e[En]=o.current,yc(e.nodeType===8?e.parentNode:e),yi(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=eh(c);l.call(d)}}var c=zx(e,0,!1,null,null,!1,!1,"",Fw);return e._reactRootContainer=c,e[En]=c.current,yc(e.nodeType===8?e.parentNode:e),yi(function(){Xh(t,c,r,n)}),c}function ef(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=eh(o);l.call(c)}}Xh(t,o,e,a)}else o=AA(r,t,e,a,n);return eh(o)}Uj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ul(t.pendingLanes);r!==0&&(ux(t,r|1),Mr(t,Tt()),!(qe&6)&&(Bo=Tt()+500,Da()))}break;case 13:yi(function(){var n=Rn(e,1);if(n!==null){var a=gr();ks(n,e,1,a)}}),Wx(e,1)}};hx=function(e){if(e.tag===13){var t=Rn(e,134217728);if(t!==null){var r=gr();ks(t,e,134217728,r)}Wx(e,134217728)}};Vj=function(e){if(e.tag===13){var t=va(e),r=Rn(e,t);if(r!==null){var n=gr();ks(r,e,t,n)}Wx(e,t)}};Bj=function(){return nt};zj=function(e,t){var r=nt;try{return nt=e,t()}finally{nt=r}};up=function(e,t,r){switch(t){case"input":if(np(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Wh(n);if(!a)throw Error(Z(90));wj(n),np(n,a)}}}break;case"textarea":jj(e,r);break;case"select":t=r.value,t!=null&&ho(e,!!r.multiple,t,!1)}};Rj=$x;Pj=yi;var IA={usingClientEntryPoint:!1,Events:[ed,no,Wh,Cj,Ej,$x]},El={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OA={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ij(e),e===null?null:e.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||TA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{Uh=Yd.inject(OA),Ys=Yd}catch{}}Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IA;Yr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hx(t))throw Error(Z(200));return PA(e,t,null,r)};Yr.createRoot=function(e,t){if(!Hx(e))throw Error(Z(299));var r=!1,n="",a=uN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=zx(e,1,!1,null,null,r,!1,n,a),e[En]=t.current,yc(e.nodeType===8?e.parentNode:e),new qx(t)};Yr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=Ij(t),e=e===null?null:e.stateNode,e};Yr.flushSync=function(e){return yi(e)};Yr.hydrate=function(e,t,r){if(!Jh(t))throw Error(Z(200));return ef(null,e,t,!0,r)};Yr.hydrateRoot=function(e,t,r){if(!Hx(e))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=uN;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=dN(t,null,e,1,r??null,a,!1,i,o),e[En]=t.current,yc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Zh(t)};Yr.render=function(e,t,r){if(!Jh(t))throw Error(Z(200));return ef(null,e,t,!1,r)};Yr.unmountComponentAtNode=function(e){if(!Jh(e))throw Error(Z(40));return e._reactRootContainer?(yi(function(){ef(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1};Yr.unstable_batchedUpdates=$x;Yr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Jh(r))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return ef(e,t,r,!1,n)};Yr.version="18.3.1-next-f1338f8080-20240426";function hN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hN)}catch(e){console.error(e)}}hN(),hj.exports=Yr;var Ii=hj.exports;const fN=ej(Ii);var mN,Lw=Ii;mN=Lw.createRoot,Lw.hydrateRoot;const MA=1,DA=1e6;let wm=0;function FA(){return wm=(wm+1)%Number.MAX_SAFE_INTEGER,wm.toString()}const bm=new Map,$w=e=>{if(bm.has(e))return;const t=setTimeout(()=>{bm.delete(e),sc({type:"REMOVE_TOAST",toastId:e})},DA);bm.set(e,t)},LA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,MA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?$w(r):e.toasts.forEach(n=>{$w(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},_u=[];let Nu={toasts:[]};function sc(e){Nu=LA(Nu,e),_u.forEach(t=>{t(Nu)})}function $A({...e}){const t=FA(),r=a=>sc({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>sc({type:"DISMISS_TOAST",toastId:t});return sc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function ct(){const[e,t]=f.useState(Nu);return f.useEffect(()=>(_u.push(t),()=>{const r=_u.indexOf(t);r>-1&&_u.splice(r,1)}),[e]),{...e,toast:$A,dismiss:r=>sc({type:"DISMISS_TOAST",toastId:r})}}function X(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Uw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tf(...e){return t=>{let r=!1;const n=e.map(a=>{const i=Uw(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Uw(e[a],null)}}}}function be(...e){return f.useCallback(tf(...e),e)}function UA(e,t){const r=f.createContext(t),n=i=>{const{children:o,...l}=i,c=f.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=f.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Ot(e,t=[]){let r=[];function n(i,o){const l=f.createContext(o),c=r.length;r=[...r,o];const d=h=>{var b;const{scope:m,children:p,...w}=h,y=((b=m==null?void 0:m[e])==null?void 0:b[c])||l,v=f.useMemo(()=>w,Object.values(w));return s.jsx(y.Provider,{value:v,children:p})};d.displayName=i+"Provider";function u(h,m){var y;const p=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,w=f.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,VA(a,...t)]}function VA(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function wi(e){const t=BA(e),r=f.forwardRef((n,a)=>{const{children:i,...o}=n,l=f.Children.toArray(i),c=l.find(zA);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...o,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var pN=wi("Slot");function BA(e){const t=f.forwardRef((r,n)=>{const{children:a,...i}=r;if(f.isValidElement(a)){const o=qA(a),l=WA(i,a.props);return a.type!==f.Fragment&&(l.ref=n?tf(n,o):o),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gN=Symbol("radix.slottable");function xN(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=gN,t}function zA(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gN}function WA(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function qA(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function il(e){const t=e+"CollectionProvider",[r,n]=Ot(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:v,children:b}=y,g=B.useRef(null),x=B.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:x,collectionRef:g,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=wi(l),d=B.forwardRef((y,v)=>{const{scope:b,children:g}=y,x=i(l,b),j=be(v,x.collectionRef);return s.jsx(c,{ref:j,children:g})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=wi(u),p=B.forwardRef((y,v)=>{const{scope:b,children:g,...x}=y,j=B.useRef(null),_=be(v,j),N=i(u,b);return B.useEffect(()=>(N.itemMap.set(j,{ref:j,...x}),()=>void N.itemMap.delete(j))),s.jsx(m,{[h]:"",ref:_,children:g})});p.displayName=u;function w(y){const v=i(e+"CollectionConsumer",y);return B.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((N,k)=>x.indexOf(N.ref.current)-x.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},w,n]}var HA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ce=HA.reduce((e,t)=>{const r=wi(`Primitive.${t}`),n=f.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Gx(e,t){e&&Ii.flushSync(()=>e.dispatchEvent(t))}function Ct(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function GA(e,t=globalThis==null?void 0:globalThis.document){const r=Ct(e);f.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var KA="DismissableLayer",Wp="dismissableLayer.update",YA="dismissableLayer.pointerDownOutside",QA="dismissableLayer.focusOutside",Vw,vN=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ol=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=f.useContext(vN),[u,h]=f.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),w=be(t,k=>h(k)),y=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(v),g=u?y.indexOf(u):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,j=g>=b,_=ZA(k=>{const S=k.target,E=[...d.branches].some(I=>I.contains(S));!j||E||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},m),N=JA(k=>{const S=k.target;[...d.branches].some(I=>I.contains(S))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},m);return GA(k=>{g===d.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),f.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Vw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Bw(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Vw)}},[u,m,r,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Bw())},[u,d]),f.useEffect(()=>{const k=()=>p({});return document.addEventListener(Wp,k),()=>document.removeEventListener(Wp,k)},[]),s.jsx(ce.div,{...c,ref:w,style:{pointerEvents:x?j?"auto":"none":void 0,...e.style},onFocusCapture:X(e.onFocusCapture,N.onFocusCapture),onBlurCapture:X(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:X(e.onPointerDownCapture,_.onPointerDownCapture)})});ol.displayName=KA;var XA="DismissableLayerBranch",yN=f.forwardRef((e,t)=>{const r=f.useContext(vN),n=f.useRef(null),a=be(t,n);return f.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(ce.div,{...e,ref:a})});yN.displayName=XA;function ZA(e,t=globalThis==null?void 0:globalThis.document){const r=Ct(e),n=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){wN(YA,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function JA(e,t=globalThis==null?void 0:globalThis.document){const r=Ct(e),n=f.useRef(!1);return f.useEffect(()=>{const a=i=>{i.target&&!n.current&&wN(QA,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Bw(){const e=new CustomEvent(Wp);document.dispatchEvent(e)}function wN(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Gx(a,i):a.dispatchEvent(i)}var e4=ol,t4=yN,Rt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},r4="Portal",rd=f.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=f.useState(!1);Rt(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?fN.createPortal(s.jsx(ce.div,{...n,ref:t}),o):null});rd.displayName=r4;function s4(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var Kt=e=>{const{present:t,children:r}=e,n=n4(t),a=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),i=be(n.ref,a4(a));return typeof r=="function"||n.isPresent?f.cloneElement(a,{ref:i}):null};Kt.displayName="Presence";function n4(e){const[t,r]=f.useState(),n=f.useRef(null),a=f.useRef(e),i=f.useRef("none"),o=e?"mounted":"unmounted",[l,c]=s4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=Qd(n.current);i.current=l==="mounted"?d:"none"},[l]),Rt(()=>{const d=n.current,u=a.current;if(u!==e){const m=i.current,p=Qd(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Rt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=p=>{const y=Qd(n.current).includes(p.animationName);if(p.target===t&&y&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=p=>{p.target===t&&(i.current=Qd(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Qd(e){return(e==null?void 0:e.animationName)||"none"}function a4(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var i4=rx[" useInsertionEffect ".trim().toString()]||Rt;function xr({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=o4({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=f.useRef(e!==void 0);f.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=f.useCallback(u=>{var h;if(l){const m=l4(u)?u(e):u;m!==e&&((h=o.current)==null||h.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function o4({defaultProp:e,onChange:t}){const[r,n]=f.useState(e),a=f.useRef(r),i=f.useRef(t);return i4(()=>{i.current=t},[t]),f.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function l4(e){return typeof e=="function"}var bN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),c4="VisuallyHidden",rf=f.forwardRef((e,t)=>s.jsx(ce.span,{...e,ref:t,style:{...bN,...e.style}}));rf.displayName=c4;var d4=rf,Kx="ToastProvider",[Yx,u4,h4]=il("Toast"),[jN,aW]=Ot("Toast",[h4]),[f4,sf]=jN(Kx),_N=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=f.useState(null),[d,u]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kx}\`. Expected non-empty \`string\`.`),s.jsx(Yx.Provider,{scope:t,children:s.jsx(f4,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(p=>p+1),[]),onToastRemove:f.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};_N.displayName=Kx;var NN="ToastViewport",m4=["F8"],qp="toast.viewportPause",Hp="toast.viewportResume",SN=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=m4,label:a="Notifications ({hotkey})",...i}=e,o=sf(NN,r),l=u4(r),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=f.useRef(null),m=be(t,h,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;f.useEffect(()=>{const v=b=>{var x;n.length!==0&&n.every(j=>b[j]||b.code===j)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),f.useEffect(()=>{const v=c.current,b=h.current;if(w&&v&&b){const g=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(qp);b.dispatchEvent(N),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(Hp);b.dispatchEvent(N),o.isClosePausedRef.current=!1}},j=N=>{!v.contains(N.relatedTarget)&&x()},_=()=>{v.contains(document.activeElement)||x()};return v.addEventListener("focusin",g),v.addEventListener("focusout",j),v.addEventListener("pointermove",g),v.addEventListener("pointerleave",_),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{v.removeEventListener("focusin",g),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",g),v.removeEventListener("pointerleave",_),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[w,o.isClosePausedRef]);const y=f.useCallback(({tabbingDirection:v})=>{const g=l().map(x=>{const j=x.ref.current,_=[j,...C4(j)];return v==="forwards"?_:_.reverse()});return(v==="forwards"?g.reverse():g).flat()},[l]);return f.useEffect(()=>{const v=h.current;if(v){const b=g=>{var _,N,k;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const S=document.activeElement,E=g.shiftKey;if(g.target===v&&E){(_=d.current)==null||_.focus();return}const C=y({tabbingDirection:E?"backwards":"forwards"}),R=C.findIndex(D=>D===S);jm(C.slice(R+1))?g.preventDefault():E?(N=d.current)==null||N.focus():(k=u.current)==null||k.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,y]),s.jsxs(t4,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&s.jsx(Gp,{ref:d,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"forwards"});jm(v)}}),s.jsx(Yx.Slot,{scope:r,children:s.jsx(ce.ol,{tabIndex:-1,...i,ref:m})}),w&&s.jsx(Gp,{ref:u,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"backwards"});jm(v)}})]})});SN.displayName=NN;var kN="ToastFocusProxy",Gp=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=sf(kN,r);return s.jsx(rf,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});Gp.displayName=kN;var sd="Toast",p4="toast.swipeStart",g4="toast.swipeMove",x4="toast.swipeCancel",v4="toast.swipeEnd",CN=f.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=xr({prop:n,defaultProp:a??!0,onChange:i,caller:sd});return s.jsx(Kt,{present:r||l,children:s.jsx(b4,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ct(e.onPause),onResume:Ct(e.onResume),onSwipeStart:X(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:X(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:X(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:X(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});CN.displayName=sd;var[y4,w4]=jN(sd,{onClose(){}}),b4=f.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...w}=e,y=sf(sd,r),[v,b]=f.useState(null),g=be(t,D=>b(D)),x=f.useRef(null),j=f.useRef(null),_=a||y.duration,N=f.useRef(0),k=f.useRef(_),S=f.useRef(0),{onToastAdd:E,onToastRemove:I}=y,P=Ct(()=>{var $;(v==null?void 0:v.contains(document.activeElement))&&(($=y.viewport)==null||$.focus()),o()}),C=f.useCallback(D=>{!D||D===1/0||(window.clearTimeout(S.current),N.current=new Date().getTime(),S.current=window.setTimeout(P,D))},[P]);f.useEffect(()=>{const D=y.viewport;if(D){const $=()=>{C(k.current),d==null||d()},U=()=>{const q=new Date().getTime()-N.current;k.current=k.current-q,window.clearTimeout(S.current),c==null||c()};return D.addEventListener(qp,U),D.addEventListener(Hp,$),()=>{D.removeEventListener(qp,U),D.removeEventListener(Hp,$)}}},[y.viewport,_,c,d,C]),f.useEffect(()=>{i&&!y.isClosePausedRef.current&&C(_)},[i,_,y.isClosePausedRef,C]),f.useEffect(()=>(E(),()=>I()),[E,I]);const R=f.useMemo(()=>v?ON(v):null,[v]);return y.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(j4,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),s.jsx(y4,{scope:r,onClose:P,children:Ii.createPortal(s.jsx(Yx.ItemSlot,{scope:r,children:s.jsx(e4,{asChild:!0,onEscapeKeyDown:X(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||P(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:X(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:X(e.onPointerDown,D=>{D.button===0&&(x.current={x:D.clientX,y:D.clientY})}),onPointerMove:X(e.onPointerMove,D=>{if(!x.current)return;const $=D.clientX-x.current.x,U=D.clientY-x.current.y,q=!!j.current,T=["left","right"].includes(y.swipeDirection),O=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,G=T?O(0,$):0,de=T?0:O(0,U),oe=D.pointerType==="touch"?10:2,je={x:G,y:de},_e={originalEvent:D,delta:je};q?(j.current=je,Xd(g4,h,_e,{discrete:!1})):zw(je,y.swipeDirection,oe)?(j.current=je,Xd(p4,u,_e,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs($)>oe||Math.abs(U)>oe)&&(x.current=null)}),onPointerUp:X(e.onPointerUp,D=>{const $=j.current,U=D.target;if(U.hasPointerCapture(D.pointerId)&&U.releasePointerCapture(D.pointerId),j.current=null,x.current=null,$){const q=D.currentTarget,T={originalEvent:D,delta:$};zw($,y.swipeDirection,y.swipeThreshold)?Xd(v4,p,T,{discrete:!0}):Xd(x4,m,T,{discrete:!0}),q.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),j4=e=>{const{__scopeToast:t,children:r,...n}=e,a=sf(sd,t),[i,o]=f.useState(!1),[l,c]=f.useState(!1);return S4(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(rd,{asChild:!0,children:s.jsx(rf,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},_4="ToastTitle",EN=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ce.div,{...n,ref:t})});EN.displayName=_4;var N4="ToastDescription",RN=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(ce.div,{...n,ref:t})});RN.displayName=N4;var PN="ToastAction",TN=f.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(IN,{altText:r,asChild:!0,children:s.jsx(Qx,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${PN}\`. Expected non-empty \`string\`.`),null)});TN.displayName=PN;var AN="ToastClose",Qx=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=w4(AN,r);return s.jsx(IN,{asChild:!0,children:s.jsx(ce.button,{type:"button",...n,ref:t,onClick:X(e.onClick,a.onClose)})})});Qx.displayName=AN;var IN=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function ON(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),k4(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...ON(n))}}),t}function Xd(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Gx(a,i):a.dispatchEvent(i)}var zw=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function S4(e=()=>{}){const t=Ct(e);Rt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function k4(e){return e.nodeType===e.ELEMENT_NODE}function C4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var E4=_N,MN=SN,DN=CN,FN=EN,LN=RN,$N=TN,UN=Qx;function VN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=VN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function BN(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=VN(e))&&(n&&(n+=" "),n+=t);return n}const Ww=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qw=BN,ll=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return qw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const m=Ww(u)||Ww(h);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:m,...p}=u;return Object.entries(p).every(w=>{let[y,v]=w;return Array.isArray(v)?v.includes({...i,...l}[y]):{...i,...l}[y]===v})?[...d,h,m]:d},[]);return qw(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zN=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...P4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:zN("lucide",a),...l},[...o.map(([d,u])=>f.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(e,t)=>{const r=f.forwardRef(({className:n,...a},i)=>f.createElement(T4,{ref:i,iconNode:t,className:zN(`lucide-${R4(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=ue("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ue("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ue("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=ue("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=ue("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=ue("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ue("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=ue("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=ue("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=ue("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=ue("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=ue("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=ue("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=ue("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=ue("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=ue("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=ue("Ratio",[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=ue("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=ue("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ue("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ue("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=ue("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=ue("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=ue("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=ue("Variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=ue("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=ue("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ue("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=ue("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=ue("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ue("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),nv="-",Z4=e=>{const t=eI(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(nv);return l[0]===""&&l.length!==1&&l.shift(),e1(l,t)||J4(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},e1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?e1(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(nv);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Yw=/^\[(.+)\]$/,J4=e=>{if(Yw.test(e)){const t=Yw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},eI=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return rI(Object.entries(e.classGroups),r).forEach(([i,o])=>{Yp(o,n,i,t)}),n},Yp=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Qw(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(tI(a)){Yp(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Yp(o,Qw(t,i),r,n)})})},Qw=(e,t)=>{let r=e;return t.split(nv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},tI=e=>e.isThemeGetter,rI=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,sI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},t1="!",nI=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let b=l[v];if(d===0){if(b===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(u,v)),u=v+i;continue}if(b==="/"){h=v;continue}}b==="["?d++:b==="]"&&d--}const m=c.length===0?l:l.substring(u),p=m.startsWith(t1),w=p?m.substring(1):m,y=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},aI=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},iI=e=>({cache:sI(e.cacheSize),parseClassName:nI(e),...Z4(e)}),oI=/\s+/,lI=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(oI);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=r(d);let w=!!p,y=n(w?m.substring(0,p):m);if(!y){if(!w){l=d+(l.length>0?" "+l:l);continue}if(y=n(m),!y){l=d+(l.length>0?" "+l:l);continue}w=!1}const v=aI(u).join(":"),b=h?v+t1:v,g=b+y;if(i.includes(g))continue;i.push(g);const x=a(y,w);for(let j=0;j<x.length;++j){const _=x[j];i.push(b+_)}l=d+(l.length>0?" "+l:l)}return l};function cI(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=r1(t))&&(n&&(n+=" "),n+=r);return n}const r1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=r1(e[n]))&&(r&&(r+=" "),r+=t);return r};function dI(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=iI(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=lI(c,r);return a(c,u),u}return function(){return i(cI.apply(null,arguments))}}const mt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},s1=/^\[(?:([a-z-]+):)?(.+)\]$/i,uI=/^\d+\/\d+$/,hI=new Set(["px","full","screen"]),fI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,un=e=>vo(e)||hI.has(e)||uI.test(e),Vn=e=>cl(e,"length",SI),vo=e=>!!e&&!Number.isNaN(Number(e)),_m=e=>cl(e,"number",vo),Rl=e=>!!e&&Number.isInteger(Number(e)),vI=e=>e.endsWith("%")&&vo(e.slice(0,-1)),Oe=e=>s1.test(e),Bn=e=>fI.test(e),yI=new Set(["length","size","percentage"]),wI=e=>cl(e,yI,n1),bI=e=>cl(e,"position",n1),jI=new Set(["image","url"]),_I=e=>cl(e,jI,CI),NI=e=>cl(e,"",kI),Pl=()=>!0,cl=(e,t,r)=>{const n=s1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},SI=e=>mI.test(e)&&!pI.test(e),n1=()=>!1,kI=e=>gI.test(e),CI=e=>xI.test(e),EI=()=>{const e=mt("colors"),t=mt("spacing"),r=mt("blur"),n=mt("brightness"),a=mt("borderColor"),i=mt("borderRadius"),o=mt("borderSpacing"),l=mt("borderWidth"),c=mt("contrast"),d=mt("grayscale"),u=mt("hueRotate"),h=mt("invert"),m=mt("gap"),p=mt("gradientColorStops"),w=mt("gradientColorStopPositions"),y=mt("inset"),v=mt("margin"),b=mt("opacity"),g=mt("padding"),x=mt("saturate"),j=mt("scale"),_=mt("sepia"),N=mt("skew"),k=mt("space"),S=mt("translate"),E=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Oe,t],C=()=>[Oe,t],R=()=>["",un,Vn],D=()=>["auto",vo,Oe],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Oe],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[vo,Oe];return{cacheSize:500,separator:":",theme:{colors:[Pl],spacing:[un,Vn],blur:["none","",Bn,Oe],brightness:de(),borderColor:[e],borderRadius:["none","","full",Bn,Oe],borderSpacing:C(),borderWidth:R(),contrast:de(),grayscale:O(),hueRotate:de(),invert:O(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[vI,Vn],inset:P(),margin:P(),opacity:de(),padding:C(),saturate:de(),scale:de(),sepia:O(),skew:de(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[Bn]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Oe]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rl,Oe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Rl,Oe]}],"grid-cols":[{"grid-cols":[Pl]}],"col-start-end":[{col:["auto",{span:["full",Rl,Oe]},Oe]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Pl]}],"row-start-end":[{row:["auto",{span:[Rl,Oe]},Oe]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Oe,t]}],"min-w":[{"min-w":[Oe,t,"min","max","fit"]}],"max-w":[{"max-w":[Oe,t,"none","full","min","max","fit","prose",{screen:[Bn]},Bn]}],h:[{h:[Oe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Oe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Bn,Vn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_m]}],"font-family":[{font:[Pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",vo,_m]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",un,Oe]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",un,Vn]}],"underline-offset":[{"underline-offset":["auto",un,Oe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),bI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_I]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[un,Oe]}],"outline-w":[{outline:[un,Vn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[un,Vn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Bn,NI]}],"shadow-color":[{shadow:[Pl]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Bn,Oe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Rl,Oe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[un,Vn,_m]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},RI=dI(EI);function J(...e){return RI(BN(e))}const PI=E4,a1=f.forwardRef(({className:e,...t},r)=>s.jsx(MN,{ref:r,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));a1.displayName=MN.displayName;const TI=ll("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),i1=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(DN,{ref:n,className:J(TI({variant:t}),e),...r}));i1.displayName=DN.displayName;const AI=f.forwardRef(({className:e,...t},r)=>s.jsx($N,{ref:r,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));AI.displayName=$N.displayName;const o1=f.forwardRef(({className:e,...t},r)=>s.jsx(UN,{ref:r,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(tn,{className:"h-4 w-4"})}));o1.displayName=UN.displayName;const l1=f.forwardRef(({className:e,...t},r)=>s.jsx(FN,{ref:r,className:J("text-sm font-semibold",e),...t}));l1.displayName=FN.displayName;const c1=f.forwardRef(({className:e,...t},r)=>s.jsx(LN,{ref:r,className:J("text-sm opacity-90",e),...t}));c1.displayName=LN.displayName;function II(){const{toasts:e}=ct();return s.jsxs(PI,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(i1,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(l1,{children:r}),n&&s.jsx(c1,{children:n})]}),a,s.jsx(o1,{})]},t)}),s.jsx(a1,{})]})}var Xw=["light","dark"],OI="(prefers-color-scheme: dark)",MI=f.createContext(void 0),DI={setTheme:e=>{},themes:[]},FI=()=>{var e;return(e=f.useContext(MI))!=null?e:DI};f.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=a?Xw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(w,y=!1,v=!0)=>{let b=o?o[w]:w,g=y?w+"|| ''":`'${b}'`,x="";return a&&v&&!y&&Xw.includes(w)&&(x+=`d.style.colorScheme = '${w}';`),r==="class"?y||b?x+=`c.add(${g})`:x+="null":b&&(x+=`d[s](n,${g})`),x},p=e?`!function(){${u}${m(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${OI}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var LI=e=>{switch(e){case"success":return VI;case"info":return zI;case"warning":return BI;case"error":return WI;default:return null}},$I=Array(12).fill(0),UI=({visible:e,className:t})=>B.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},B.createElement("div",{className:"sonner-spinner"},$I.map((r,n)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),VI=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),BI=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zI=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WI=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qI=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HI=()=>{let[e,t]=B.useState(document.hidden);return B.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Qp=1,GI=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Qp++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],B.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(YI(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Qp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Sr=new GI,KI=(e,t)=>{let r=(t==null?void 0:t.id)||Qp++;return Sr.addToast({title:e,...t,id:r}),r},YI=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",QI=KI,XI=()=>Sr.toasts,ZI=()=>Sr.getActiveToasts(),Pr=Object.assign(QI,{success:Sr.success,info:Sr.info,warning:Sr.warning,error:Sr.error,custom:Sr.custom,message:Sr.message,promise:Sr.promise,dismiss:Sr.dismiss,loading:Sr.loading},{getHistory:XI,getToasts:ZI});function JI(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}JI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jd(e){return e.label!==void 0}var eO=3,tO="32px",rO="16px",Zw=4e3,sO=356,nO=14,aO=20,iO=200;function ps(...e){return e.filter(Boolean).join(" ")}function oO(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var lO=e=>{var t,r,n,a,i,o,l,c,d,u,h;let{invert:m,toast:p,unstyled:w,interacting:y,setHeights:v,visibleToasts:b,heights:g,index:x,toasts:j,expanded:_,removeToast:N,defaultRichColors:k,closeButton:S,style:E,cancelButtonStyle:I,actionButtonStyle:P,className:C="",descriptionClassName:R="",duration:D,position:$,gap:U,loadingIcon:q,expandByDefault:T,classNames:O,icons:G,closeButtonAriaLabel:de="Close toast",pauseWhenPageIsHidden:oe}=e,[je,_e]=B.useState(null),[ge,xe]=B.useState(null),[Q,Ae]=B.useState(!1),[Ue,Ie]=B.useState(!1),[De,Fe]=B.useState(!1),[qt,or]=B.useState(!1),[Is,Os]=B.useState(!1),[on,Li]=B.useState(0),[ln,A]=B.useState(0),L=B.useRef(p.duration||D||Zw),W=B.useRef(null),ie=B.useRef(null),ae=x===0,te=x+1<=b,fe=p.type,Be=p.dismissible!==!1,it=p.className||"",br=p.descriptionClassName||"",cn=B.useMemo(()=>g.findIndex(Re=>Re.toastId===p.id)||0,[g,p.id]),Ms=B.useMemo(()=>{var Re;return(Re=p.closeButton)!=null?Re:S},[p.closeButton,S]),Rd=B.useMemo(()=>p.duration||D||Zw,[p.duration,D]),Wa=B.useRef(0),Ds=B.useRef(0),Pd=B.useRef(0),dn=B.useRef(null),[qf,Td]=$.split("-"),ky=B.useMemo(()=>g.reduce((Re,ot,xt)=>xt>=cn?Re:Re+ot.height,0),[g,cn]),Cy=HI(),nP=p.invert||m,Hf=fe==="loading";Ds.current=B.useMemo(()=>cn*U+ky,[cn,ky]),B.useEffect(()=>{L.current=Rd},[Rd]),B.useEffect(()=>{Ae(!0)},[]),B.useEffect(()=>{let Re=ie.current;if(Re){let ot=Re.getBoundingClientRect().height;return A(ot),v(xt=>[{toastId:p.id,height:ot,position:p.position},...xt]),()=>v(xt=>xt.filter(us=>us.toastId!==p.id))}},[v,p.id]),B.useLayoutEffect(()=>{if(!Q)return;let Re=ie.current,ot=Re.style.height;Re.style.height="auto";let xt=Re.getBoundingClientRect().height;Re.style.height=ot,A(xt),v(us=>us.find(hs=>hs.toastId===p.id)?us.map(hs=>hs.toastId===p.id?{...hs,height:xt}:hs):[{toastId:p.id,height:xt,position:p.position},...us])},[Q,p.title,p.description,v,p.id]);let Fn=B.useCallback(()=>{Ie(!0),Li(Ds.current),v(Re=>Re.filter(ot=>ot.toastId!==p.id)),setTimeout(()=>{N(p)},iO)},[p,N,v,Ds]);B.useEffect(()=>{if(p.promise&&fe==="loading"||p.duration===1/0||p.type==="loading")return;let Re;return _||y||oe&&Cy?(()=>{if(Pd.current<Wa.current){let ot=new Date().getTime()-Wa.current;L.current=L.current-ot}Pd.current=new Date().getTime()})():L.current!==1/0&&(Wa.current=new Date().getTime(),Re=setTimeout(()=>{var ot;(ot=p.onAutoClose)==null||ot.call(p,p),Fn()},L.current)),()=>clearTimeout(Re)},[_,y,p,fe,oe,Cy,Fn]),B.useEffect(()=>{p.delete&&Fn()},[Fn,p.delete]);function aP(){var Re,ot,xt;return G!=null&&G.loading?B.createElement("div",{className:ps(O==null?void 0:O.loader,(Re=p==null?void 0:p.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":fe==="loading"},G.loading):q?B.createElement("div",{className:ps(O==null?void 0:O.loader,(ot=p==null?void 0:p.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":fe==="loading"},q):B.createElement(UI,{className:ps(O==null?void 0:O.loader,(xt=p==null?void 0:p.classNames)==null?void 0:xt.loader),visible:fe==="loading"})}return B.createElement("li",{tabIndex:0,ref:ie,className:ps(C,it,O==null?void 0:O.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[fe],(r=p==null?void 0:p.classNames)==null?void 0:r[fe]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":Is,"data-removed":Ue,"data-visible":te,"data-y-position":qf,"data-x-position":Td,"data-index":x,"data-front":ae,"data-swiping":De,"data-dismissible":Be,"data-type":fe,"data-invert":nP,"data-swipe-out":qt,"data-swipe-direction":ge,"data-expanded":!!(_||T&&Q),style:{"--index":x,"--toasts-before":x,"--z-index":j.length-x,"--offset":`${Ue?on:Ds.current}px`,"--initial-height":T?"auto":`${ln}px`,...E,...p.style},onDragEnd:()=>{Fe(!1),_e(null),dn.current=null},onPointerDown:Re=>{Hf||!Be||(W.current=new Date,Li(Ds.current),Re.target.setPointerCapture(Re.pointerId),Re.target.tagName!=="BUTTON"&&(Fe(!0),dn.current={x:Re.clientX,y:Re.clientY}))},onPointerUp:()=>{var Re,ot,xt,us;if(qt||!Be)return;dn.current=null;let hs=Number(((Re=ie.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ln=Number(((ot=ie.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qa=new Date().getTime()-((xt=W.current)==null?void 0:xt.getTime()),fs=je==="x"?hs:Ln,$n=Math.abs(fs)/qa;if(Math.abs(fs)>=aO||$n>.11){Li(Ds.current),(us=p.onDismiss)==null||us.call(p,p),xe(je==="x"?hs>0?"right":"left":Ln>0?"down":"up"),Fn(),or(!0),Os(!1);return}Fe(!1),_e(null)},onPointerMove:Re=>{var ot,xt,us,hs;if(!dn.current||!Be||((ot=window.getSelection())==null?void 0:ot.toString().length)>0)return;let Ln=Re.clientY-dn.current.y,qa=Re.clientX-dn.current.x,fs=(xt=e.swipeDirections)!=null?xt:oO($);!je&&(Math.abs(qa)>1||Math.abs(Ln)>1)&&_e(Math.abs(qa)>Math.abs(Ln)?"x":"y");let $n={x:0,y:0};je==="y"?(fs.includes("top")||fs.includes("bottom"))&&(fs.includes("top")&&Ln<0||fs.includes("bottom")&&Ln>0)&&($n.y=Ln):je==="x"&&(fs.includes("left")||fs.includes("right"))&&(fs.includes("left")&&qa<0||fs.includes("right")&&qa>0)&&($n.x=qa),(Math.abs($n.x)>0||Math.abs($n.y)>0)&&Os(!0),(us=ie.current)==null||us.style.setProperty("--swipe-amount-x",`${$n.x}px`),(hs=ie.current)==null||hs.style.setProperty("--swipe-amount-y",`${$n.y}px`)}},Ms&&!p.jsx?B.createElement("button",{"aria-label":de,"data-disabled":Hf,"data-close-button":!0,onClick:Hf||!Be?()=>{}:()=>{var Re;Fn(),(Re=p.onDismiss)==null||Re.call(p,p)},className:ps(O==null?void 0:O.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=G==null?void 0:G.close)!=null?i:qI):null,p.jsx||f.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:B.createElement(B.Fragment,null,fe||p.icon||p.promise?B.createElement("div",{"data-icon":"",className:ps(O==null?void 0:O.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||aP():null,p.type!=="loading"?p.icon||(G==null?void 0:G[fe])||LI(fe):null):null,B.createElement("div",{"data-content":"",className:ps(O==null?void 0:O.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},B.createElement("div",{"data-title":"",className:ps(O==null?void 0:O.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?B.createElement("div",{"data-description":"",className:ps(R,br,O==null?void 0:O.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),f.isValidElement(p.cancel)?p.cancel:p.cancel&&Jd(p.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:Re=>{var ot,xt;Jd(p.cancel)&&Be&&((xt=(ot=p.cancel).onClick)==null||xt.call(ot,Re),Fn())},className:ps(O==null?void 0:O.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,f.isValidElement(p.action)?p.action:p.action&&Jd(p.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||P,onClick:Re=>{var ot,xt;Jd(p.action)&&((xt=(ot=p.action).onClick)==null||xt.call(ot,Re),!Re.defaultPrevented&&Fn())},className:ps(O==null?void 0:O.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function Jw(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function cO(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?rO:tO;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var dO=f.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:m,style:p,visibleToasts:w=eO,toastOptions:y,dir:v=Jw(),gap:b=nO,loadingIcon:g,icons:x,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:_}=e,[N,k]=B.useState([]),S=B.useMemo(()=>Array.from(new Set([n].concat(N.filter(oe=>oe.position).map(oe=>oe.position)))),[N,n]),[E,I]=B.useState([]),[P,C]=B.useState(!1),[R,D]=B.useState(!1),[$,U]=B.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=B.useRef(null),T=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=B.useRef(null),G=B.useRef(!1),de=B.useCallback(oe=>{k(je=>{var _e;return(_e=je.find(ge=>ge.id===oe.id))!=null&&_e.delete||Sr.dismiss(oe.id),je.filter(({id:ge})=>ge!==oe.id)})},[]);return B.useEffect(()=>Sr.subscribe(oe=>{if(oe.dismiss){k(je=>je.map(_e=>_e.id===oe.id?{..._e,delete:!0}:_e));return}setTimeout(()=>{fN.flushSync(()=>{k(je=>{let _e=je.findIndex(ge=>ge.id===oe.id);return _e!==-1?[...je.slice(0,_e),{...je[_e],...oe},...je.slice(_e+1)]:[oe,...je]})})})}),[]),B.useEffect(()=>{if(u!=="system"){U(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:je})=>{U(je?"dark":"light")})}catch{oe.addListener(({matches:_e})=>{try{U(_e?"dark":"light")}catch(ge){console.error(ge)}})}},[u]),B.useEffect(()=>{N.length<=1&&C(!1)},[N]),B.useEffect(()=>{let oe=je=>{var _e,ge;a.every(xe=>je[xe]||je.code===xe)&&(C(!0),(_e=q.current)==null||_e.focus()),je.code==="Escape"&&(document.activeElement===q.current||(ge=q.current)!=null&&ge.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[a]),B.useEffect(()=>{if(q.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,G.current=!1)}},[q.current]),B.createElement("section",{ref:t,"aria-label":`${j} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((oe,je)=>{var _e;let[ge,xe]=oe.split("-");return N.length?B.createElement("ol",{key:oe,dir:v==="auto"?Jw():v,tabIndex:-1,ref:q,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":ge,"data-lifted":P&&N.length>1&&!i,"data-x-position":xe,style:{"--front-toast-height":`${((_e=E[0])==null?void 0:_e.height)||0}px`,"--width":`${sO}px`,"--gap":`${b}px`,...p,...cO(c,d)},onBlur:Q=>{G.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(G.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||G.current||(G.current=!0,O.current=Q.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{R||C(!1)},onDragEnd:()=>C(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},N.filter(Q=>!Q.position&&je===0||Q.position===oe).map((Q,Ae)=>{var Ue,Ie;return B.createElement(lO,{key:Q.id,icons:x,index:Ae,toast:Q,defaultRichColors:h,duration:(Ue=y==null?void 0:y.duration)!=null?Ue:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Ie=y==null?void 0:y.closeButton)!=null?Ie:o,interacting:R,position:oe,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:de,toasts:N.filter(De=>De.position==Q.position),heights:E.filter(De=>De.position==Q.position),setHeights:I,expandByDefault:i,gap:b,loadingIcon:g,expanded:P,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const uO=({...e})=>{const{theme:t="system"}=FI();return s.jsx(dO,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var hO=rx[" useId ".trim().toString()]||(()=>{}),fO=0;function qr(e){const[t,r]=f.useState(hO());return Rt(()=>{e||r(n=>n??String(fO++))},[e]),e||(t?`radix-${t}`:"")}const mO=["top","right","bottom","left"],Ra=Math.min,$r=Math.max,sh=Math.round,eu=Math.floor,Xs=e=>({x:e,y:e}),pO={left:"right",right:"left",bottom:"top",top:"bottom"},gO={start:"end",end:"start"};function Xp(e,t,r){return $r(e,Ra(t,r))}function Tn(e,t){return typeof e=="function"?e(t):e}function An(e){return e.split("-")[0]}function dl(e){return e.split("-")[1]}function av(e){return e==="x"?"y":"x"}function iv(e){return e==="y"?"height":"width"}const xO=new Set(["top","bottom"]);function Hs(e){return xO.has(An(e))?"y":"x"}function ov(e){return av(Hs(e))}function vO(e,t,r){r===void 0&&(r=!1);const n=dl(e),a=ov(e),i=iv(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=nh(o)),[o,nh(o)]}function yO(e){const t=nh(e);return[Zp(e),t,Zp(t)]}function Zp(e){return e.replace(/start|end/g,t=>gO[t])}const e0=["left","right"],t0=["right","left"],wO=["top","bottom"],bO=["bottom","top"];function jO(e,t,r){switch(e){case"top":case"bottom":return r?t?t0:e0:t?e0:t0;case"left":case"right":return t?wO:bO;default:return[]}}function _O(e,t,r,n){const a=dl(e);let i=jO(An(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Zp)))),i}function nh(e){return e.replace(/left|right|bottom|top/g,t=>pO[t])}function NO(e){return{top:0,right:0,bottom:0,left:0,...e}}function d1(e){return typeof e!="number"?NO(e):{top:e,right:e,bottom:e,left:e}}function ah(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function r0(e,t,r){let{reference:n,floating:a}=e;const i=Hs(t),o=ov(t),l=iv(o),c=An(t),d=i==="y",u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:n.y-a.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-a.width,y:h};break;default:p={x:n.x,y:n.y}}switch(dl(t)){case"start":p[o]-=m*(r&&d?-1:1);break;case"end":p[o]+=m*(r&&d?-1:1);break}return p}const SO=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=r0(d,n,c),m=n,p={},w=0;for(let y=0;y<l.length;y++){const{name:v,fn:b}=l[y],{x:g,y:x,data:j,reset:_}=await b({x:u,y:h,initialPlacement:n,placement:m,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=g??u,h=x??h,p={...p,[v]:{...p[v],...j}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:u,y:h}=r0(d,m,c)),y=-1)}return{x:u,y:h,placement:m,strategy:a,middlewareData:p}};async function Ic(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=Tn(t,e),w=d1(p),v=l[m?h==="floating"?"reference":"floating":h],b=ah(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),g=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},_=ah(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:x,strategy:c}):g);return{top:(b.top-_.top+w.top)/j.y,bottom:(_.bottom-b.bottom+w.bottom)/j.y,left:(b.left-_.left+w.left)/j.x,right:(_.right-b.right+w.right)/j.x}}const kO=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Tn(e,t)||{};if(d==null)return{};const h=d1(u),m={x:r,y:n},p=ov(a),w=iv(p),y=await o.getDimensions(d),v=p==="y",b=v?"top":"left",g=v?"bottom":"right",x=v?"clientHeight":"clientWidth",j=i.reference[w]+i.reference[p]-m[p]-i.floating[w],_=m[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=N?N[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=l.floating[x]||i.floating[w]);const S=j/2-_/2,E=k/2-y[w]/2-1,I=Ra(h[b],E),P=Ra(h[g],E),C=I,R=k-y[w]-P,D=k/2-y[w]/2+S,$=Xp(C,D,R),U=!c.arrow&&dl(a)!=null&&D!==$&&i.reference[w]/2-(D<C?I:P)-y[w]/2<0,q=U?D<C?D-C:D-R:0;return{[p]:m[p]+q,data:{[p]:$,centerOffset:D-$-q,...U&&{alignmentOffset:q}},reset:U}}}),CO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...v}=Tn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=An(a),g=Hs(l),x=An(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=m||(x||!y?[nh(l)]:yO(l)),N=w!=="none";!m&&N&&_.push(..._O(l,y,w,j));const k=[l,..._],S=await Ic(t,v),E=[];let I=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&E.push(S[b]),h){const D=vO(a,o,j);E.push(S[D[0]],S[D[1]])}if(I=[...I,{placement:a,overflows:E}],!E.every(D=>D<=0)){var P,C;const D=(((P=i.flip)==null?void 0:P.index)||0)+1,$=k[D];if($&&(!(h==="alignment"?g!==Hs($):!1)||I.every(T=>T.overflows[0]>0&&Hs(T.placement)===g)))return{data:{index:D,overflows:I},reset:{placement:$}};let U=(C=I.filter(q=>q.overflows[0]<=0).sort((q,T)=>q.overflows[1]-T.overflows[1])[0])==null?void 0:C.placement;if(!U)switch(p){case"bestFit":{var R;const q=(R=I.filter(T=>{if(N){const O=Hs(T.placement);return O===g||O==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(O=>O>0).reduce((O,G)=>O+G,0)]).sort((T,O)=>T[1]-O[1])[0])==null?void 0:R[0];q&&(U=q);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function s0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function n0(e){return mO.some(t=>e[t]>=0)}const EO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Tn(e,t);switch(n){case"referenceHidden":{const i=await Ic(t,{...a,elementContext:"reference"}),o=s0(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:n0(o)}}}case"escaped":{const i=await Ic(t,{...a,altBoundary:!0}),o=s0(i,r.floating);return{data:{escapedOffsets:o,escaped:n0(o)}}}default:return{}}}}},u1=new Set(["left","top"]);async function RO(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=An(r),l=dl(r),c=Hs(r)==="y",d=u1.has(o)?-1:1,u=i&&c?-1:1,h=Tn(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*u,y:m*d}:{x:m*d,y:p*u}}const PO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await RO(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},TO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:g}=v;return{x:b,y:g}}},...c}=Tn(e,t),d={x:r,y:n},u=await Ic(t,c),h=Hs(An(a)),m=av(h);let p=d[m],w=d[h];if(i){const v=m==="y"?"top":"left",b=m==="y"?"bottom":"right",g=p+u[v],x=p-u[b];p=Xp(g,p,x)}if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",g=w+u[v],x=w-u[b];w=Xp(g,w,x)}const y=l.fn({...t,[m]:p,[h]:w});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[m]:i,[h]:o}}}}}},AO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Tn(e,t),u={x:r,y:n},h=Hs(a),m=av(h);let p=u[m],w=u[h];const y=Tn(l,t),v=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const x=m==="y"?"height":"width",j=i.reference[m]-i.floating[x]+v.mainAxis,_=i.reference[m]+i.reference[x]-v.mainAxis;p<j?p=j:p>_&&(p=_)}if(d){var b,g;const x=m==="y"?"width":"height",j=u1.has(An(a)),_=i.reference[h]-i.floating[x]+(j&&((b=o.offset)==null?void 0:b[h])||0)+(j?0:v.crossAxis),N=i.reference[h]+i.reference[x]+(j?0:((g=o.offset)==null?void 0:g[h])||0)-(j?v.crossAxis:0);w<_?w=_:w>N&&(w=N)}return{[m]:p,[h]:w}}}},IO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Tn(e,t),u=await Ic(t,d),h=An(a),m=dl(a),p=Hs(a)==="y",{width:w,height:y}=i.floating;let v,b;h==="top"||h==="bottom"?(v=h,b=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,v=m==="end"?"top":"bottom");const g=y-u.top-u.bottom,x=w-u.left-u.right,j=Ra(y-u[v],g),_=Ra(w-u[b],x),N=!t.middlewareData.shift;let k=j,S=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(S=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=g),N&&!m){const I=$r(u.left,0),P=$r(u.right,0),C=$r(u.top,0),R=$r(u.bottom,0);p?S=w-2*(I!==0||P!==0?I+P:$r(u.left,u.right)):k=y-2*(C!==0||R!==0?C+R:$r(u.top,u.bottom))}await c({...t,availableWidth:S,availableHeight:k});const E=await o.getDimensions(l.floating);return w!==E.width||y!==E.height?{reset:{rects:!0}}:{}}}};function af(){return typeof window<"u"}function ul(e){return h1(e)?(e.nodeName||"").toLowerCase():"#document"}function Hr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nn(e){var t;return(t=(h1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function h1(e){return af()?e instanceof Node||e instanceof Hr(e).Node:!1}function Rs(e){return af()?e instanceof Element||e instanceof Hr(e).Element:!1}function rn(e){return af()?e instanceof HTMLElement||e instanceof Hr(e).HTMLElement:!1}function a0(e){return!af()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hr(e).ShadowRoot}const OO=new Set(["inline","contents"]);function cd(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ps(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!OO.has(a)}const MO=new Set(["table","td","th"]);function DO(e){return MO.has(ul(e))}const FO=[":popover-open",":modal"];function of(e){return FO.some(t=>{try{return e.matches(t)}catch{return!1}})}const LO=["transform","translate","scale","rotate","perspective"],$O=["transform","translate","scale","rotate","perspective","filter"],UO=["paint","layout","strict","content"];function lv(e){const t=cv(),r=Rs(e)?Ps(e):e;return LO.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||$O.some(n=>(r.willChange||"").includes(n))||UO.some(n=>(r.contain||"").includes(n))}function VO(e){let t=Pa(e);for(;rn(t)&&!zo(t);){if(lv(t))return t;if(of(t))return null;t=Pa(t)}return null}function cv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BO=new Set(["html","body","#document"]);function zo(e){return BO.has(ul(e))}function Ps(e){return Hr(e).getComputedStyle(e)}function lf(e){return Rs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pa(e){if(ul(e)==="html")return e;const t=e.assignedSlot||e.parentNode||a0(e)&&e.host||nn(e);return a0(t)?t.host:t}function f1(e){const t=Pa(e);return zo(t)?e.ownerDocument?e.ownerDocument.body:e.body:rn(t)&&cd(t)?t:f1(t)}function Oc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=f1(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Hr(a);if(i){const l=Jp(o);return t.concat(o,o.visualViewport||[],cd(a)?a:[],l&&r?Oc(l):[])}return t.concat(a,Oc(a,[],r))}function Jp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function m1(e){const t=Ps(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=rn(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=sh(r)!==i||sh(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function dv(e){return Rs(e)?e:e.contextElement}function yo(e){const t=dv(e);if(!rn(t))return Xs(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=m1(t);let o=(i?sh(r.width):r.width)/n,l=(i?sh(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zO=Xs(0);function p1(e){const t=Hr(e);return!cv()||!t.visualViewport?zO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function WO(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Hr(e)?!1:t}function ji(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=dv(e);let o=Xs(1);t&&(n?Rs(n)&&(o=yo(n)):o=yo(e));const l=WO(i,r,n)?p1(i):Xs(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const m=Hr(i),p=n&&Rs(n)?Hr(n):n;let w=m,y=Jp(w);for(;y&&n&&p!==w;){const v=yo(y),b=y.getBoundingClientRect(),g=Ps(y),x=b.left+(y.clientLeft+parseFloat(g.paddingLeft))*v.x,j=b.top+(y.clientTop+parseFloat(g.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=x,d+=j,w=Hr(y),y=Jp(w)}}return ah({width:u,height:h,x:c,y:d})}function uv(e,t){const r=lf(e).scrollLeft;return t?t.left+r:ji(nn(e)).left+r}function g1(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:uv(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function qO(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=nn(n),l=t?of(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Xs(1);const u=Xs(0),h=rn(n);if((h||!h&&!i)&&((ul(n)!=="body"||cd(o))&&(c=lf(n)),rn(n))){const p=ji(n);d=yo(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const m=o&&!h&&!i?g1(o,c,!0):Xs(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function HO(e){return Array.from(e.getClientRects())}function GO(e){const t=nn(e),r=lf(e),n=e.ownerDocument.body,a=$r(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=$r(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+uv(e);const l=-r.scrollTop;return Ps(n).direction==="rtl"&&(o+=$r(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function KO(e,t){const r=Hr(e),n=nn(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=cv();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const YO=new Set(["absolute","fixed"]);function QO(e,t){const r=ji(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=rn(e)?yo(e):Xs(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function i0(e,t,r){let n;if(t==="viewport")n=KO(e,r);else if(t==="document")n=GO(nn(e));else if(Rs(t))n=QO(t,r);else{const a=p1(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ah(n)}function x1(e,t){const r=Pa(e);return r===t||!Rs(r)||zo(r)?!1:Ps(r).position==="fixed"||x1(r,t)}function XO(e,t){const r=t.get(e);if(r)return r;let n=Oc(e,[],!1).filter(l=>Rs(l)&&ul(l)!=="body"),a=null;const i=Ps(e).position==="fixed";let o=i?Pa(e):e;for(;Rs(o)&&!zo(o);){const l=Ps(o),c=lv(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&YO.has(a.position)||cd(o)&&!c&&x1(e,o))?n=n.filter(u=>u!==o):a=l,o=Pa(o)}return t.set(e,n),n}function ZO(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?of(t)?[]:XO(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const h=i0(t,u,a);return d.top=$r(h.top,d.top),d.right=Ra(h.right,d.right),d.bottom=Ra(h.bottom,d.bottom),d.left=$r(h.left,d.left),d},i0(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JO(e){const{width:t,height:r}=m1(e);return{width:t,height:r}}function eM(e,t,r){const n=rn(t),a=nn(t),i=r==="fixed",o=ji(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Xs(0);function d(){c.x=uv(a)}if(n||!n&&!i)if((ul(t)!=="body"||cd(a))&&(l=lf(t)),n){const p=ji(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?g1(a,l):Xs(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function Nm(e){return Ps(e).position==="static"}function o0(e,t){if(!rn(e)||Ps(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return nn(e)===r&&(r=r.ownerDocument.body),r}function v1(e,t){const r=Hr(e);if(of(e))return r;if(!rn(e)){let a=Pa(e);for(;a&&!zo(a);){if(Rs(a)&&!Nm(a))return a;a=Pa(a)}return r}let n=o0(e,t);for(;n&&DO(n)&&Nm(n);)n=o0(n,t);return n&&zo(n)&&Nm(n)&&!lv(n)?r:n||VO(e)||r}const tM=async function(e){const t=this.getOffsetParent||v1,r=this.getDimensions,n=await r(e.floating);return{reference:eM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function rM(e){return Ps(e).direction==="rtl"}const sM={convertOffsetParentRelativeRectToViewportRelativeRect:qO,getDocumentElement:nn,getClippingRect:ZO,getOffsetParent:v1,getElementRects:tM,getClientRects:HO,getDimensions:JO,getScale:yo,isElement:Rs,isRTL:rM};function y1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nM(e,t){let r=null,n;const a=nn(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:m,height:p}=d;if(l||t(),!m||!p)return;const w=eu(h),y=eu(a.clientWidth-(u+m)),v=eu(a.clientHeight-(h+p)),b=eu(u),x={rootMargin:-w+"px "+-y+"px "+-v+"px "+-b+"px",threshold:$r(0,Ra(1,c))||1};let j=!0;function _(N){const k=N[0].intersectionRatio;if(k!==c){if(!j)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!y1(d,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(_,{...x,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,x)}r.observe(e)}return o(!0),i}function aM(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=dv(e),u=a||i?[...d?Oc(d):[],...Oc(t)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const h=d&&l?nM(d,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(b=>{let[g]=b;g&&g.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let w,y=c?ji(e):null;c&&v();function v(){const b=ji(e);y&&!y1(y,b)&&r(),y=b,w=requestAnimationFrame(v)}return r(),()=>{var b;u.forEach(g=>{a&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const iM=PO,oM=TO,lM=CO,cM=IO,dM=EO,l0=kO,uM=AO,hM=(e,t,r)=>{const n=new Map,a={platform:sM,...r},i={...a.platform,_c:n};return SO(e,t,{...a,platform:i})};var fM=typeof document<"u",mM=function(){},Su=fM?f.useLayoutEffect:mM;function ih(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!ih(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!ih(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function w1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c0(e,t){const r=w1(e);return Math.round(t*r)/r}function Sm(e){const t=f.useRef(e);return Su(()=>{t.current=e}),t}function pM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(n);ih(m,n)||p(n);const[w,y]=f.useState(null),[v,b]=f.useState(null),g=f.useCallback(T=>{T!==N.current&&(N.current=T,y(T))},[]),x=f.useCallback(T=>{T!==k.current&&(k.current=T,b(T))},[]),j=i||w,_=o||v,N=f.useRef(null),k=f.useRef(null),S=f.useRef(u),E=c!=null,I=Sm(c),P=Sm(a),C=Sm(d),R=f.useCallback(()=>{if(!N.current||!k.current)return;const T={placement:t,strategy:r,middleware:m};P.current&&(T.platform=P.current),hM(N.current,k.current,T).then(O=>{const G={...O,isPositioned:C.current!==!1};D.current&&!ih(S.current,G)&&(S.current=G,Ii.flushSync(()=>{h(G)}))})},[m,t,r,P,C]);Su(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(T=>({...T,isPositioned:!1})))},[d]);const D=f.useRef(!1);Su(()=>(D.current=!0,()=>{D.current=!1}),[]),Su(()=>{if(j&&(N.current=j),_&&(k.current=_),j&&_){if(I.current)return I.current(j,_,R);R()}},[j,_,R,I,E]);const $=f.useMemo(()=>({reference:N,floating:k,setReference:g,setFloating:x}),[g,x]),U=f.useMemo(()=>({reference:j,floating:_}),[j,_]),q=f.useMemo(()=>{const T={position:r,left:0,top:0};if(!U.floating)return T;const O=c0(U.floating,u.x),G=c0(U.floating,u.y);return l?{...T,transform:"translate("+O+"px, "+G+"px)",...w1(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:G}},[r,l,U.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:R,refs:$,elements:U,floatingStyles:q}),[u,R,$,U,q])}const gM=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?l0({element:n.current,padding:a}).fn(r):{}:n?l0({element:n,padding:a}).fn(r):{}}}},xM=(e,t)=>({...iM(e),options:[e,t]}),vM=(e,t)=>({...oM(e),options:[e,t]}),yM=(e,t)=>({...uM(e),options:[e,t]}),wM=(e,t)=>({...lM(e),options:[e,t]}),bM=(e,t)=>({...cM(e),options:[e,t]}),jM=(e,t)=>({...dM(e),options:[e,t]}),_M=(e,t)=>({...gM(e),options:[e,t]});var NM="Arrow",b1=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(ce.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});b1.displayName=NM;var SM=b1;function dd(e){const[t,r]=f.useState(void 0);return Rt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var hv="Popper",[j1,hl]=Ot(hv),[kM,_1]=j1(hv),N1=e=>{const{__scopePopper:t,children:r}=e,[n,a]=f.useState(null);return s.jsx(kM,{scope:t,anchor:n,onAnchorChange:a,children:r})};N1.displayName=hv;var S1="PopperAnchor",k1=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=_1(S1,r),o=f.useRef(null),l=be(t,o);return f.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(ce.div,{...a,ref:l})});k1.displayName=S1;var fv="PopperContent",[CM,EM]=j1(fv),C1=f.forwardRef((e,t)=>{var Q,Ae,Ue,Ie,De,Fe;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...y}=e,v=_1(fv,r),[b,g]=f.useState(null),x=be(t,qt=>g(qt)),[j,_]=f.useState(null),N=dd(j),k=(N==null?void 0:N.width)??0,S=(N==null?void 0:N.height)??0,E=n+(i!=="center"?"-"+i:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(d)?d:[d],C=P.length>0,R={padding:I,boundary:P.filter(PM),altBoundary:C},{refs:D,floatingStyles:$,placement:U,isPositioned:q,middlewareData:T}=pM({strategy:"fixed",placement:E,whileElementsMounted:(...qt)=>aM(...qt,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[xM({mainAxis:a+S,alignmentAxis:o}),c&&vM({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?yM():void 0,...R}),c&&wM({...R}),bM({...R,apply:({elements:qt,rects:or,availableWidth:Is,availableHeight:Os})=>{const{width:on,height:Li}=or.reference,ln=qt.floating.style;ln.setProperty("--radix-popper-available-width",`${Is}px`),ln.setProperty("--radix-popper-available-height",`${Os}px`),ln.setProperty("--radix-popper-anchor-width",`${on}px`),ln.setProperty("--radix-popper-anchor-height",`${Li}px`)}}),j&&_M({element:j,padding:l}),TM({arrowWidth:k,arrowHeight:S}),m&&jM({strategy:"referenceHidden",...R})]}),[O,G]=P1(U),de=Ct(w);Rt(()=>{q&&(de==null||de())},[q,de]);const oe=(Q=T.arrow)==null?void 0:Q.x,je=(Ae=T.arrow)==null?void 0:Ae.y,_e=((Ue=T.arrow)==null?void 0:Ue.centerOffset)!==0,[ge,xe]=f.useState();return Rt(()=>{b&&xe(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:q?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Ie=T.transformOrigin)==null?void 0:Ie.x,(De=T.transformOrigin)==null?void 0:De.y].join(" "),...((Fe=T.hide)==null?void 0:Fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(CM,{scope:r,placedSide:O,onArrowChange:_,arrowX:oe,arrowY:je,shouldHideArrow:_e,children:s.jsx(ce.div,{"data-side":O,"data-align":G,...y,ref:x,style:{...y.style,animation:q?void 0:"none"}})})})});C1.displayName=fv;var E1="PopperArrow",RM={top:"bottom",right:"left",bottom:"top",left:"right"},R1=f.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=EM(E1,n),o=RM[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(SM,{...a,ref:r,style:{...a.style,display:"block"}})})});R1.displayName=E1;function PM(e){return e!==null}var TM=e=>({name:"transformOrigin",options:e,fn(t){var v,b,g;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=P1(r),h={start:"0%",center:"50%",end:"100%"}[u],m=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,p=(((g=a.arrow)==null?void 0:g.y)??0)+c/2;let w="",y="";return d==="bottom"?(w=o?h:`${m}px`,y=`${-c}px`):d==="top"?(w=o?h:`${m}px`,y=`${n.floating.height+c}px`):d==="right"?(w=`${-c}px`,y=o?h:`${p}px`):d==="left"&&(w=`${n.floating.width+c}px`,y=o?h:`${p}px`),{data:{x:w,y}}}});function P1(e){const[t,r="center"]=e.split("-");return[t,r]}var mv=N1,pv=k1,gv=C1,xv=R1,[cf,iW]=Ot("Tooltip",[hl]),df=hl(),T1="TooltipProvider",AM=700,eg="tooltip.open",[IM,vv]=cf(T1),A1=e=>{const{__scopeTooltip:t,delayDuration:r=AM,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(IM,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};A1.displayName=T1;var Mc="Tooltip",[OM,uf]=cf(Mc),I1=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=vv(Mc,e.__scopeTooltip),d=df(t),[u,h]=f.useState(null),m=qr(),p=f.useRef(0),w=o??c.disableHoverableContent,y=l??c.delayDuration,v=f.useRef(!1),[b,g]=xr({prop:n,defaultProp:a??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(eg))):c.onClose(),i==null||i(k)},caller:Mc}),x=f.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),j=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,g(!0)},[g]),_=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g(!1)},[g]),N=f.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,g(!0),p.current=0},y)},[y,g]);return f.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(mv,{...d,children:s.jsx(OM,{scope:t,contentId:m,open:b,stateAttribute:x,trigger:u,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayedRef.current?N():j()},[c.isOpenDelayedRef,N,j]),onTriggerLeave:f.useCallback(()=>{w?_():(window.clearTimeout(p.current),p.current=0)},[_,w]),onOpen:j,onClose:_,disableHoverableContent:w,children:r})})};I1.displayName=Mc;var tg="TooltipTrigger",O1=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=uf(tg,r),i=vv(tg,r),o=df(r),l=f.useRef(null),c=be(t,l,a.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(pv,{asChild:!0,...o,children:s.jsx(ce.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:X(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:X(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:X(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:X(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:X(e.onBlur,a.onClose),onClick:X(e.onClick,a.onClose)})})});O1.displayName=tg;var MM="TooltipPortal",[oW,DM]=cf(MM,{forceMount:void 0}),Wo="TooltipContent",M1=f.forwardRef((e,t)=>{const r=DM(Wo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=uf(Wo,e.__scopeTooltip);return s.jsx(Kt,{present:n||o.open,children:o.disableHoverableContent?s.jsx(D1,{side:a,...i,ref:t}):s.jsx(FM,{side:a,...i,ref:t})})}),FM=f.forwardRef((e,t)=>{const r=uf(Wo,e.__scopeTooltip),n=vv(Wo,e.__scopeTooltip),a=f.useRef(null),i=be(t,a),[o,l]=f.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:h}=n,m=f.useCallback(()=>{l(null),h(!1)},[h]),p=f.useCallback((w,y)=>{const v=w.currentTarget,b={x:w.clientX,y:w.clientY},g=BM(b,v.getBoundingClientRect()),x=zM(b,g),j=WM(y.getBoundingClientRect()),_=HM([...x,...j]);l(_),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&u){const w=v=>p(v,u),y=v=>p(v,c);return c.addEventListener("pointerleave",w),u.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",y)}}},[c,u,p,m]),f.useEffect(()=>{if(o){const w=y=>{const v=y.target,b={x:y.clientX,y:y.clientY},g=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),x=!qM(b,o);g?m():x&&(m(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,u,o,d,m]),s.jsx(D1,{...e,ref:i})}),[LM,$M]=cf(Mc,{isInside:!1}),UM=xN("TooltipContent"),D1=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=uf(Wo,r),d=df(r),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(eg,u),()=>document.removeEventListener(eg,u)),[u]),f.useEffect(()=>{if(c.trigger){const h=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(ol,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(gv,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(UM,{children:n}),s.jsx(LM,{scope:r,isInside:!0,children:s.jsx(d4,{id:c.contentId,role:"tooltip",children:a||n})})]})})});M1.displayName=Wo;var F1="TooltipArrow",VM=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=df(r);return $M(F1,r).isInside?null:s.jsx(xv,{...a,...n,ref:t})});VM.displayName=F1;function BM(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function zM(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function WM(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function qM(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>n!=m>n&&r<(h-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function HM(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),GM(t)}function GM(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var KM=A1,YM=I1,QM=O1,L1=M1;const $1=KM,XM=YM,ZM=QM,U1=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(L1,{ref:n,sideOffset:t,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));U1.displayName=L1.displayName;var ud=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_i=typeof window>"u"||"Deno"in globalThis;function kr(){}function JM(e,t){return typeof e=="function"?e(t):e}function rg(e){return typeof e=="number"&&e>=0&&e!==1/0}function V1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wa(e,t){return typeof e=="function"?e(t):e}function Jr(e,t){return typeof e=="function"?e(t):e}function d0(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==yv(o,t.options))return!1}else if(!Fc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function u0(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Dc(t.options.mutationKey)!==Dc(i))return!1}else if(!Fc(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function yv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Dc)(e)}function Dc(e){return JSON.stringify(e,(t,r)=>ng(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Fc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Fc(e[r],t[r])):!1}function B1(e,t){if(e===t)return e;const r=h0(e)&&h0(t);if(r||ng(e)&&ng(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let d=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=B1(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function sg(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function h0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ng(e){if(!f0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!f0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function f0(e){return Object.prototype.toString.call(e)==="[object Object]"}function eD(e){return new Promise(t=>{setTimeout(t,e)})}function ag(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?B1(e,t):t}function tD(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function rD(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var wv=Symbol();function z1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function sD(e,t){return typeof e=="function"?e(...t):!!e}var ni,ea,No,qb,nD=(qb=class extends ud{constructor(){super();Se(this,ni);Se(this,ea);Se(this,No);pe(this,No,t=>{if(!_i&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){M(this,ea)||this.setEventListener(M(this,No))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,ea))==null||t.call(this),pe(this,ea,void 0))}setEventListener(t){var r;pe(this,No,t),(r=M(this,ea))==null||r.call(this),pe(this,ea,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){M(this,ni)!==t&&(pe(this,ni,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof M(this,ni)=="boolean"?M(this,ni):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ni=new WeakMap,ea=new WeakMap,No=new WeakMap,qb),bv=new nD,So,ta,ko,Hb,aD=(Hb=class extends ud{constructor(){super();Se(this,So,!0);Se(this,ta);Se(this,ko);pe(this,ko,t=>{if(!_i&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){M(this,ta)||this.setEventListener(M(this,ko))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,ta))==null||t.call(this),pe(this,ta,void 0))}setEventListener(t){var r;pe(this,ko,t),(r=M(this,ta))==null||r.call(this),pe(this,ta,t(this.setOnline.bind(this)))}setOnline(t){M(this,So)!==t&&(pe(this,So,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return M(this,So)}},So=new WeakMap,ta=new WeakMap,ko=new WeakMap,Hb),oh=new aD;function ig(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function iD(e){return Math.min(1e3*2**e,3e4)}function W1(e){return(e??"online")==="online"?oh.isOnline():!0}var q1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function km(e){return e instanceof q1}function H1(e){let t=!1,r=0,n=!1,a;const i=ig(),o=y=>{var v;n||(m(new q1(y)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>bv.isFocused()&&(e.networkMode==="always"||oh.isOnline())&&e.canRun(),u=()=>W1(e.networkMode)&&e.canRun(),h=y=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,y),a==null||a(),i.resolve(y))},m=y=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,y),a==null||a(),i.reject(y))},p=()=>new Promise(y=>{var v;a=b=>{(n||d())&&y(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var y;a=void 0,n||(y=e.onContinue)==null||y.call(e)}),w=()=>{if(n)return;let y;const v=r===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var N;if(n)return;const g=e.retry??(_i?0:3),x=e.retryDelay??iD,j=typeof x=="function"?x(r,b):x,_=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,b);if(t||!_){m(b);return}r++,(N=e.onFail)==null||N.call(e,r,b),eD(j).then(()=>d()?void 0:p()).then(()=>{t?m(b):w()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?w():p().then(w),i)}}var oD=e=>setTimeout(e,0);function lD(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=oD;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Qt=lD(),ai,Gb,G1=(Gb=class{constructor(){Se(this,ai)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rg(this.gcTime)&&pe(this,ai,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_i?1/0:5*60*1e3))}clearGcTimeout(){M(this,ai)&&(clearTimeout(M(this,ai)),pe(this,ai,void 0))}},ai=new WeakMap,Gb),Co,ii,Zr,oi,rr,Gc,li,vs,fn,Kb,cD=(Kb=class extends G1{constructor(t){super();Se(this,vs);Se(this,Co);Se(this,ii);Se(this,Zr);Se(this,oi);Se(this,rr);Se(this,Gc);Se(this,li);pe(this,li,!1),pe(this,Gc,t.defaultOptions),this.setOptions(t.options),this.observers=[],pe(this,oi,t.client),pe(this,Zr,M(this,oi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,pe(this,Co,dD(this.options)),this.state=t.state??M(this,Co),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=M(this,rr))==null?void 0:t.promise}setOptions(t){this.options={...M(this,Gc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,Zr).remove(this)}setData(t,r){const n=ag(this.state.data,t,this.options);return ze(this,vs,fn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ze(this,vs,fn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=M(this,rr))==null?void 0:n.promise;return(a=M(this,rr))==null||a.cancel(t),r?r.then(kr).catch(kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,Co))}isActive(){return this.observers.some(t=>Jr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>wa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!V1(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=M(this,rr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=M(this,rr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),M(this,Zr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(M(this,rr)&&(M(this,li)?M(this,rr).cancel({revert:!0}):M(this,rr).cancelRetry()),this.scheduleGc()),M(this,Zr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ze(this,vs,fn).call(this,{type:"invalidate"})}fetch(t,r){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(M(this,rr))return M(this,rr).continueRetry(),M(this,rr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(pe(this,li,!0),n.signal)})},i=()=>{const m=z1(this.options,r),w=(()=>{const y={client:M(this,oi),queryKey:this.queryKey,meta:this.meta};return a(y),y})();return pe(this,li,!1),this.options.persister?this.options.persister(m,w,this):m(w)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:M(this,oi),state:this.state,fetchFn:i};return a(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),pe(this,ii,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&ze(this,vs,fn).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=m=>{var p,w,y,v;km(m)&&m.silent||ze(this,vs,fn).call(this,{type:"error",error:m}),km(m)||((w=(p=M(this,Zr).config).onError)==null||w.call(p,m,this),(v=(y=M(this,Zr).config).onSettled)==null||v.call(y,this.state.data,m,this)),this.scheduleGc()};return pe(this,rr,H1({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var p,w,y,v;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(b){c(b);return}(w=(p=M(this,Zr).config).onSuccess)==null||w.call(p,m,this),(v=(y=M(this,Zr).config).onSettled)==null||v.call(y,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{ze(this,vs,fn).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{ze(this,vs,fn).call(this,{type:"pause"})},onContinue:()=>{ze(this,vs,fn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),M(this,rr).start()}},Co=new WeakMap,ii=new WeakMap,Zr=new WeakMap,oi=new WeakMap,rr=new WeakMap,Gc=new WeakMap,li=new WeakMap,vs=new WeakSet,fn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...K1(n.data,this.options),fetchMeta:t.meta??null};case"success":return pe(this,ii,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return km(a)&&a.revert&&M(this,ii)?{...M(this,ii),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Qt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),M(this,Zr).notify({query:this,type:"updated",action:t})})},Kb);function K1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:W1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dD(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Vs,Yb,uD=(Yb=class extends ud{constructor(t={}){super();Se(this,Vs);this.config=t,pe(this,Vs,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??yv(a,r);let o=this.get(i);return o||(o=new cD({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){M(this,Vs).has(t.queryHash)||(M(this,Vs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=M(this,Vs).get(t.queryHash);r&&(t.destroy(),r===t&&M(this,Vs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return M(this,Vs).get(t)}getAll(){return[...M(this,Vs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>d0(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>d0(t,n)):r}notify(t){Qt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Qt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Vs=new WeakMap,Yb),Bs,lr,ci,zs,qn,Qb,hD=(Qb=class extends G1{constructor(t){super();Se(this,zs);Se(this,Bs);Se(this,lr);Se(this,ci);this.mutationId=t.mutationId,pe(this,lr,t.mutationCache),pe(this,Bs,[]),this.state=t.state||fD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){M(this,Bs).includes(t)||(M(this,Bs).push(t),this.clearGcTimeout(),M(this,lr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){pe(this,Bs,M(this,Bs).filter(r=>r!==t)),this.scheduleGc(),M(this,lr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){M(this,Bs).length||(this.state.status==="pending"?this.scheduleGc():M(this,lr).remove(this))}continue(){var t;return((t=M(this,ci))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,h,m,p,w,y,v,b,g,x,j,_,N,k,S;const r=()=>{ze(this,zs,qn).call(this,{type:"continue"})};pe(this,ci,H1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,I)=>{ze(this,zs,qn).call(this,{type:"failed",failureCount:E,error:I})},onPause:()=>{ze(this,zs,qn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,lr).canRun(this)}));const n=this.state.status==="pending",a=!M(this,ci).canStart();try{if(n)r();else{ze(this,zs,qn).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=M(this,lr).config).onMutate)==null?void 0:o.call(i,t,this));const I=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));I!==this.state.context&&ze(this,zs,qn).call(this,{type:"pending",context:I,variables:t,isPaused:a})}const E=await M(this,ci).start();return await((u=(d=M(this,lr).config).onSuccess)==null?void 0:u.call(d,E,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,E,t,this.state.context)),await((w=(p=M(this,lr).config).onSettled)==null?void 0:w.call(p,E,null,this.state.variables,this.state.context,this)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,E,null,t,this.state.context)),ze(this,zs,qn).call(this,{type:"success",data:E}),E}catch(E){try{throw await((g=(b=M(this,lr).config).onError)==null?void 0:g.call(b,E,t,this.state.context,this)),await((j=(x=this.options).onError)==null?void 0:j.call(x,E,t,this.state.context)),await((N=(_=M(this,lr).config).onSettled)==null?void 0:N.call(_,void 0,E,this.state.variables,this.state.context,this)),await((S=(k=this.options).onSettled)==null?void 0:S.call(k,void 0,E,t,this.state.context)),E}finally{ze(this,zs,qn).call(this,{type:"error",error:E})}}finally{M(this,lr).runNext(this)}}},Bs=new WeakMap,lr=new WeakMap,ci=new WeakMap,zs=new WeakSet,qn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qt.batch(()=>{M(this,Bs).forEach(n=>{n.onMutationUpdate(t)}),M(this,lr).notify({mutation:this,type:"updated",action:t})})},Qb);function fD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xn,ys,Kc,Xb,mD=(Xb=class extends ud{constructor(t={}){super();Se(this,xn);Se(this,ys);Se(this,Kc);this.config=t,pe(this,xn,new Set),pe(this,ys,new Map),pe(this,Kc,0)}build(t,r,n){const a=new hD({mutationCache:this,mutationId:++Ad(this,Kc)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){M(this,xn).add(t);const r=tu(t);if(typeof r=="string"){const n=M(this,ys).get(r);n?n.push(t):M(this,ys).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(M(this,xn).delete(t)){const r=tu(t);if(typeof r=="string"){const n=M(this,ys).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&M(this,ys).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=tu(t);if(typeof r=="string"){const n=M(this,ys).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=tu(t);if(typeof r=="string"){const a=(n=M(this,ys).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qt.batch(()=>{M(this,xn).forEach(t=>{this.notify({type:"removed",mutation:t})}),M(this,xn).clear(),M(this,ys).clear()})}getAll(){return Array.from(M(this,xn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>u0(r,n))}findAll(t={}){return this.getAll().filter(r=>u0(t,r))}notify(t){Qt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Qt.batch(()=>Promise.all(t.map(r=>r.continue().catch(kr))))}},xn=new WeakMap,ys=new WeakMap,Kc=new WeakMap,Xb);function tu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function m0(e){return{onFetch:(t,r)=>{var u,h,m,p,w;const n=t.options,a=(m=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let y=!1;const v=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},b=z1(t.options,t.fetchOptions),g=async(x,j,_)=>{if(y)return Promise.reject();if(j==null&&x.pages.length)return Promise.resolve(x);const k=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};return v(P),P})(),S=await b(k),{maxPages:E}=t.options,I=_?rD:tD;return{pages:I(x.pages,S,E),pageParams:I(x.pageParams,j,E)}};if(a&&i.length){const x=a==="backward",j=x?pD:p0,_={pages:i,pageParams:o},N=j(n,_);l=await g(_,N,x)}else{const x=e??i.length;do{const j=c===0?o[0]??n.initialPageParam:p0(n,l);if(c>0&&j==null)break;l=await g(l,j),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var y,v;return(v=(y=t.options).persister)==null?void 0:v.call(y,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function p0(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function pD(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Nt,ra,sa,Eo,Ro,na,Po,To,Zb,gD=(Zb=class{constructor(e={}){Se(this,Nt);Se(this,ra);Se(this,sa);Se(this,Eo);Se(this,Ro);Se(this,na);Se(this,Po);Se(this,To);pe(this,Nt,e.queryCache||new uD),pe(this,ra,e.mutationCache||new mD),pe(this,sa,e.defaultOptions||{}),pe(this,Eo,new Map),pe(this,Ro,new Map),pe(this,na,0)}mount(){Ad(this,na)._++,M(this,na)===1&&(pe(this,Po,bv.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,Nt).onFocus())})),pe(this,To,oh.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,Nt).onOnline())})))}unmount(){var e,t;Ad(this,na)._--,M(this,na)===0&&((e=M(this,Po))==null||e.call(this),pe(this,Po,void 0),(t=M(this,To))==null||t.call(this),pe(this,To,void 0))}isFetching(e){return M(this,Nt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return M(this,ra).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=M(this,Nt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=M(this,Nt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(wa(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return M(this,Nt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=M(this,Nt).get(n.queryHash),i=a==null?void 0:a.state.data,o=JM(t,i);if(o!==void 0)return M(this,Nt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Qt.batch(()=>M(this,Nt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=M(this,Nt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=M(this,Nt);Qt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=M(this,Nt);return Qt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Qt.batch(()=>M(this,Nt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(kr).catch(kr)}invalidateQueries(e,t={}){return Qt.batch(()=>(M(this,Nt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Qt.batch(()=>M(this,Nt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(kr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(kr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=M(this,Nt).build(this,t);return r.isStaleByTime(wa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(kr).catch(kr)}fetchInfiniteQuery(e){return e.behavior=m0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(kr).catch(kr)}ensureInfiniteQueryData(e){return e.behavior=m0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return oh.isOnline()?M(this,ra).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,Nt)}getMutationCache(){return M(this,ra)}getDefaultOptions(){return M(this,sa)}setDefaultOptions(e){pe(this,sa,e)}setQueryDefaults(e,t){M(this,Eo).set(Dc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...M(this,Eo).values()],r={};return t.forEach(n=>{Fc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){M(this,Ro).set(Dc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...M(this,Ro).values()],r={};return t.forEach(n=>{Fc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...M(this,sa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===wv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...M(this,sa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){M(this,Nt).clear(),M(this,ra).clear()}},Nt=new WeakMap,ra=new WeakMap,sa=new WeakMap,Eo=new WeakMap,Ro=new WeakMap,na=new WeakMap,Po=new WeakMap,To=new WeakMap,Zb),_r,We,Yc,cr,di,Ao,aa,ia,Qc,Io,Oo,ui,hi,oa,Mo,et,Bl,og,lg,cg,dg,ug,hg,fg,Y1,Jb,xD=(Jb=class extends ud{constructor(t,r){super();Se(this,et);Se(this,_r);Se(this,We);Se(this,Yc);Se(this,cr);Se(this,di);Se(this,Ao);Se(this,aa);Se(this,ia);Se(this,Qc);Se(this,Io);Se(this,Oo);Se(this,ui);Se(this,hi);Se(this,oa);Se(this,Mo,new Set);this.options=r,pe(this,_r,t),pe(this,ia,null),pe(this,aa,ig()),this.options.experimental_prefetchInRender||M(this,aa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,We).addObserver(this),g0(M(this,We),this.options)?ze(this,et,Bl).call(this):this.updateResult(),ze(this,et,dg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mg(M(this,We),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mg(M(this,We),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ze(this,et,ug).call(this),ze(this,et,hg).call(this),M(this,We).removeObserver(this)}setOptions(t){const r=this.options,n=M(this,We);if(this.options=M(this,_r).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jr(this.options.enabled,M(this,We))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ze(this,et,fg).call(this),M(this,We).setOptions(this.options),r._defaulted&&!sg(this.options,r)&&M(this,_r).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,We),observer:this});const a=this.hasListeners();a&&x0(M(this,We),n,this.options,r)&&ze(this,et,Bl).call(this),this.updateResult(),a&&(M(this,We)!==n||Jr(this.options.enabled,M(this,We))!==Jr(r.enabled,M(this,We))||wa(this.options.staleTime,M(this,We))!==wa(r.staleTime,M(this,We)))&&ze(this,et,og).call(this);const i=ze(this,et,lg).call(this);a&&(M(this,We)!==n||Jr(this.options.enabled,M(this,We))!==Jr(r.enabled,M(this,We))||i!==M(this,oa))&&ze(this,et,cg).call(this,i)}getOptimisticResult(t){const r=M(this,_r).getQueryCache().build(M(this,_r),t),n=this.createResult(r,t);return yD(this,n)&&(pe(this,cr,n),pe(this,Ao,this.options),pe(this,di,M(this,We).state)),n}getCurrentResult(){return M(this,cr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){M(this,Mo).add(t)}getCurrentQuery(){return M(this,We)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=M(this,_r).defaultQueryOptions(t),n=M(this,_r).getQueryCache().build(M(this,_r),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ze(this,et,Bl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,cr)))}createResult(t,r){var E;const n=M(this,We),a=this.options,i=M(this,cr),o=M(this,di),l=M(this,Ao),d=t!==n?t.state:M(this,Yc),{state:u}=t;let h={...u},m=!1,p;if(r._optimisticResults){const I=this.hasListeners(),P=!I&&g0(t,r),C=I&&x0(t,n,r,a);(P||C)&&(h={...h,...K1(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:w,errorUpdatedAt:y,status:v}=h;p=h.data;let b=!1;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let I;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(I=i.data,b=!0):I=typeof r.placeholderData=="function"?r.placeholderData((E=M(this,Oo))==null?void 0:E.state.data,M(this,Oo)):r.placeholderData,I!==void 0&&(v="success",p=ag(i==null?void 0:i.data,I,r),m=!0)}if(r.select&&p!==void 0&&!b)if(i&&p===(o==null?void 0:o.data)&&r.select===M(this,Qc))p=M(this,Io);else try{pe(this,Qc,r.select),p=r.select(p),p=ag(i==null?void 0:i.data,p,r),pe(this,Io,p),pe(this,ia,null)}catch(I){pe(this,ia,I)}M(this,ia)&&(w=M(this,ia),p=M(this,Io),y=Date.now(),v="error");const g=h.fetchStatus==="fetching",x=v==="pending",j=v==="error",_=x&&g,N=p!==void 0,S={status:v,fetchStatus:h.fetchStatus,isPending:x,isSuccess:v==="success",isError:j,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:w,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!x,isLoadingError:j&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&N,isStale:jv(t,r),refetch:this.refetch,promise:M(this,aa),isEnabled:Jr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=R=>{S.status==="error"?R.reject(S.error):S.data!==void 0&&R.resolve(S.data)},P=()=>{const R=pe(this,aa,S.promise=ig());I(R)},C=M(this,aa);switch(C.status){case"pending":t.queryHash===n.queryHash&&I(C);break;case"fulfilled":(S.status==="error"||S.data!==C.value)&&P();break;case"rejected":(S.status!=="error"||S.error!==C.reason)&&P();break}}return S}updateResult(){const t=M(this,cr),r=this.createResult(M(this,We),this.options);if(pe(this,di,M(this,We).state),pe(this,Ao,this.options),M(this,di).data!==void 0&&pe(this,Oo,M(this,We)),sg(r,t))return;pe(this,cr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!M(this,Mo).size)return!0;const o=new Set(i??M(this,Mo));return this.options.throwOnError&&o.add("error"),Object.keys(M(this,cr)).some(l=>{const c=l;return M(this,cr)[c]!==t[c]&&o.has(c)})};ze(this,et,Y1).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ze(this,et,dg).call(this)}},_r=new WeakMap,We=new WeakMap,Yc=new WeakMap,cr=new WeakMap,di=new WeakMap,Ao=new WeakMap,aa=new WeakMap,ia=new WeakMap,Qc=new WeakMap,Io=new WeakMap,Oo=new WeakMap,ui=new WeakMap,hi=new WeakMap,oa=new WeakMap,Mo=new WeakMap,et=new WeakSet,Bl=function(t){ze(this,et,fg).call(this);let r=M(this,We).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(kr)),r},og=function(){ze(this,et,ug).call(this);const t=wa(this.options.staleTime,M(this,We));if(_i||M(this,cr).isStale||!rg(t))return;const n=V1(M(this,cr).dataUpdatedAt,t)+1;pe(this,ui,setTimeout(()=>{M(this,cr).isStale||this.updateResult()},n))},lg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,We)):this.options.refetchInterval)??!1},cg=function(t){ze(this,et,hg).call(this),pe(this,oa,t),!(_i||Jr(this.options.enabled,M(this,We))===!1||!rg(M(this,oa))||M(this,oa)===0)&&pe(this,hi,setInterval(()=>{(this.options.refetchIntervalInBackground||bv.isFocused())&&ze(this,et,Bl).call(this)},M(this,oa)))},dg=function(){ze(this,et,og).call(this),ze(this,et,cg).call(this,ze(this,et,lg).call(this))},ug=function(){M(this,ui)&&(clearTimeout(M(this,ui)),pe(this,ui,void 0))},hg=function(){M(this,hi)&&(clearInterval(M(this,hi)),pe(this,hi,void 0))},fg=function(){const t=M(this,_r).getQueryCache().build(M(this,_r),this.options);if(t===M(this,We))return;const r=M(this,We);pe(this,We,t),pe(this,Yc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Y1=function(t){Qt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(M(this,cr))}),M(this,_r).getQueryCache().notify({query:M(this,We),type:"observerResultsUpdated"})})},Jb);function vD(e,t){return Jr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function g0(e,t){return vD(e,t)||e.state.data!==void 0&&mg(e,t,t.refetchOnMount)}function mg(e,t,r){if(Jr(t.enabled,e)!==!1&&wa(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&jv(e,t)}return!1}function x0(e,t,r,n){return(e!==t||Jr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&jv(e,r)}function jv(e,t){return Jr(t.enabled,e)!==!1&&e.isStaleByTime(wa(t.staleTime,e))}function yD(e,t){return!sg(e.getCurrentResult(),t)}var Q1=f.createContext(void 0),wD=e=>{const t=f.useContext(Q1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},bD=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Q1.Provider,{value:e,children:t})),X1=f.createContext(!1),jD=()=>f.useContext(X1);X1.Provider;function _D(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ND=f.createContext(_D()),SD=()=>f.useContext(ND),kD=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},CD=e=>{f.useEffect(()=>{e.clearReset()},[e])},ED=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||sD(r,[e.error,n])),RD=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},PD=(e,t)=>e.isLoading&&e.isFetching&&!t,TD=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,v0=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function AD(e,t,r){var h,m,p,w,y;const n=jD(),a=SD(),i=wD(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",RD(o),kD(o,a),CD(a);const l=!i.getQueryCache().get(o.queryHash),[c]=f.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(v=>{const b=u?c.subscribe(Qt.batchCalls(v)):kr;return c.updateResult(),b},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(o)},[o,c]),TD(o,d))throw v0(o,c,a);if(ED({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((w=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||w.call(p,o,d),o.experimental_prefetchInRender&&!_i&&PD(d,n)){const v=l?v0(o,c,a):(y=i.getQueryCache().get(o.queryHash))==null?void 0:y.promise;v==null||v.catch(kr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function ID(e,t){return AD(e,xD)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lc.apply(this,arguments)}var da;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(da||(da={}));const y0="popstate";function OD(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return pg("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:lh(a)}return DD(t,r,null,e)}function Et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Z1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MD(){return Math.random().toString(36).substr(2,8)}function w0(e,t){return{usr:e.state,key:e.key,idx:t}}function pg(e,t,r,n){return r===void 0&&(r=null),Lc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fl(t):t,{state:r,key:t&&t.key||n||MD()})}function lh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function DD(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=da.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Lc({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=da.Pop;let v=u(),b=v==null?null:v-d;d=v,c&&c({action:l,location:y.location,delta:b})}function m(v,b){l=da.Push;let g=pg(y.location,v,b);d=u()+1;let x=w0(g,d),j=y.createHref(g);try{o.pushState(x,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(j)}i&&c&&c({action:l,location:y.location,delta:1})}function p(v,b){l=da.Replace;let g=pg(y.location,v,b);d=u();let x=w0(g,d),j=y.createHref(g);o.replaceState(x,"",j),i&&c&&c({action:l,location:y.location,delta:0})}function w(v){let b=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof v=="string"?v:lh(v);return g=g.replace(/ $/,"%20"),Et(b,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,b)}let y={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(y0,h),c=v,()=>{a.removeEventListener(y0,h),c=null}},createHref(v){return t(a,v)},createURL:w,encodeLocation(v){let b=w(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:p,go(v){return o.go(v)}};return y}var b0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(b0||(b0={}));function FD(e,t,r){return r===void 0&&(r="/"),LD(e,t,r,!1)}function LD(e,t,r,n){let a=typeof t=="string"?fl(t):t,i=qo(a.pathname||"/",r);if(i==null)return null;let o=J1(e);$D(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=QD(i);l=KD(o[c],d,n)}return l}function J1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Et(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=ba([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),J1(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:HD(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of eS(i.path))a(i,o,c)}),t}function eS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=eS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function $D(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:GD(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const UD=/^:[\w-]+$/,VD=3,BD=2,zD=1,WD=10,qD=-2,j0=e=>e==="*";function HD(e,t){let r=e.split("/"),n=r.length;return r.some(j0)&&(n+=qD),t&&(n+=BD),r.filter(a=>!j0(a)).reduce((a,i)=>a+(UD.test(i)?VD:i===""?zD:WD),n)}function GD(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function KD(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=ch({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=ch({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:ba([i,h.pathname]),pathnameBase:e3(ba([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=ba([i,h.pathnameBase]))}return o}function ch(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=YD(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=l[h];return p&&!w?d[m]=void 0:d[m]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function YD(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Z1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function QD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Z1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function XD(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?fl(e):e;return{pathname:r?r.startsWith("/")?r:ZD(r,t):t,search:t3(n),hash:r3(a)}}function ZD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Cm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JD(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function tS(e,t){let r=JD(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function rS(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=fl(e):(a=Lc({},e),Et(!a.pathname||!a.pathname.includes("?"),Cm("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),Cm("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),Cm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=XD(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ba=e=>e.join("/").replace(/\/\/+/g,"/"),e3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),t3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function s3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sS=["post","put","patch","delete"];new Set(sS);const n3=["get",...sS];new Set(n3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(this,arguments)}const hf=f.createContext(null),nS=f.createContext(null),Fa=f.createContext(null),ff=f.createContext(null),La=f.createContext({outlet:null,matches:[],isDataRoute:!1}),aS=f.createContext(null);function a3(e,t){let{relative:r}=t===void 0?{}:t;hd()||Et(!1);let{basename:n,navigator:a}=f.useContext(Fa),{hash:i,pathname:o,search:l}=mf(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ba([n,o])),a.createHref({pathname:c,search:l,hash:i})}function hd(){return f.useContext(ff)!=null}function Mn(){return hd()||Et(!1),f.useContext(ff).location}function iS(e){f.useContext(Fa).static||f.useLayoutEffect(e)}function at(){let{isDataRoute:e}=f.useContext(La);return e?v3():i3()}function i3(){hd()||Et(!1);let e=f.useContext(hf),{basename:t,future:r,navigator:n}=f.useContext(Fa),{matches:a}=f.useContext(La),{pathname:i}=Mn(),o=JSON.stringify(tS(a,r.v7_relativeSplatPath)),l=f.useRef(!1);return iS(()=>{l.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=rS(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ba([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,i,e])}function oS(){let{matches:e}=f.useContext(La),t=e[e.length-1];return t?t.params:{}}function mf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(Fa),{matches:a}=f.useContext(La),{pathname:i}=Mn(),o=JSON.stringify(tS(a,n.v7_relativeSplatPath));return f.useMemo(()=>rS(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function o3(e,t){return l3(e,t)}function l3(e,t,r,n){hd()||Et(!1);let{navigator:a}=f.useContext(Fa),{matches:i}=f.useContext(La),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Mn(),u;if(t){var h;let v=typeof t=="string"?fl(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||Et(!1),u=v}else u=d;let m=u.pathname||"/",p=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=FD(e,{pathname:p}),y=f3(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ba([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:ba([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&y?f.createElement(ff.Provider,{value:{location:$c({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:da.Pop}},y):y}function c3(){let e=x3(),t=s3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:a},r):null,null)}const d3=f.createElement(c3,null);class u3 extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(La.Provider,{value:this.props.routeContext},f.createElement(aS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h3(e){let{routeContext:t,match:r,children:n}=e,a=f.useContext(hf);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(La.Provider,{value:t},n)}function f3(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Et(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:p}=r,w=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let p,w=!1,y=null,v=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||d3,c&&(d<0&&m===0?(w=!0,v=null):d===m&&(w=!0,v=h.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,m+1)),g=()=>{let x;return p?x=y:w?x=v:h.route.Component?x=f.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,f.createElement(h3,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(u3,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):g()},null)}var lS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lS||{}),dh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dh||{});function m3(e){let t=f.useContext(hf);return t||Et(!1),t}function p3(e){let t=f.useContext(nS);return t||Et(!1),t}function g3(e){let t=f.useContext(La);return t||Et(!1),t}function cS(e){let t=g3(),r=t.matches[t.matches.length-1];return r.route.id||Et(!1),r.route.id}function x3(){var e;let t=f.useContext(aS),r=p3(dh.UseRouteError),n=cS(dh.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function v3(){let{router:e}=m3(lS.UseNavigateStable),t=cS(dh.UseNavigateStable),r=f.useRef(!1);return iS(()=>{r.current=!0}),f.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,$c({fromRouteId:t},i)))},[e,t])}function y3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function tt(e){Et(!1)}function w3(e){let{basename:t="/",children:r=null,location:n,navigationType:a=da.Pop,navigator:i,static:o=!1,future:l}=e;hd()&&Et(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:i,static:o,future:$c({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=fl(n));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:w="default"}=n,y=f.useMemo(()=>{let v=qo(u,c);return v==null?null:{location:{pathname:v,search:h,hash:m,state:p,key:w},navigationType:a}},[c,u,h,m,p,w,a]);return y==null?null:f.createElement(Fa.Provider,{value:d},f.createElement(ff.Provider,{children:r,value:y}))}function b3(e){let{children:t,location:r}=e;return o3(gg(t),r)}new Promise(()=>{});function gg(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,a)=>{if(!f.isValidElement(n))return;let i=[...t,a];if(n.type===f.Fragment){r.push.apply(r,gg(n.props.children,i));return}n.type!==tt&&Et(!1),!n.props.index||!n.props.children||Et(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=gg(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(this,arguments)}function dS(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function j3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _3(e,t){return e.button===0&&(!t||t==="_self")&&!j3(e)}function xg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function N3(e,t){let r=xg(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const S3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],k3=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],C3="6";try{window.__reactRouterVersion=C3}catch{}const E3=f.createContext({isTransitioning:!1}),R3="startTransition",_0=rx[R3];function P3(e){let{basename:t,children:r,future:n,window:a}=e,i=f.useRef();i.current==null&&(i.current=OD({window:a,v5Compat:!0}));let o=i.current,[l,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=f.useCallback(h=>{d&&_0?_0(()=>c(h)):c(h)},[c,d]);return f.useLayoutEffect(()=>o.listen(u),[o,u]),f.useEffect(()=>y3(n),[n]),f.createElement(w3,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const T3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nc=f.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=dS(t,S3),{basename:p}=f.useContext(Fa),w,y=!1;if(typeof d=="string"&&A3.test(d)&&(w=d,T3))try{let x=new URL(window.location.href),j=d.startsWith("//")?new URL(x.protocol+d):new URL(d),_=qo(j.pathname,p);j.origin===x.origin&&_!=null?d=_+j.search+j.hash:y=!0}catch{}let v=a3(d,{relative:a}),b=O3(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function g(x){n&&n(x),x.defaultPrevented||b(x)}return f.createElement("a",uh({},m,{href:w||v,onClick:y||i?n:g,ref:r,target:c}))}),Em=f.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,h=dS(t,k3),m=mf(c,{relative:h.relative}),p=Mn(),w=f.useContext(nS),{navigator:y,basename:v}=f.useContext(Fa),b=w!=null&&M3(m)&&d===!0,g=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,x=p.pathname,j=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(x=x.toLowerCase(),j=j?j.toLowerCase():null,g=g.toLowerCase()),j&&v&&(j=qo(j,v)||j);const _=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let N=x===g||!o&&x.startsWith(g)&&x.charAt(_)==="/",k=j!=null&&(j===g||!o&&j.startsWith(g)&&j.charAt(g.length)==="/"),S={isActive:N,isPending:k,isTransitioning:b},E=N?n:void 0,I;typeof i=="function"?I=i(S):I=[i,N?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(S):l;return f.createElement(nc,uh({},h,{"aria-current":E,className:I,ref:r,style:P,to:c,viewTransition:d}),typeof u=="function"?u(S):u)});var vg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vg||(vg={}));var N0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(N0||(N0={}));function I3(e){let t=f.useContext(hf);return t||Et(!1),t}function O3(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=at(),d=Mn(),u=mf(e,{relative:o});return f.useCallback(h=>{if(_3(h,r)){h.preventDefault();let m=n!==void 0?n:lh(d)===lh(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function uS(e){let t=f.useRef(xg(e)),r=f.useRef(!1),n=Mn(),a=f.useMemo(()=>N3(n.search,r.current?null:t.current),[n.search]),i=at(),o=f.useCallback((l,c)=>{const d=xg(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}function M3(e,t){t===void 0&&(t={});let r=f.useContext(E3);r==null&&Et(!1);let{basename:n}=I3(vg.useViewTransitionState),a=mf(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=qo(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=qo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ch(a.pathname,o)!=null||ch(a.pathname,i)!=null}class D3 extends f.Component{constructor(){super(...arguments);Ry(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Uncaught error:",r,n)}render(){var r;return this.state.hasError?s.jsxs("div",{style:{padding:"20px",fontFamily:"system-ui"},children:[s.jsx("h1",{children:"Something went wrong"}),s.jsx("pre",{style:{background:"#f5f5f5",padding:"10px",borderRadius:"4px"},children:(r=this.state.error)==null?void 0:r.message}),s.jsx("button",{onClick:()=>window.location.reload(),children:"Reload Page"})]}):this.props.children}}const F3="modulepreload",L3=function(e){return"/"+e},S0={},fd=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=L3(c),c in S0)return;S0[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":F3,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},$3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fd(async()=>{const{default:n}=await Promise.resolve().then(()=>ml);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class _v extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class k0 extends _v{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class C0 extends _v{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class E0 extends _v{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yg||(yg={}));var U3=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class V3{constructor(t,{headers:r={},customFetch:n,region:a=yg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=$3(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return U3(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o,signal:l}=r;let c={},{region:d}=r;d||(d=this.region);const u=new URL(`${this.url}/${t}`);d&&d!=="any"&&(c["x-region"]=d,u.searchParams.set("forceFunctionRegion",d));let h;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(c["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(c["Content-Type"]="application/json",h=JSON.stringify(o)));const m=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:h,signal:l}).catch(v=>{throw v.name==="AbortError"?v:new k0(v)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new C0(m);if(!m.ok)throw new E0(m);let w=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return w==="application/json"?y=yield m.json():w==="application/octet-stream"?y=yield m.blob():w==="text/event-stream"?y=m:w==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null,response:m}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new k0(a)}:{data:null,error:a,response:a instanceof E0||a instanceof C0?a.context:void 0}}})}}var Tr={},Nv={},pf={},md={},gf={},xf={},B3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ho=B3();const z3=Ho.fetch,hS=Ho.fetch.bind(Ho),fS=Ho.Headers,W3=Ho.Request,q3=Ho.Response,ml=Object.freeze(Object.defineProperty({__proto__:null,Headers:fS,Request:W3,Response:q3,default:hS,fetch:z3},Symbol.toStringTag,{value:"Module"})),H3=cP(ml);var vf={};Object.defineProperty(vf,"__esModule",{value:!0});let G3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};vf.default=G3;var mS=as&&as.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xf,"__esModule",{value:!0});const K3=mS(H3),Y3=mS(vf);let Q3=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=K3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,h=null,m=null,p=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=g:h=JSON.parse(g))}const v=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&b&&b.length>1&&(m=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,p=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(h=[],u=null,p=200,w="OK")}catch{i.status===404&&v===""?(p=204,w="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,p=200,w="OK"),u&&this.shouldThrowOnError)throw new Y3.default(u)}return{error:u,data:h,count:m,status:p,statusText:w}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};xf.default=Q3;var X3=as&&as.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gf,"__esModule",{value:!0});const Z3=X3(xf);let J3=class extends Z3.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};gf.default=J3;var e5=as&&as.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(md,"__esModule",{value:!0});const t5=e5(gf);let r5=class extends t5.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};md.default=r5;var s5=as&&as.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pf,"__esModule",{value:!0});const Tl=s5(md);let n5=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Tl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Tl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Tl.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Tl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Tl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};pf.default=n5;var pS=as&&as.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nv,"__esModule",{value:!0});const a5=pS(pf),i5=pS(md);let o5=class gS{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new a5.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new gS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{c.searchParams.append(h,m)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new i5.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Nv.default=o5;var pl=as&&as.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.PostgrestError=Tr.PostgrestBuilder=Tr.PostgrestTransformBuilder=Tr.PostgrestFilterBuilder=Tr.PostgrestQueryBuilder=Tr.PostgrestClient=void 0;const xS=pl(Nv);Tr.PostgrestClient=xS.default;const vS=pl(pf);Tr.PostgrestQueryBuilder=vS.default;const yS=pl(md);Tr.PostgrestFilterBuilder=yS.default;const wS=pl(gf);Tr.PostgrestTransformBuilder=wS.default;const bS=pl(xf);Tr.PostgrestBuilder=bS.default;const jS=pl(vf);Tr.PostgrestError=jS.default;var l5=Tr.default={PostgrestClient:xS.default,PostgrestQueryBuilder:vS.default,PostgrestFilterBuilder:yS.default,PostgrestTransformBuilder:wS.default,PostgrestBuilder:bS.default,PostgrestError:jS.default};const{PostgrestClient:c5,PostgrestQueryBuilder:fW,PostgrestFilterBuilder:mW,PostgrestTransformBuilder:pW,PostgrestBuilder:gW,PostgrestError:xW}=l5;class d5{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const u5="2.15.5",h5=`realtime-js/${u5}`,f5="1.0.0",wg=1e4,m5=1e3,p5=100;var ac;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ac||(ac={}));var $t;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})($t||($t={}));var bs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bs||(bs={}));var bg;(function(e){e.websocket="websocket"})(bg||(bg={}));var Ja;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ja||(Ja={}));class g5{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class _S{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ht||(ht={}));const R0=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=x5(o,e,t,a),i),{})},x5=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?NS(i,o):jg(o)},NS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return b5(t,r)}switch(e){case ht.bool:return v5(t);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return y5(t);case ht.json:case ht.jsonb:return w5(t);case ht.timestamp:return j5(t);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return jg(t);default:return jg(t)}},jg=e=>e,v5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},y5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},w5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},b5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>NS(t,l))}return e},j5=e=>typeof e=="string"?e.replace(" ","T"):e,SS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Rm{constructor(t,r,n={},a=wg){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var P0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(P0||(P0={}));class ic{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ic.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=ic.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ic.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const m=u.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),w=u.filter(v=>p.indexOf(v.presence_ref)<0),y=h.filter(v=>m.indexOf(v.presence_ref)<0);w.length>0&&(l[d]=w),y.length>0&&(c[d]=y)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(p=>p.presence_ref),m=u.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var T0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(T0||(T0={}));var oc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(oc||(oc={}));var pn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pn||(pn={}));class Sv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=$t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rm(this,bs.join,this.params,this.timeout),this.rejoinTimer=new _S(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$t.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bs.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new ic(this),this.broadcastEndpointURL=SS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==$t.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[oc.PRESENCE]&&this.bindings[oc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(pn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(pn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket.setAuth(),p===void 0){t==null||t(pn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,b=[];for(let g=0;g<v;g++){const x=y[g],{filter:{event:j,schema:_,table:N,filter:k}}=x,S=p&&p[g];if(S&&S.event===j&&S.schema===_&&S.table===N&&S.filter===k)b.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),this.state=$t.errored,t==null||t(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(pn.SUBSCRIBED);return}}).receive("error",p=>{this.state=$t.errored,t==null||t(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===$t.joined&&t===oc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=$t.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Rm(this,bs.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$t.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Rm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>p5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=bs;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var w,y,v;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,y,v,b,g,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,_=(w=p.filter)===null||w===void 0?void 0:w.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(g=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:y,table:v,commit_timestamp:b,type:g,errors:x}=w;m=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:b,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(w))}p.callback(m,n)})}_isClosed(){return this.state===$t.closed}_isJoined(){return this.state===$t.joined}_isJoining(){return this.state===$t.joining}_isLeaving(){return this.state===$t.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Sv.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bs.close,{},t)}_onError(t){this._on(bs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$t.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=R0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=R0(t.columns,t.old_record)),r}}const Pm=()=>{},ru={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_5=[1e3,2e3,5e3,1e4],N5=1e4,S5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class k5{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wg,this.transport=null,this.heartbeatIntervalMs=ru.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pm,this.ref=0,this.reconnectTimer=null,this.logger=Pm,this.conn=null,this.sendBuffer=[],this.serializer=new g5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>fd(async()=>{const{default:l}=await Promise.resolve().then(()=>ml);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${bg.websocket}`,this.httpEndpoint=SS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=d5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:f5}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ac.connecting:return Ja.Connecting;case ac.open:return Ja.Open;case ac.closing:return Ja.Closing;default:return Ja.Closed}}isConnected(){return this.connectionState()===Ja.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Sv(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(m5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ru.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(bs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([S5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:h5};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(bs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new _S(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ru.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,d,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:wg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:ru.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Pm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>_5[h-1]||N5,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(h,m)=>m(JSON.stringify(h)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class kv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class C5 extends kv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _g extends kv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var E5=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const kS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fd(async()=>{const{default:n}=await Promise.resolve().then(()=>ml);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},R5=()=>E5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fd(()=>Promise.resolve().then(()=>ml),void 0)).Response:Response}),Ng=e=>{if(Array.isArray(e))return e.map(r=>Ng(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Ng(n)}),t},P5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Oi=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Tm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),T5=(e,t,r)=>Oi(void 0,void 0,void 0,function*(){const n=yield R5();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new C5(Tm(a),i,o))}).catch(a=>{t(new _g(Tm(a),a))}):t(new _g(Tm(e),e))}),A5=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(P5(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function pd(e,t,r,n,a,i){return Oi(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,A5(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>T5(c,l,n))})})}function hh(e,t,r,n){return Oi(this,void 0,void 0,function*(){return pd(e,"GET",t,r,n)})}function Us(e,t,r,n,a){return Oi(this,void 0,void 0,function*(){return pd(e,"POST",t,n,a,r)})}function Sg(e,t,r,n,a){return Oi(this,void 0,void 0,function*(){return pd(e,"PUT",t,n,a,r)})}function I5(e,t,r,n){return Oi(this,void 0,void 0,function*(){return pd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function CS(e,t,r,n,a){return Oi(this,void 0,void 0,function*(){return pd(e,"DELETE",t,n,a,r)})}var O5=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class M5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return O5(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dt(t))return{data:null,error:t};throw t}})}}var D5=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class F5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new M5(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return D5(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dt(t))return{data:null,error:t};throw t}})}}var jr=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const L5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},A0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $5{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=kS(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return jr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},A0),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(t=="PUT"?Sg:Us)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Dt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return jr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return jr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:A0.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield Sg(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Dt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return jr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Us(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new kv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}update(t,r,n){return jr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return jr(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Dt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return jr(this,void 0,void 0,function*(){try{return{data:{path:(yield Us(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Dt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return jr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Us(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Dt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return jr(this,void 0,void 0,function*(){try{const a=yield Us(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Dt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>hh(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new F5(c,this.shouldThrowOnError)}info(t){return jr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield hh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ng(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}exists(t){return jr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield I5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n)&&n instanceof _g){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return jr(this,void 0,void 0,function*(){try{return{data:yield CS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}list(t,r,n){return jr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},L5),r),{prefix:t||""});return{data:yield Us(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Dt(a))return{data:null,error:a};throw a}})}listV2(t,r){return jr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Us(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const U5="2.12.2",V5={"X-Client-Info":`storage-js/${U5}`};var Ui=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class B5{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},V5),r),this.fetch=kS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ui(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Dt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ui(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ui(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ui(this,void 0,void 0,function*(){try{return{data:yield Sg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ui(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ui(this,void 0,void 0,function*(){try{return{data:yield CS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dt(r))return{data:null,error:r};throw r}})}}class z5 extends B5{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new $5(this.url,this.headers,t,this.fetch)}}const W5="2.58.0";let zl="";typeof Deno<"u"?zl="deno":typeof document<"u"?zl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zl="react-native":zl="node";const q5={"X-Client-Info":`supabase-js-${zl}/${W5}`},H5={headers:q5},G5={schema:"public"},K5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Y5={};var Q5=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const X5=e=>{let t;return e?t=e:typeof fetch>"u"?t=hS:t=fetch,(...r)=>t(...r)},Z5=()=>typeof Headers>"u"?fS:Headers,J5=(e,t,r)=>{const n=X5(r),a=Z5();return(i,o)=>Q5(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var eF=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function tF(e){return e.endsWith("/")?e:e+"/"}function rF(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>eF(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function sF(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tF(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ES="2.72.0",Qi=30*1e3,kg=3,Am=kg*Qi,nF="http://localhost:9999",aF="supabase.auth.token",iF={"X-Client-Info":`gotrue-js/${ES}`},Cg="X-Supabase-Api-Version",RS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lF=10*60*1e3;class Cv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cF extends Cv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function dF(e){return Pe(e)&&e.name==="AuthApiError"}class PS extends Cv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class $a extends Cv{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Hn extends $a{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uF(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class Al extends $a{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class su extends $a{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class nu extends $a{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hF(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class I0 extends $a{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Eg extends $a{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Im(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class O0 extends $a{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Rg extends $a{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),M0=` 	
\r=`.split(""),fF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<M0.length;t+=1)e[M0[t].charCodeAt(0)]=-2;for(let t=0;t<fh.length;t+=1)e[fh[t].charCodeAt(0)]=t;return e})();function D0(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fh[n]),t.queuedBits-=6}}function TS(e,t,r){const n=fF[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function F0(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{gF(o,n,r)};for(let o=0;o<e.length;o+=1)TS(e.charCodeAt(o),a,i);return t.join("")}function mF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function pF(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}mF(n,t)}}function gF(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function xF(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)TS(e.charCodeAt(a),r,n);return new Uint8Array(t)}function vF(e){const t=[];return pF(e,r=>t.push(r)),new Uint8Array(t)}function yF(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>D0(a,r,n)),D0(null,r,n),t.join("")}function wF(e){return Math.round(Date.now()/1e3)+e}function bF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Xr=()=>typeof window<"u"&&typeof document<"u",Ha={tested:!1,writable:!1},AS=()=>{if(!Xr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ha.tested)return Ha.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ha.tested=!0,Ha.writable=!0}catch{Ha.tested=!0,Ha.writable=!1}return Ha.writable};function jF(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const IS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fd(async()=>{const{default:n}=await Promise.resolve().then(()=>ml);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},_F=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ga=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},zn=async(e,t)=>{await e.removeItem(t)};class yf{constructor(){this.promise=new yf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}yf.promiseConstructor=Promise;function Om(e){const t=e.split(".");if(t.length!==3)throw new Rg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!oF.test(t[n]))throw new Rg("JWT not in base64url format");return{header:JSON.parse(F0(t[0])),payload:JSON.parse(F0(t[1])),signature:xF(t[2]),raw:{header:t[0],payload:t[1]}}}async function NF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function SF(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function kF(e){return("0"+e.toString(16)).substr(-2)}function CF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,kF).join("")}async function EF(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function RF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await EF(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vi(e,t,r=!1){const n=CF();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Xi(e,`${t}-code-verifier`,a);const i=await RF(n);return[i,n===i?"plain":"s256"]}const PF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TF(e){const t=e.headers.get(Cg);if(!t||!t.match(PF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function IF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bi(e){if(!OF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function L0(e){return JSON.parse(JSON.stringify(e))}var MF=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DF=[502,503,504];async function $0(e){var t;if(!_F(e))throw new Eg(Qa(e),0);if(DF.includes(e.status))throw new Eg(Qa(e),e.status);let r;try{r=await e.json()}catch(i){throw new PS(Qa(i),i)}let n;const a=TF(e);if(a&&a.getTime()>=RS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new O0(Qa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Hn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new O0(Qa(r),e.status,r.weak_password.reasons);throw new cF(Qa(r),e.status||500,n)}const FF=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Le(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Cg]||(i[Cg]=RS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await LF(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function LF(e,t,r,n,a,i){const o=FF(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Eg(Qa(c),0)}if(l.ok||await $0(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await $0(c)}}function Ls(e){var t;let r=null;BF(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=wF(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function U0(e){const t=Ls(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Jn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $F(e){return{data:e,error:null}}function UF(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=MF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function VF(e){return e}function BF(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dm=["global","local","others"];var zF=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class WF{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=IS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Dm[0]){if(Dm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dm.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Jn})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=zF(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:UF,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Jn})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:VF});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(w.split(";")[1].split("=")[1]);d[`${v}Page`]=y}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Pe(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Bi(t);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Jn})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Bi(t);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Jn})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Bi(t);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Jn})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Bi(t.userId);try{const{data:r,error:n}=await Le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Bi(t.userId),Bi(t.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}function V0(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function qF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zi={debug:!!(globalThis&&AS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class OS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class HF extends OS{}async function GF(e,t,r){zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new HF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function MS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function KF(e){return parseInt(e,16)}function YF(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function QF(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=MS(e.address),w=u?`${u}://${n}`:n,y=e.statement?`${e.statement}
`:"",v=`${w} wants you to sign in with your Ethereum account:
${p}

${y}`;let b=`URI: ${h}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),d){let g=`
Resources:`;for(const x of d){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);g+=`
- ${x}`}b+=g}return`${v}
${b}`}qF();const XF={url:nF,storageKey:aF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function B0(e,t,r){return await r()}const Wi={};class Uc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Uc.nextInstanceID,Uc.nextInstanceID+=1,this.instanceID>0&&Xr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},XF),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new WF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=IS(a.fetch),this.lock=a.lock||B0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Xr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=GF:this.lock=B0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:AS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=V0(this.memoryStorage)),Xr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Wi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Wi[this.storageKey]=Object.assign(Object.assign({},Wi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Wi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wi[this.storageKey]=Object.assign(Object.assign({},Wi[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ES}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=jF(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Xr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),hF(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Pe(r)?{error:r}:{error:new PS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ls}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:h,options:m}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Vi(this.storage,this.storageKey)),i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:w},xform:Ls})}else if("phone"in t){const{phone:u,password:h,options:m}=t;i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ls})}else throw new su("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:U0})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:U0})}else throw new su("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Al}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,d,u,h,m;let p,w;if("message"in t)p=t.message,w=t.signature;else{const{chain:y,wallet:v,statement:b,options:g}=t;let x;if(Xr())if(typeof v=="object")x=v;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")x=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const j=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),_=await x.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=MS(_[0]);let k=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const E=await x.request({method:"eth_chainId"});k=KF(E)}const S={domain:j.host,address:N,statement:b,uri:j.href,version:"1",chainId:k,nonce:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=QF(S),w=await x.request({method:"personal_sign",params:[YF(p),N]})}try{const{data:y,error:v}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ls});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Al}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(Pe(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var r,n,a,i,o,l,c,d,u,h,m,p;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:v,wallet:b,statement:g,options:x}=t;let j;if(Xr())if(typeof b=="object")j=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)w=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=N}}try{const{data:v,error:b}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:yF(y)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ls});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Al}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(Pe(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await Ga(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ls});if(await zn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Al}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Pe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ls}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Al}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Vi(this.storage,this.storageKey));const{error:h}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new su("You must provide either an email or phone number.")}catch(l){if(Pe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ls});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Pe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Vi(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:$F})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Hn;const{error:a}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new su("You must provide either an email or phone number and a type")}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ga(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Am:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ga(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Mm()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Jn}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hn}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Jn})})}catch(r){if(Pe(r))return uF(r)&&(await this._removeSession(),await zn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Hn;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Vi(this.storage,this.storageKey));const{data:d,error:u}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Jn});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Hn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Om(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Pe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Hn;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Pe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Xr())throw new nu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new nu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new I0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new I0("No code detected.");const{data:g,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new nu("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const p=m-u;p*1e3<=Qi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=m-h;u-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,u):u-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,u);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(Pe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ga(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(dF(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await zn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=bF(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Vi(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Pe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Xr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Pe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await SF(async a=>(a>0&&await NF(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ls})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Im(i)&&Date.now()+o-n<Qi})}catch(n){if(this._debug(r,"error",n),Pe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Xr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ga(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ga(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Xi(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Mm()}else if(a&&!a.user&&!a.user){const o=await Ga(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await zn(this.storage,this.storageKey+"-user"),await Xi(this.storage,this.storageKey,a)):a.user=Mm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Am;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Am}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Im(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new yf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Hn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Pe(i)){const o={session:null,error:i};return Im(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=L0(a);await Xi(this.storage,this.storageKey,i)}else{const a=L0(r);await Xi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await zn(this.storage,this.storageKey),await zn(this.storage,this.storageKey+"-code-verifier"),await zn(this.storage,this.storageKey+"-user"),this.userStorage&&await zn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Qi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Qi}ms, refresh threshold is ${kg} ticks`),a<=kg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof OS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Vi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Om(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+lF>a)return n;const{data:i,error:o}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};n=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Om(n);r!=null&&r.allowExpired||AF(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const u=IF(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,vF(`${l}.${c}`)))throw new Rg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}}Uc.nextInstanceID=0;const ZF=Uc;class JF extends ZF{constructor(t){super(t)}}var eL=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class tL{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=sF(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:G5,realtime:Y5,auth:Object.assign(Object.assign({},K5),{storageKey:c}),global:H5},u=rF(n??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=J5(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new c5(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new z5(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new V3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return eL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JF({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new k5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rL=(e,t,r)=>new tL(e,t,r);function sL(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}sL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nL="https://wzpswnuteisyxxwlnqrn.supabase.co",aL="sb_publishable_Rvk6d-mQaD7LN-FjXZjwXg_nc5HIHJ_",F=rL(nL,aL,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Ev=ll("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[14px] text-sm font-medium ring-offset-background transition-all duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md",outline:"border border-border/50 bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=f.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?pN:"button";return s.jsx(o,{className:J(Ev({variant:t,size:r,className:e})),ref:i,...a})});V.displayName="Button";const Ne=f.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:J("flex h-10 w-full rounded-[14px] border border-border/50 bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:border-primary/50 transition-all duration-150 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ne.displayName="Input";var iL=f.createContext(void 0);function Ua(e){const t=f.useContext(iL);return e||t||"ltr"}var Fm=0;function Rv(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??z0()),document.body.insertAdjacentElement("beforeend",e[1]??z0()),Fm++,()=>{Fm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fm--}},[])}function z0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Lm="focusScope.autoFocusOnMount",$m="focusScope.autoFocusOnUnmount",W0={bubbles:!1,cancelable:!0},oL="FocusScope",wf=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=f.useState(null),d=Ct(a),u=Ct(i),h=f.useRef(null),m=be(t,y=>c(y)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let y=function(x){if(p.paused||!l)return;const j=x.target;l.contains(j)?h.current=j:Gn(h.current,{select:!0})},v=function(x){if(p.paused||!l)return;const j=x.relatedTarget;j!==null&&(l.contains(j)||Gn(h.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const _ of x)_.removedNodes.length>0&&Gn(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",v);const g=new MutationObserver(b);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",v),g.disconnect()}}},[n,l,p.paused]),f.useEffect(()=>{if(l){H0.add(p);const y=document.activeElement;if(!l.contains(y)){const b=new CustomEvent(Lm,W0);l.addEventListener(Lm,d),l.dispatchEvent(b),b.defaultPrevented||(lL(fL(DS(l)),{select:!0}),document.activeElement===y&&Gn(l))}return()=>{l.removeEventListener(Lm,d),setTimeout(()=>{const b=new CustomEvent($m,W0);l.addEventListener($m,u),l.dispatchEvent(b),b.defaultPrevented||Gn(y??document.body,{select:!0}),l.removeEventListener($m,u),H0.remove(p)},0)}}},[l,d,u,p]);const w=f.useCallback(y=>{if(!r&&!n||p.paused)return;const v=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(v&&b){const g=y.currentTarget,[x,j]=cL(g);x&&j?!y.shiftKey&&b===j?(y.preventDefault(),r&&Gn(x,{select:!0})):y.shiftKey&&b===x&&(y.preventDefault(),r&&Gn(j,{select:!0})):b===g&&y.preventDefault()}},[r,n,p.paused]);return s.jsx(ce.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});wf.displayName=oL;function lL(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Gn(n,{select:t}),document.activeElement!==r)return}function cL(e){const t=DS(e),r=q0(t,e),n=q0(t.reverse(),e);return[r,n]}function DS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function q0(e,t){for(const r of e)if(!dL(r,{upTo:t}))return r}function dL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uL(e){return e instanceof HTMLInputElement&&"select"in e}function Gn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&uL(e)&&t&&e.select()}}var H0=hL();function hL(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=G0(e,t),e.unshift(t)},remove(t){var r;e=G0(e,t),(r=e[0])==null||r.resume()}}}function G0(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function fL(e){return e.filter(t=>t.tagName!=="A")}var Um="rovingFocusGroup.onEntryFocus",mL={bubbles:!1,cancelable:!0},gd="RovingFocusGroup",[Pg,FS,pL]=il(gd),[gL,gl]=Ot(gd,[pL]),[xL,vL]=gL(gd),LS=f.forwardRef((e,t)=>s.jsx(Pg.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Pg.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(yL,{...e,ref:t})})}));LS.displayName=gd;var yL=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=f.useRef(null),p=be(t,m),w=Ua(i),[y,v]=xr({prop:o,defaultProp:l??null,onChange:c,caller:gd}),[b,g]=f.useState(!1),x=Ct(d),j=FS(r),_=f.useRef(!1),[N,k]=f.useState(0);return f.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(Um,x),()=>S.removeEventListener(Um,x)},[x]),s.jsx(xL,{scope:r,orientation:n,dir:w,loop:a,currentTabStopId:y,onItemFocus:f.useCallback(S=>v(S),[v]),onItemShiftTab:f.useCallback(()=>g(!0),[]),onFocusableItemAdd:f.useCallback(()=>k(S=>S+1),[]),onFocusableItemRemove:f.useCallback(()=>k(S=>S-1),[]),children:s.jsx(ce.div,{tabIndex:b||N===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:X(e.onMouseDown,()=>{_.current=!0}),onFocus:X(e.onFocus,S=>{const E=!_.current;if(S.target===S.currentTarget&&E&&!b){const I=new CustomEvent(Um,mL);if(S.currentTarget.dispatchEvent(I),!I.defaultPrevented){const P=j().filter(U=>U.focusable),C=P.find(U=>U.active),R=P.find(U=>U.id===y),$=[C,R,...P].filter(Boolean).map(U=>U.ref.current);VS($,u)}}_.current=!1}),onBlur:X(e.onBlur,()=>g(!1))})})}),$S="RovingFocusGroupItem",US=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=qr(),d=i||c,u=vL($S,r),h=u.currentTabStopId===d,m=FS(r),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:y}=u;return f.useEffect(()=>{if(n)return p(),()=>w()},[n,p,w]),s.jsx(Pg.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(ce.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:X(e.onMouseDown,v=>{n?u.onItemFocus(d):v.preventDefault()}),onFocus:X(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:X(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=jL(v,u.orientation,u.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=m().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")x.reverse();else if(b==="prev"||b==="next"){b==="prev"&&x.reverse();const j=x.indexOf(v.currentTarget);x=u.loop?_L(x,j+1):x.slice(j+1)}setTimeout(()=>VS(x))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:y!=null}):o})})});US.displayName=$S;var wL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function jL(e,t,r){const n=bL(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return wL[n]}function VS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function _L(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Pv=LS,Tv=US,NL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qi=new WeakMap,au=new WeakMap,iu={},Vm=0,BS=function(e){return e&&(e.host||BS(e.parentNode))},SL=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=BS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},kL=function(e,t,r,n){var a=SL(t,Array.isArray(e)?e:[e]);iu[r]||(iu[r]=new WeakMap);var i=iu[r],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var p=m.getAttribute(n),w=p!==null&&p!=="false",y=(qi.get(m)||0)+1,v=(i.get(m)||0)+1;qi.set(m,y),i.set(m,v),o.push(m),y===1&&w&&au.set(m,!0),v===1&&m.setAttribute(r,"true"),w||m.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return u(t),l.clear(),Vm++,function(){o.forEach(function(h){var m=qi.get(h)-1,p=i.get(h)-1;qi.set(h,m),i.set(h,p),m||(au.has(h)||h.removeAttribute(n),au.delete(h)),p||h.removeAttribute(r)}),Vm--,Vm||(qi=new WeakMap,qi=new WeakMap,au=new WeakMap,iu={})}},Av=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=NL(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),kL(n,a,r,"aria-hidden")):function(){return null}},qs=function(){return qs=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},qs.apply(this,arguments)};function zS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function CL(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var ku="right-scroll-bar-position",Cu="width-before-scroll-bar",EL="with-scroll-bars-hidden",RL="--removed-body-scroll-bar-size";function Bm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function PL(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var TL=typeof window<"u"?f.useLayoutEffect:f.useEffect,K0=new WeakMap;function AL(e,t){var r=PL(null,function(n){return e.forEach(function(a){return Bm(a,n)})});return TL(function(){var n=K0.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Bm(l,null)}),i.forEach(function(l){a.has(l)||Bm(l,o)})}K0.set(r,e)},[e]),r}function IL(e){return e}function OL(e,t){t===void 0&&(t=IL);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function ML(e){e===void 0&&(e={});var t=OL(null);return t.options=qs({async:!0,ssr:!1},e),t}var WS=function(e){var t=e.sideCar,r=zS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,qs({},r))};WS.isSideCarExport=!0;function DL(e,t){return e.useMedium(t),WS}var qS=ML(),zm=function(){},bf=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:zm,onWheelCapture:zm,onTouchMoveCapture:zm}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,w=e.noIsolation,y=e.inert,v=e.allowPinchZoom,b=e.as,g=b===void 0?"div":b,x=e.gapMode,j=zS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,N=AL([r,t]),k=qs(qs({},j),a);return f.createElement(f.Fragment,null,u&&f.createElement(_,{sideCar:qS,removeScrollBar:d,shards:h,noRelative:p,noIsolation:w,inert:y,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:x}),o?f.cloneElement(f.Children.only(l),qs(qs({},k),{ref:N})):f.createElement(g,qs({},k,{className:c,ref:N}),l))});bf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bf.classNames={fullWidth:Cu,zeroRight:ku};var FL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=FL();return t&&e.setAttribute("nonce",t),e}function $L(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function UL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var VL=function(){var e=0,t=null;return{add:function(r){e==0&&(t=LL())&&($L(t,r),UL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},BL=function(){var e=VL();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},HS=function(){var e=BL(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},zL={left:0,top:0,right:0,gap:0},Wm=function(e){return parseInt(e||"",10)||0},WL=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Wm(r),Wm(n),Wm(a)]},qL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zL;var t=WL(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},HL=HS(),wo="data-scroll-locked",GL=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(EL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(wo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ku,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Cu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ku," .").concat(ku,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Cu," .").concat(Cu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(wo,`] {
    `).concat(RL,": ").concat(l,`px;
  }
`)},Y0=function(){var e=parseInt(document.body.getAttribute(wo)||"0",10);return isFinite(e)?e:0},KL=function(){f.useEffect(function(){return document.body.setAttribute(wo,(Y0()+1).toString()),function(){var e=Y0()-1;e<=0?document.body.removeAttribute(wo):document.body.setAttribute(wo,e.toString())}},[])},YL=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;KL();var i=f.useMemo(function(){return qL(a)},[a]);return f.createElement(HL,{styles:GL(i,!t,a,r?"":"!important")})},Tg=!1;if(typeof window<"u")try{var ou=Object.defineProperty({},"passive",{get:function(){return Tg=!0,!0}});window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{Tg=!1}var Hi=Tg?{passive:!1}:!1,QL=function(e){return e.tagName==="TEXTAREA"},GS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!QL(e)&&r[t]==="visible")},XL=function(e){return GS(e,"overflowY")},ZL=function(e){return GS(e,"overflowX")},Q0=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=KS(e,n);if(a){var i=YS(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},JL=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},e$=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},KS=function(e,t){return e==="v"?XL(t):ZL(t)},YS=function(e,t){return e==="v"?JL(t):e$(t)},t$=function(e,t){return e==="h"&&t==="rtl"?-1:1},r$=function(e,t,r,n,a){var i=t$(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var p=YS(e,l),w=p[0],y=p[1],v=p[2],b=y-v-i*w;(w||b)&&KS(e,l)&&(h+=b,m+=w);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},lu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},X0=function(e){return[e.deltaX,e.deltaY]},Z0=function(e){return e&&"current"in e?e.current:e},s$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},n$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},a$=0,Gi=[];function i$(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),a=f.useState(a$++)[0],i=f.useState(HS)[0],o=f.useRef(e);f.useEffect(function(){o.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var y=CL([e.lockRef.current],(e.shards||[]).map(Z0),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(y,v){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var b=lu(y),g=r.current,x="deltaX"in y?y.deltaX:g[0]-b[0],j="deltaY"in y?y.deltaY:g[1]-b[1],_,N=y.target,k=Math.abs(x)>Math.abs(j)?"h":"v";if("touches"in y&&k==="h"&&N.type==="range")return!1;var S=Q0(k,N);if(!S)return!0;if(S?_=k:(_=k==="v"?"h":"v",S=Q0(k,N)),!S)return!1;if(!n.current&&"changedTouches"in y&&(x||j)&&(n.current=_),!_)return!0;var E=n.current||_;return r$(E,v,y,E==="h"?x:j,!0)},[]),c=f.useCallback(function(y){var v=y;if(!(!Gi.length||Gi[Gi.length-1]!==i)){var b="deltaY"in v?X0(v):lu(v),g=t.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&s$(_.delta,b)})[0];if(g&&g.should){v.cancelable&&v.preventDefault();return}if(!g){var x=(o.current.shards||[]).map(Z0).filter(Boolean).filter(function(_){return _.contains(v.target)}),j=x.length>0?l(v,x[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),d=f.useCallback(function(y,v,b,g){var x={name:y,delta:v,target:b,should:g,shadowParent:o$(b)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(j){return j!==x})},1)},[]),u=f.useCallback(function(y){r.current=lu(y),n.current=void 0},[]),h=f.useCallback(function(y){d(y.type,X0(y),y.target,l(y,e.lockRef.current))},[]),m=f.useCallback(function(y){d(y.type,lu(y),y.target,l(y,e.lockRef.current))},[]);f.useEffect(function(){return Gi.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Hi),document.addEventListener("touchmove",c,Hi),document.addEventListener("touchstart",u,Hi),function(){Gi=Gi.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Hi),document.removeEventListener("touchmove",c,Hi),document.removeEventListener("touchstart",u,Hi)}},[]);var p=e.removeScrollBar,w=e.inert;return f.createElement(f.Fragment,null,w?f.createElement(i,{styles:n$(a)}):null,p?f.createElement(YL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function o$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const l$=DL(qS,i$);var jf=f.forwardRef(function(e,t){return f.createElement(bf,qs({},e,{ref:t,sideCar:l$}))});jf.classNames=bf.classNames;var Ag=["Enter"," "],c$=["ArrowDown","PageUp","Home"],QS=["ArrowUp","PageDown","End"],d$=[...c$,...QS],u$={ltr:[...Ag,"ArrowRight"],rtl:[...Ag,"ArrowLeft"]},h$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},xd="Menu",[Vc,f$,m$]=il(xd),[Mi,XS]=Ot(xd,[m$,hl,gl]),_f=hl(),ZS=gl(),[p$,Di]=Mi(xd),[g$,vd]=Mi(xd),JS=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=_f(t),[c,d]=f.useState(null),u=f.useRef(!1),h=Ct(i),m=Ua(a);return f.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),s.jsx(mv,{...l,children:s.jsx(p$,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(g$,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:n})})})};JS.displayName=xd;var x$="MenuAnchor",Iv=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=_f(r);return s.jsx(pv,{...a,...n,ref:t})});Iv.displayName=x$;var Ov="MenuPortal",[v$,ek]=Mi(Ov,{forceMount:void 0}),tk=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Di(Ov,t);return s.jsx(v$,{scope:t,forceMount:r,children:s.jsx(Kt,{present:r||i.open,children:s.jsx(rd,{asChild:!0,container:a,children:n})})})};tk.displayName=Ov;var ns="MenuContent",[y$,Mv]=Mi(ns),rk=f.forwardRef((e,t)=>{const r=ek(ns,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Di(ns,e.__scopeMenu),o=vd(ns,e.__scopeMenu);return s.jsx(Vc.Provider,{scope:e.__scopeMenu,children:s.jsx(Kt,{present:n||i.open,children:s.jsx(Vc.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(w$,{...a,ref:t}):s.jsx(b$,{...a,ref:t})})})})}),w$=f.forwardRef((e,t)=>{const r=Di(ns,e.__scopeMenu),n=f.useRef(null),a=be(t,n);return f.useEffect(()=>{const i=n.current;if(i)return Av(i)},[]),s.jsx(Dv,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:X(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),b$=f.forwardRef((e,t)=>{const r=Di(ns,e.__scopeMenu);return s.jsx(Dv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),j$=wi("MenuContent.ScrollLock"),Dv=f.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:w,...y}=e,v=Di(ns,r),b=vd(ns,r),g=_f(r),x=ZS(r),j=f$(r),[_,N]=f.useState(null),k=f.useRef(null),S=be(t,k,v.onContentChange),E=f.useRef(0),I=f.useRef(""),P=f.useRef(0),C=f.useRef(null),R=f.useRef("right"),D=f.useRef(0),$=w?jf:f.Fragment,U=w?{as:j$,allowPinchZoom:!0}:void 0,q=O=>{var Q,Ae;const G=I.current+O,de=j().filter(Ue=>!Ue.disabled),oe=document.activeElement,je=(Q=de.find(Ue=>Ue.ref.current===oe))==null?void 0:Q.textValue,_e=de.map(Ue=>Ue.textValue),ge=O$(_e,G,je),xe=(Ae=de.find(Ue=>Ue.textValue===ge))==null?void 0:Ae.ref.current;(function Ue(Ie){I.current=Ie,window.clearTimeout(E.current),Ie!==""&&(E.current=window.setTimeout(()=>Ue(""),1e3))})(G),xe&&setTimeout(()=>xe.focus())};f.useEffect(()=>()=>window.clearTimeout(E.current),[]),Rv();const T=f.useCallback(O=>{var de,oe;return R.current===((de=C.current)==null?void 0:de.side)&&D$(O,(oe=C.current)==null?void 0:oe.area)},[]);return s.jsx(y$,{scope:r,searchRef:I,onItemEnter:f.useCallback(O=>{T(O)&&O.preventDefault()},[T]),onItemLeave:f.useCallback(O=>{var G;T(O)||((G=k.current)==null||G.focus(),N(null))},[T]),onTriggerLeave:f.useCallback(O=>{T(O)&&O.preventDefault()},[T]),pointerGraceTimerRef:P,onPointerGraceIntentChange:f.useCallback(O=>{C.current=O},[]),children:s.jsx($,{...U,children:s.jsx(wf,{asChild:!0,trapped:a,onMountAutoFocus:X(i,O=>{var G;O.preventDefault(),(G=k.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(ol,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:s.jsx(Pv,{asChild:!0,...x,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:N,onEntryFocus:X(c,O=>{b.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(gv,{role:"menu","aria-orientation":"vertical","data-state":vk(v.open),"data-radix-menu-content":"",dir:b.dir,...g,...y,ref:S,style:{outline:"none",...y.style},onKeyDown:X(y.onKeyDown,O=>{const de=O.target.closest("[data-radix-menu-content]")===O.currentTarget,oe=O.ctrlKey||O.altKey||O.metaKey,je=O.key.length===1;de&&(O.key==="Tab"&&O.preventDefault(),!oe&&je&&q(O.key));const _e=k.current;if(O.target!==_e||!d$.includes(O.key))return;O.preventDefault();const xe=j().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);QS.includes(O.key)&&xe.reverse(),A$(xe)}),onBlur:X(e.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(E.current),I.current="")}),onPointerMove:X(e.onPointerMove,Bc(O=>{const G=O.target,de=D.current!==O.clientX;if(O.currentTarget.contains(G)&&de){const oe=O.clientX>D.current?"right":"left";R.current=oe,D.current=O.clientX}}))})})})})})})});rk.displayName=ns;var _$="MenuGroup",Fv=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ce.div,{role:"group",...n,ref:t})});Fv.displayName=_$;var N$="MenuLabel",sk=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ce.div,{...n,ref:t})});sk.displayName=N$;var mh="MenuItem",J0="menu.itemSelect",Nf=f.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=f.useRef(null),o=vd(mh,e.__scopeMenu),l=Mv(mh,e.__scopeMenu),c=be(t,i),d=f.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const m=new CustomEvent(J0,{bubbles:!0,cancelable:!0});h.addEventListener(J0,p=>n==null?void 0:n(p),{once:!0}),Gx(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(nk,{...a,ref:c,disabled:r,onClick:X(e.onClick,u),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:X(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:X(e.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||Ag.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Nf.displayName=mh;var nk=f.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=Mv(mh,r),l=ZS(r),c=f.useRef(null),d=be(t,c),[u,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[i.children]),s.jsx(Vc.ItemSlot,{scope:r,disabled:n,textValue:a??m,children:s.jsx(Tv,{asChild:!0,...l,focusable:!n,children:s.jsx(ce.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:X(e.onPointerMove,Bc(w=>{n?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:X(e.onPointerLeave,Bc(w=>o.onItemLeave(w))),onFocus:X(e.onFocus,()=>h(!0)),onBlur:X(e.onBlur,()=>h(!1))})})})}),S$="MenuCheckboxItem",ak=f.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(dk,{scope:e.__scopeMenu,checked:r,children:s.jsx(Nf,{role:"menuitemcheckbox","aria-checked":ph(r)?"mixed":r,...a,ref:t,"data-state":$v(r),onSelect:X(a.onSelect,()=>n==null?void 0:n(ph(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ak.displayName=S$;var ik="MenuRadioGroup",[k$,C$]=Mi(ik,{value:void 0,onValueChange:()=>{}}),ok=f.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Ct(n);return s.jsx(k$,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(Fv,{...a,ref:t})})});ok.displayName=ik;var lk="MenuRadioItem",ck=f.forwardRef((e,t)=>{const{value:r,...n}=e,a=C$(lk,e.__scopeMenu),i=r===a.value;return s.jsx(dk,{scope:e.__scopeMenu,checked:i,children:s.jsx(Nf,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":$v(i),onSelect:X(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});ck.displayName=lk;var Lv="MenuItemIndicator",[dk,E$]=Mi(Lv,{checked:!1}),uk=f.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=E$(Lv,r);return s.jsx(Kt,{present:n||ph(i.checked)||i.checked===!0,children:s.jsx(ce.span,{...a,ref:t,"data-state":$v(i.checked)})})});uk.displayName=Lv;var R$="MenuSeparator",hk=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(ce.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});hk.displayName=R$;var P$="MenuArrow",fk=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=_f(r);return s.jsx(xv,{...a,...n,ref:t})});fk.displayName=P$;var T$="MenuSub",[vW,mk]=Mi(T$),Wl="MenuSubTrigger",pk=f.forwardRef((e,t)=>{const r=Di(Wl,e.__scopeMenu),n=vd(Wl,e.__scopeMenu),a=mk(Wl,e.__scopeMenu),i=Mv(Wl,e.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(Iv,{asChild:!0,...d,children:s.jsx(nk,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":vk(r.open),...e,ref:tf(t,a.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:X(e.onPointerMove,Bc(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:X(e.onPointerLeave,Bc(h=>{var p,w;u();const m=(p=r.content)==null?void 0:p.getBoundingClientRect();if(m){const y=(w=r.content)==null?void 0:w.dataset.side,v=y==="right",b=v?-5:5,g=m[v?"left":"right"],x=m[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:g,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:g,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:X(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||u$[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});pk.displayName=Wl;var gk="MenuSubContent",xk=f.forwardRef((e,t)=>{const r=ek(ns,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Di(ns,e.__scopeMenu),o=vd(ns,e.__scopeMenu),l=mk(gk,e.__scopeMenu),c=f.useRef(null),d=be(t,c);return s.jsx(Vc.Provider,{scope:e.__scopeMenu,children:s.jsx(Kt,{present:n||i.open,children:s.jsx(Vc.Slot,{scope:e.__scopeMenu,children:s.jsx(Dv,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:X(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:X(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:X(e.onKeyDown,u=>{var p;const h=u.currentTarget.contains(u.target),m=h$[o.dir].includes(u.key);h&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});xk.displayName=gk;function vk(e){return e?"open":"closed"}function ph(e){return e==="indeterminate"}function $v(e){return ph(e)?"indeterminate":e?"checked":"unchecked"}function A$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function I$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function O$(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=I$(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function M$(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>n!=m>n&&r<(h-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function D$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return M$(r,t)}function Bc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var F$=JS,L$=Iv,$$=tk,U$=rk,V$=Fv,B$=sk,z$=Nf,W$=ak,q$=ok,H$=ck,G$=uk,K$=hk,Y$=fk,Q$=pk,X$=xk,Sf="DropdownMenu",[Z$,yW]=Ot(Sf,[XS]),wr=XS(),[J$,yk]=Z$(Sf),wk=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=wr(t),d=f.useRef(null),[u,h]=xr({prop:a,defaultProp:i??!1,onChange:o,caller:Sf});return s.jsx(J$,{scope:t,triggerId:qr(),triggerRef:d,contentId:qr(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx(F$,{...c,open:u,onOpenChange:h,dir:n,modal:l,children:r})})};wk.displayName=Sf;var bk="DropdownMenuTrigger",jk=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=yk(bk,r),o=wr(r);return s.jsx(L$,{asChild:!0,...o,children:s.jsx(ce.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:tf(t,i.triggerRef),onPointerDown:X(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:X(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});jk.displayName=bk;var e6="DropdownMenuPortal",_k=e=>{const{__scopeDropdownMenu:t,...r}=e,n=wr(t);return s.jsx($$,{...n,...r})};_k.displayName=e6;var Nk="DropdownMenuContent",Sk=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=yk(Nk,r),i=wr(r),o=f.useRef(!1);return s.jsx(U$,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:X(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:X(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Sk.displayName=Nk;var t6="DropdownMenuGroup",r6=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=wr(r);return s.jsx(V$,{...a,...n,ref:t})});r6.displayName=t6;var s6="DropdownMenuLabel",kk=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=wr(r);return s.jsx(B$,{...a,...n,ref:t})});kk.displayName=s6;var n6="DropdownMenuItem",Ck=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=wr(r);return s.jsx(z$,{...a,...n,ref:t})});Ck.displayName=n6;var a6="DropdownMenuCheckboxItem",Ek=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=wr(r);return s.jsx(W$,{...a,...n,ref:t})});Ek.displayName=a6;var i6="DropdownMenuRadioGroup",o6=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=wr(r);return s.jsx(q$,{...a,...n,ref:t})});o6.displayName=i6;var l6="DropdownMenuRadioItem",Rk=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=wr(r);return s.jsx(H$,{...a,...n,ref:t})});Rk.displayName=l6;var c6="DropdownMenuItemIndicator",Pk=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=wr(r);return s.jsx(G$,{...a,...n,ref:t})});Pk.displayName=c6;var d6="DropdownMenuSeparator",Tk=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=wr(r);return s.jsx(K$,{...a,...n,ref:t})});Tk.displayName=d6;var u6="DropdownMenuArrow",h6=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=wr(r);return s.jsx(Y$,{...a,...n,ref:t})});h6.displayName=u6;var f6="DropdownMenuSubTrigger",Ak=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=wr(r);return s.jsx(Q$,{...a,...n,ref:t})});Ak.displayName=f6;var m6="DropdownMenuSubContent",Ik=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=wr(r);return s.jsx(X$,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ik.displayName=m6;var p6=wk,g6=jk,x6=_k,Ok=Sk,Mk=kk,Dk=Ck,Fk=Ek,Lk=Rk,$k=Pk,Uk=Tk,Vk=Ak,Bk=Ik;const v6=p6,y6=g6,w6=f.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(Vk,{ref:a,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Xx,{className:"ml-auto h-4 w-4"})]}));w6.displayName=Vk.displayName;const b6=f.forwardRef(({className:e,...t},r)=>s.jsx(Bk,{ref:r,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));b6.displayName=Bk.displayName;const zk=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(x6,{children:s.jsx(Ok,{ref:n,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));zk.displayName=Ok.displayName;const ql=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Dk,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));ql.displayName=Dk.displayName;const j6=f.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(Fk,{ref:a,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx($k,{children:s.jsx(vt,{className:"h-4 w-4"})})}),t]}));j6.displayName=Fk.displayName;const _6=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Lk,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx($k,{children:s.jsx(WN,{className:"h-2 w-2 fill-current"})})}),t]}));_6.displayName=Lk.displayName;const Wk=f.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Mk,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Wk.displayName=Mk.displayName;const Ig=f.forwardRef(({className:e,...t},r)=>s.jsx(Uk,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));Ig.displayName=Uk.displayName;var qk={exports:{}},Hk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=f;function N6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var S6=typeof Object.is=="function"?Object.is:N6,k6=Go.useState,C6=Go.useEffect,E6=Go.useLayoutEffect,R6=Go.useDebugValue;function P6(e,t){var r=t(),n=k6({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return E6(function(){a.value=r,a.getSnapshot=t,qm(a)&&i({inst:a})},[e,r,t]),C6(function(){return qm(a)&&i({inst:a}),e(function(){qm(a)&&i({inst:a})})},[e]),R6(r),r}function qm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!S6(e,r)}catch{return!0}}function T6(e,t){return t()}var A6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?T6:P6;Hk.useSyncExternalStore=Go.useSyncExternalStore!==void 0?Go.useSyncExternalStore:A6;qk.exports=Hk;var I6=qk.exports;function O6(){return I6.useSyncExternalStore(M6,()=>!0,()=>!1)}function M6(){return()=>{}}var Uv="Avatar",[D6,wW]=Ot(Uv),[F6,Gk]=D6(Uv),Kk=f.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=f.useState("idle");return s.jsx(F6,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(ce.span,{...n,ref:t})})});Kk.displayName=Uv;var Yk="AvatarImage",Qk=f.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=Gk(Yk,r),l=L6(n,i),c=Ct(d=>{a(d),o.onImageLoadingStatusChange(d)});return Rt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(ce.img,{...i,ref:t,src:n}):null});Qk.displayName=Yk;var Xk="AvatarFallback",Zk=f.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=Gk(Xk,r),[o,l]=f.useState(n===void 0);return f.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(ce.span,{...a,ref:t}):null});Zk.displayName=Xk;function eb(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function L6(e,{referrerPolicy:t,crossOrigin:r}){const n=O6(),a=f.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=f.useState(()=>eb(i,e));return Rt(()=>{l(eb(i,e))},[i,e]),Rt(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),o}var Jk=Kk,eC=Qk,tC=Zk;const rC=f.forwardRef(({className:e,...t},r)=>s.jsx(Jk,{ref:r,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));rC.displayName=Jk.displayName;const $6=f.forwardRef(({className:e,...t},r)=>s.jsx(eC,{ref:r,className:J("aspect-square h-full w-full",e),...t}));$6.displayName=eC.displayName;const sC=f.forwardRef(({className:e,...t},r)=>s.jsx(tC,{ref:r,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));sC.displayName=tC.displayName;var kf="Dialog",[nC,aC]=Ot(kf),[U6,Ts]=nC(kf),iC=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=f.useRef(null),c=f.useRef(null),[d,u]=xr({prop:n,defaultProp:a??!1,onChange:i,caller:kf});return s.jsx(U6,{scope:t,triggerRef:l,contentRef:c,contentId:qr(),titleId:qr(),descriptionId:qr(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};iC.displayName=kf;var oC="DialogTrigger",lC=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ts(oC,r),i=be(t,a.triggerRef);return s.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":zv(a.open),...n,ref:i,onClick:X(e.onClick,a.onOpenToggle)})});lC.displayName=oC;var Vv="DialogPortal",[V6,cC]=nC(Vv,{forceMount:void 0}),dC=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ts(Vv,t);return s.jsx(V6,{scope:t,forceMount:r,children:f.Children.map(n,o=>s.jsx(Kt,{present:r||i.open,children:s.jsx(rd,{asChild:!0,container:a,children:o})}))})};dC.displayName=Vv;var gh="DialogOverlay",uC=f.forwardRef((e,t)=>{const r=cC(gh,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ts(gh,e.__scopeDialog);return i.modal?s.jsx(Kt,{present:n||i.open,children:s.jsx(z6,{...a,ref:t})}):null});uC.displayName=gh;var B6=wi("DialogOverlay.RemoveScroll"),z6=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ts(gh,r);return s.jsx(jf,{as:B6,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(ce.div,{"data-state":zv(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ni="DialogContent",hC=f.forwardRef((e,t)=>{const r=cC(Ni,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ts(Ni,e.__scopeDialog);return s.jsx(Kt,{present:n||i.open,children:i.modal?s.jsx(W6,{...a,ref:t}):s.jsx(q6,{...a,ref:t})})});hC.displayName=Ni;var W6=f.forwardRef((e,t)=>{const r=Ts(Ni,e.__scopeDialog),n=f.useRef(null),a=be(t,r.contentRef,n);return f.useEffect(()=>{const i=n.current;if(i)return Av(i)},[]),s.jsx(fC,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:X(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:X(e.onFocusOutside,i=>i.preventDefault())})}),q6=f.forwardRef((e,t)=>{const r=Ts(Ni,e.__scopeDialog),n=f.useRef(!1),a=f.useRef(!1);return s.jsx(fC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),fC=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Ts(Ni,r),c=f.useRef(null),d=be(t,c);return Rv(),s.jsxs(s.Fragment,{children:[s.jsx(wf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(ol,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":zv(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(G6,{titleId:l.titleId}),s.jsx(Y6,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Bv="DialogTitle",mC=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ts(Bv,r);return s.jsx(ce.h2,{id:a.titleId,...n,ref:t})});mC.displayName=Bv;var pC="DialogDescription",gC=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ts(pC,r);return s.jsx(ce.p,{id:a.descriptionId,...n,ref:t})});gC.displayName=pC;var xC="DialogClose",vC=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ts(xC,r);return s.jsx(ce.button,{type:"button",...n,ref:t,onClick:X(e.onClick,()=>a.onOpenChange(!1))})});vC.displayName=xC;function zv(e){return e?"open":"closed"}var yC="DialogTitleWarning",[H6,wC]=UA(yC,{contentName:Ni,titleName:Bv,docsSlug:"dialog"}),G6=({titleId:e})=>{const t=wC(yC),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},K6="DialogDescriptionWarning",Y6=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wC(K6).contentName}}.`;return f.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Wv=iC,qv=lC,Hv=dC,yd=uC,wd=hC,bd=mC,jd=gC,Cf=vC;const bC=Wv,jC=qv,Q6=Hv,_C=f.forwardRef(({className:e,...t},r)=>s.jsx(yd,{className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));_C.displayName=yd.displayName;const X6=ll("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Gv=f.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(Q6,{children:[s.jsx(_C,{}),s.jsxs(wd,{ref:a,className:J(X6({side:e}),t),...n,children:[r,s.jsxs(Cf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(tn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gv.displayName=wd.displayName;const Z6=f.forwardRef(({className:e,...t},r)=>s.jsx(bd,{ref:r,className:J("text-lg font-semibold text-foreground",e),...t}));Z6.displayName=bd.displayName;const J6=f.forwardRef(({className:e,...t},r)=>s.jsx(jd,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));J6.displayName=jd.displayName;const Kv=()=>{const[e,t]=f.useState(null),[r,n]=f.useState(!0);f.useEffect(()=>{const d=async()=>{const{data:{user:h}}=await F.auth.getUser();if(!h){t(null),n(!1);return}const{data:m,error:p}=await F.from("user_roles").select("role").eq("user_id",h.id);if(!p&&m&&m.length>0){const y=m.find(v=>v.role==="admin")||m[0];t(y.role)}n(!1)};d();const{data:{subscription:u}}=F.auth.onAuthStateChange(()=>{d()});return()=>u.unsubscribe()},[]);const a=e==="admin",i=e==="manager";return{role:e,loading:r,isAdmin:a,isManager:i,isContributor:e==="contributor",canManageUsers:a,canViewAllRequests:a||i}},eU=ll("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function re({className:e,variant:t,...r}){return s.jsx("div",{className:J(eU({variant:t}),e),...r})}const ls=()=>{const e=at(),t=Mn(),{toast:r}=ct(),{role:n,canManageUsers:a}=Kv(),i=t.pathname.startsWith("/admin"),o=[{to:"/admin",icon:Gw,label:"Overview"},{to:"/admin/users",icon:JN,label:"Users"},{to:"/admin/credits",icon:Rc,label:"Credits"},{to:"/admin/providers",icon:Ac,label:"Providers"},{to:"/admin/billing",icon:sv,label:"Billing"},{to:"/admin/renders",icon:Lt,label:"Renders"},{to:"/admin/audit",icon:sn,label:"Audit Log"}],l=async()=>{const{error:d}=await F.auth.signOut();d?r({title:"Error",description:"Failed to log out",variant:"destructive"}):e("/auth")},c=[{to:"/dashboard",icon:Gw,label:"Dashboard"},{to:"/long-form",icon:ar,label:"Long-Form Generator",premium:!0},{to:"/video-generator",icon:Ea,label:"AI Video (Veo)"},{to:"/bulk-video",icon:$4,label:"Bulk Video",premium:!0},{to:"/smart-bulk",icon:tv,label:"Smart Bulk",premium:!0},{to:"/assets",icon:qN,label:"Asset Library",premium:!0},{to:"/account/billing",icon:Rc,label:"Billing & Credits"}];return s.jsxs("aside",{className:"w-64 bg-sidebar border-r border-sidebar-border flex flex-col h-full",children:[s.jsxs("div",{className:"p-6 border-b border-sidebar-border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-[14px] bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-sm",children:s.jsx(Lt,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-base font-semibold text-sidebar-foreground tracking-tight",children:"Video Portal"}),s.jsx("p",{className:"text-xs text-sidebar-foreground/60 mt-0.5",children:"Production Hub"})]})]}),n&&s.jsx(re,{variant:"outline",className:"mt-4 capitalize text-xs font-medium",children:n})]}),s.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:i&&a?s.jsx("div",{className:"space-y-1",children:o.map(d=>s.jsxs(Em,{to:d.to,end:d.to==="/admin",className:({isActive:u})=>`flex items-center gap-3 px-3 py-2 rounded-[10px] transition-all duration-150 ${u?"bg-primary/10 text-primary font-medium":"text-sidebar-foreground hover:bg-sidebar-accent/60"}`,children:[s.jsx(d.icon,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:d.label})]},d.to))}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-1",children:c.map(d=>s.jsxs(Em,{to:d.to,end:d.to==="/",className:({isActive:u})=>`flex items-center gap-3 px-3 py-2 rounded-[10px] transition-all duration-150 ${d.premium?"bg-gradient-to-r from-amber-500/8 to-orange-500/8 ":""}${u?"bg-primary text-primary-foreground font-medium shadow-sm":"text-sidebar-foreground hover:bg-sidebar-accent/80"}`,children:[s.jsx(d.icon,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:d.label})]},d.to))}),a&&s.jsx("div",{className:"space-y-1 mt-4 pt-4 border-t border-sidebar-border",children:s.jsxs(Em,{to:"/admin",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-[10px] transition-all duration-150 ${d?"bg-primary text-primary-foreground font-medium shadow-sm":"text-sidebar-foreground hover:bg-sidebar-accent/80"}`,children:[s.jsx(Tc,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Admin"})]})})]})}),s.jsx("div",{className:"p-4 border-t border-sidebar-border",children:s.jsxs(V,{onClick:l,variant:"ghost",className:"w-full justify-start text-sidebar-foreground hover:bg-sidebar-accent/80 h-9 rounded-[14px]",children:[s.jsx(U4,{className:"h-4 w-4 mr-2.5"}),s.jsx("span",{className:"text-sm",children:"Log Out"})]})})]})};function xl(){const[e,t]=f.useState(null),[r,n]=f.useState(!0),{toast:a}=ct();f.useEffect(()=>{i();const l=F.channel("credit_balance_changes").on("postgres_changes",{event:"*",schema:"public",table:"credit_balance"},()=>{i()}).subscribe();return()=>{F.removeChannel(l)}},[]);const i=async()=>{try{const{data:{user:l}}=await F.auth.getUser();if(!l){t(null),n(!1);return}const{data:c,error:d}=await F.from("credit_balance").select("*").eq("user_id",l.id).single();if(d&&d.code!=="PGRST116")throw d;t(c||{credits:0,updated_at:new Date().toISOString()})}catch(l){console.error("Error fetching credit balance:",l),a({title:"Error",description:"Failed to load credit balance",variant:"destructive"})}finally{n(!1)}},o=l=>e?e.credits>=l:!1;return{balance:e,loading:r,refresh:i,checkCredits:o,hasCredits:l=>o(l)}}const tU=({onSidebarToggle:e})=>{const t=at(),[r,n]=f.useState(""),[a,i]=f.useState(""),{balance:o}=xl();f.useEffect(()=>{(async()=>{const{data:{user:d}}=await F.auth.getUser();if(d!=null&&d.email){n(d.email);const u=d.email.split("@")[0].split(".").map(h=>h[0]).join("").toUpperCase().slice(0,2);i(u||"U")}})()},[]);const l=async()=>{await F.auth.signOut(),t("/auth")};return s.jsx("nav",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsxs("div",{className:"flex h-16 items-center px-6",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsxs(bC,{children:[s.jsx(jC,{asChild:!0,children:s.jsx(V,{variant:"ghost",size:"icon",className:"md:hidden h-9 w-9",children:s.jsx(KN,{className:"h-5 w-5"})})}),s.jsx(Gv,{side:"left",className:"w-64 p-0",children:s.jsx(ls,{})})]}),s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"h-8 w-8 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-sm",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"V"})}),s.jsx("span",{className:"font-semibold text-lg tracking-tight hidden sm:inline-block",children:"Video Portal"})]})]}),s.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(id,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:"Search...",className:"pl-9 h-9 bg-muted/50 border-border/50 focus:bg-background"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>t("/account/billing"),className:"hidden md:flex items-center gap-2 h-9 rounded-[10px] border-primary/20 hover:bg-primary/5",children:[s.jsx(sv,{className:"h-4 w-4"}),s.jsxs("span",{className:"text-sm font-medium",children:[(o==null?void 0:o.credits.toLocaleString())||"0"," credits"]})]}),s.jsx(V,{variant:"ghost",size:"icon",className:"hidden md:flex",children:s.jsx(I4,{className:"h-5 w-5"})}),s.jsxs(v6,{children:[s.jsx(y6,{asChild:!0,children:s.jsx(V,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:s.jsx(rC,{className:"h-9 w-9",children:s.jsx(sC,{className:"bg-primary text-primary-foreground text-sm font-medium",children:a})})})}),s.jsxs(zk,{align:"end",className:"w-56",children:[s.jsx(Wk,{children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:"Account"}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:r})]})}),s.jsx(Ig,{}),s.jsx(ql,{onClick:()=>t("/dashboard"),children:"Dashboard"}),s.jsx(ql,{onClick:()=>t("/templates"),children:"Templates"}),s.jsxs(ql,{onClick:()=>t("/account/billing"),children:[s.jsx(Rc,{className:"mr-2 h-4 w-4"}),"Billing & Credits"]}),s.jsx(Ig,{}),s.jsx(ql,{onClick:l,className:"text-destructive",children:"Log out"})]})]})]})]})})},Hm=({children:e,showRightPanel:t=!1,rightPanelContent:r})=>s.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-background",children:[s.jsx("aside",{className:"hidden md:flex",children:s.jsx(ls,{})}),s.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[s.jsx(tU,{}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx("div",{className:"h-full w-full",children:e})}),t&&r&&s.jsx("aside",{className:"hidden lg:flex w-80 border-l border-border bg-muted/30 overflow-y-auto",children:r})]})]})]}),ut=({children:e,requireAuth:t=!0})=>{const[r,n]=f.useState(!0),[a,i]=f.useState(!1),o=at();return f.useEffect(()=>{(async()=>{try{if(!t){i(!0),n(!1);return}const{data:{session:d},error:u}=await F.auth.getSession();u&&console.error("Auth error:",u),d?i(!0):o("/auth"),n(!1)}catch(d){console.error("Error checking auth:",d),n(!1),t&&o("/auth")}})();const{data:{subscription:c}}=F.auth.onAuthStateChange((d,u)=>{t&&!u?o("/auth"):i(!!u)});return()=>{c==null||c.unsubscribe()}},[t,o]),r?s.jsx(Hm,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"animate-pulse space-y-4 w-full max-w-md px-6",children:[s.jsx("div",{className:"h-8 bg-muted rounded-[14px] w-3/4"}),s.jsx("div",{className:"h-64 bg-muted rounded-[14px]"})]})})}):!t||a?s.jsx(Hm,{children:e}):s.jsx(Hm,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"text-muted-foreground",children:"Redirecting..."})})})};var rU="Label",NC=f.forwardRef((e,t)=>s.jsx(ce.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));NC.displayName=rU;var SC=NC;const sU=ll("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),z=f.forwardRef(({className:e,...t},r)=>s.jsx(SC,{ref:r,className:J(sU(),e),...t}));z.displayName=SC.displayName;const H=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("rounded-[14px] border border-border/50 bg-card text-card-foreground shadow-sm hover:shadow-md transition-all duration-150",e),...t}));H.displayName="Card";const se=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-6",e),...t}));se.displayName="CardHeader";const ne=f.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:J("text-2xl font-semibold leading-none tracking-tight",e),...t}));ne.displayName="CardTitle";const Ce=f.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Ce.displayName="CardDescription";const Y=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("p-6 pt-0",e),...t}));Y.displayName="CardContent";const Og=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("flex items-center p-6 pt-0",e),...t}));Og.displayName="CardFooter";var Ef="Tabs",[nU,bW]=Ot(Ef,[gl]),kC=gl(),[aU,Yv]=nU(Ef),CC=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Ua(l),[h,m]=xr({prop:n,onChange:a,defaultProp:i??"",caller:Ef});return s.jsx(aU,{scope:r,baseId:qr(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(ce.div,{dir:u,"data-orientation":o,...d,ref:t})})});CC.displayName=Ef;var EC="TabsList",RC=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Yv(EC,r),o=kC(r);return s.jsx(Pv,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(ce.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});RC.displayName=EC;var PC="TabsTrigger",TC=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=Yv(PC,r),l=kC(r),c=OC(o.baseId,n),d=MC(o.baseId,n),u=n===o.value;return s.jsx(Tv,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(ce.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:X(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:X(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:X(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(n)})})})});TC.displayName=PC;var AC="TabsContent",IC=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=Yv(AC,r),c=OC(l.baseId,n),d=MC(l.baseId,n),u=n===l.value,h=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(Kt,{present:a||u,children:({present:m})=>s.jsx(ce.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});IC.displayName=AC;function OC(e,t){return`${e}-trigger-${t}`}function MC(e,t){return`${e}-content-${t}`}var iU=CC,DC=RC,FC=TC,LC=IC;const ir=iU,Jt=f.forwardRef(({className:e,...t},r)=>s.jsx(DC,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Jt.displayName=DC.displayName;const Te=f.forwardRef(({className:e,...t},r)=>s.jsx(FC,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Te.displayName=FC.displayName;const Me=f.forwardRef(({className:e,...t},r)=>s.jsx(LC,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Me.displayName=LC.displayName;const oU=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState(""),[a,i]=f.useState(""),[o,l]=f.useState(""),c=at(),{toast:d}=ct(),u=async m=>{m.preventDefault(),t(!0);const{error:p}=await F.auth.signInWithPassword({email:r,password:a});p?d({title:"Error",description:p.message,variant:"destructive"}):(d({title:"Success",description:"Logged in successfully"}),c("/dashboard")),t(!1)},h=async m=>{m.preventDefault(),t(!0);const{error:p}=await F.auth.signUp({email:r,password:a,options:{data:{full_name:o},emailRedirectTo:`${window.location.origin}/dashboard`}});d(p?{title:"Error",description:p.message,variant:"destructive"}:{title:"Success",description:"Account created successfully! You can now log in."}),t(!1)};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(H,{className:"w-full max-w-md shadow-elegant",children:[s.jsxs(se,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-gradient-primary rounded-lg",children:s.jsx(Lt,{className:"h-8 w-8 text-primary-foreground"})})}),s.jsx(ne,{className:"text-2xl font-bold",children:"Video Portal"}),s.jsx(Ce,{children:"Access your video production workflow"})]}),s.jsx(Y,{children:s.jsxs(ir,{defaultValue:"signin",className:"w-full",children:[s.jsxs(Jt,{className:"grid w-full grid-cols-2 mb-4",children:[s.jsx(Te,{value:"signin",children:"Sign In"}),s.jsx(Te,{value:"signup",children:"Sign Up"})]}),s.jsx(Me,{value:"signin",children:s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"email",children:"Email"}),s.jsx(Ne,{id:"email",type:"email",placeholder:"your@email.com",value:r,onChange:m=>n(m.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"password",children:"Password"}),s.jsx(Ne,{id:"password",type:"password",placeholder:"",value:a,onChange:m=>i(m.target.value),required:!0})]}),s.jsx(V,{type:"submit",className:"w-full",disabled:e,children:e?"Signing in...":"Sign In"})]})}),s.jsx(Me,{value:"signup",children:s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"fullname",children:"Full Name"}),s.jsx(Ne,{id:"fullname",type:"text",placeholder:"John Doe",value:o,onChange:m=>l(m.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"signup-email",children:"Email"}),s.jsx(Ne,{id:"signup-email",type:"email",placeholder:"your@email.com",value:r,onChange:m=>n(m.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"signup-password",children:"Password"}),s.jsx(Ne,{id:"signup-password",type:"password",placeholder:"",value:a,onChange:m=>i(m.target.value),required:!0,minLength:6})]}),s.jsx(V,{type:"submit",className:"w-full",disabled:e,children:e?"Creating account...":"Sign Up"})]})})]})})]})})};var Rf="Collapsible",[lU,$C]=Ot(Rf),[cU,Qv]=lU(Rf),UC=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,d]=xr({prop:n,defaultProp:a??!1,onChange:o,caller:Rf});return s.jsx(cU,{scope:r,disabled:i,contentId:qr(),open:c,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),children:s.jsx(ce.div,{"data-state":ey(c),"data-disabled":i?"":void 0,...l,ref:t})})});UC.displayName=Rf;var VC="CollapsibleTrigger",Xv=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=Qv(VC,r);return s.jsx(ce.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":ey(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:X(e.onClick,a.onOpenToggle)})});Xv.displayName=VC;var Zv="CollapsibleContent",Jv=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Qv(Zv,e.__scopeCollapsible);return s.jsx(Kt,{present:r||a.open,children:({present:i})=>s.jsx(dU,{...n,ref:t,present:i})})});Jv.displayName=Zv;var dU=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=Qv(Zv,r),[l,c]=f.useState(n),d=f.useRef(null),u=be(t,d),h=f.useRef(0),m=h.current,p=f.useRef(0),w=p.current,y=o.open||l,v=f.useRef(y),b=f.useRef(void 0);return f.useEffect(()=>{const g=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(g)},[]),Rt(()=>{const g=d.current;if(g){b.current=b.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const x=g.getBoundingClientRect();h.current=x.height,p.current=x.width,v.current||(g.style.transitionDuration=b.current.transitionDuration,g.style.animationName=b.current.animationName),c(n)}},[o.open,n]),s.jsx(ce.div,{"data-state":ey(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:y&&a})});function ey(e){return e?"open":"closed"}var BC=UC,uU=Xv,hU=Jv,As="Accordion",fU=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ty,mU,pU]=il(As),[Pf,jW]=Ot(As,[pU,$C]),ry=$C(),zC=B.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(ty.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(yU,{...i,ref:t}):s.jsx(vU,{...a,ref:t})})});zC.displayName=As;var[WC,gU]=Pf(As),[qC,xU]=Pf(As,{collapsible:!1}),vU=B.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=xr({prop:r,defaultProp:n??"",onChange:a,caller:As});return s.jsx(WC,{scope:e.__scopeAccordion,value:B.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:B.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(qC,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(HC,{...o,ref:t})})})}),yU=B.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=xr({prop:r,defaultProp:n??[],onChange:a,caller:As}),c=B.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=B.useCallback(u=>l((h=[])=>h.filter(m=>m!==u)),[l]);return s.jsx(WC,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:s.jsx(qC,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(HC,{...i,ref:t})})})}),[wU,Tf]=Pf(As),HC=B.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=B.useRef(null),c=be(l,t),d=mU(r),h=Ua(a)==="ltr",m=X(e.onKeyDown,p=>{var S;if(!fU.includes(p.key))return;const w=p.target,y=d().filter(E=>{var I;return!((I=E.ref.current)!=null&&I.disabled)}),v=y.findIndex(E=>E.ref.current===w),b=y.length;if(v===-1)return;p.preventDefault();let g=v;const x=0,j=b-1,_=()=>{g=v+1,g>j&&(g=x)},N=()=>{g=v-1,g<x&&(g=j)};switch(p.key){case"Home":g=x;break;case"End":g=j;break;case"ArrowRight":i==="horizontal"&&(h?_():N());break;case"ArrowDown":i==="vertical"&&_();break;case"ArrowLeft":i==="horizontal"&&(h?N():_());break;case"ArrowUp":i==="vertical"&&N();break}const k=g%b;(S=y[k].ref.current)==null||S.focus()});return s.jsx(wU,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(ty.Slot,{scope:r,children:s.jsx(ce.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:m})})})}),xh="AccordionItem",[bU,sy]=Pf(xh),GC=B.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=Tf(xh,r),o=gU(xh,r),l=ry(r),c=qr(),d=n&&o.value.includes(n)||!1,u=i.disabled||e.disabled;return s.jsx(bU,{scope:r,open:d,disabled:u,triggerId:c,children:s.jsx(BC,{"data-orientation":i.orientation,"data-state":JC(d),...l,...a,ref:t,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(n):o.onItemClose(n)}})})});GC.displayName=xh;var KC="AccordionHeader",YC=B.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Tf(As,r),i=sy(KC,r);return s.jsx(ce.h3,{"data-orientation":a.orientation,"data-state":JC(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});YC.displayName=KC;var Mg="AccordionTrigger",QC=B.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Tf(As,r),i=sy(Mg,r),o=xU(Mg,r),l=ry(r);return s.jsx(ty.ItemSlot,{scope:r,children:s.jsx(uU,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});QC.displayName=Mg;var XC="AccordionContent",ZC=B.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Tf(As,r),i=sy(XC,r),o=ry(r);return s.jsx(hU,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});ZC.displayName=XC;function JC(e){return e?"open":"closed"}var jU=zC,_U=GC,NU=YC,e2=QC,t2=ZC;const SU=jU,r2=f.forwardRef(({className:e,...t},r)=>s.jsx(_U,{ref:r,className:J("border-b",e),...t}));r2.displayName="AccordionItem";const s2=f.forwardRef(({className:e,children:t,...r},n)=>s.jsx(NU,{className:"flex",children:s.jsxs(e2,{ref:n,className:J("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(nd,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));s2.displayName=e2.displayName;const n2=f.forwardRef(({className:e,children:t,...r},n)=>s.jsx(t2,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:J("pb-4 pt-0",e),children:t})}));n2.displayName=t2.displayName;const kU=()=>{const e=at(),[t,r]=f.useState(!1),[n,a]=f.useState("ingest"),i=o=>{var l;(l=document.getElementById(o))==null||l.scrollIntoView({behavior:"smooth"}),r(!1)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("nav",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"container mx-auto px-6 md:px-8",children:s.jsxs("div",{className:"flex h-16 items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"h-8 w-8 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-sm",children:s.jsx(Lt,{className:"h-5 w-5 text-white"})}),s.jsx("span",{className:"font-semibold text-lg tracking-tight",children:"Video Portal"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[s.jsx("button",{onClick:()=>i("features"),className:"text-sm font-medium text-foreground/80 hover:text-foreground transition-colors",children:"Features"}),s.jsx("button",{onClick:()=>i("how-it-works"),className:"text-sm font-medium text-foreground/80 hover:text-foreground transition-colors",children:"How it Works"}),s.jsx("button",{onClick:()=>i("integrations"),className:"text-sm font-medium text-foreground/80 hover:text-foreground transition-colors",children:"Integrations"}),s.jsx("button",{onClick:()=>i("pricing"),className:"text-sm font-medium text-foreground/80 hover:text-foreground transition-colors",children:"Pricing"}),s.jsx("button",{onClick:()=>i("faq"),className:"text-sm font-medium text-foreground/80 hover:text-foreground transition-colors",children:"FAQ"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(bC,{open:t,onOpenChange:r,children:[s.jsx(jC,{asChild:!0,className:"md:hidden",children:s.jsx(V,{variant:"ghost",size:"icon",className:"md:hidden h-9 w-9",children:s.jsx(KN,{className:"h-5 w-5"})})}),s.jsx(Gv,{side:"right",className:"w-[280px]",children:s.jsxs("div",{className:"flex flex-col gap-4 mt-8",children:[s.jsx("button",{onClick:()=>i("features"),className:"text-left text-base font-medium text-foreground hover:text-foreground/80 transition-colors",children:"Features"}),s.jsx("button",{onClick:()=>i("how-it-works"),className:"text-left text-base font-medium text-foreground hover:text-foreground/80 transition-colors",children:"How it Works"}),s.jsx("button",{onClick:()=>i("integrations"),className:"text-left text-base font-medium text-foreground hover:text-foreground/80 transition-colors",children:"Integrations"}),s.jsx("button",{onClick:()=>i("pricing"),className:"text-left text-base font-medium text-foreground hover:text-foreground/80 transition-colors",children:"Pricing"}),s.jsx("button",{onClick:()=>i("faq"),className:"text-left text-base font-medium text-foreground hover:text-foreground/80 transition-colors",children:"FAQ"}),s.jsx(V,{onClick:()=>e("/auth"),className:"mt-4 rounded-[14px]",children:"Get Started"})]})})]}),s.jsx(V,{onClick:()=>e("/auth"),className:"hidden md:flex rounded-[14px] shadow-sm hover:shadow-md transition-all duration-150",children:"Get Started"})]})]})})}),s.jsx("section",{className:"container mx-auto px-6 md:px-8 py-20 md:py-32",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 md:gap-16 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-semibold tracking-tight text-foreground leading-[1.1]",children:"Generate long-form videos with AI orchestration"}),s.jsx("p",{className:"text-lg md:text-xl text-muted-foreground leading-relaxed max-w-xl",children:"Orchestrate workflows across providers to create minutes-to-hours of video. Compliance-safe, repeatable pipelines with quality control built-in."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(V,{onClick:()=>e("/auth"),size:"lg",className:"rounded-[14px] shadow-sm hover:shadow-md transition-all duration-150 text-base px-8 h-12",children:["Generate a Long-Form Video",s.jsx(en,{className:"ml-2 h-4 w-4"})]}),s.jsxs(V,{variant:"outline",size:"lg",onClick:()=>i("integrations"),className:"rounded-[14px] border-border/50 text-base px-8 h-12",children:[s.jsx(Kp,{className:"mr-2 h-4 w-4"}),"View Integrations"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx(Tc,{className:"h-4 w-4"}),"Provider-agnostic architecture  Compliance-ready workflows"]})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"rounded-[20px] bg-gradient-to-br from-primary/20 via-accent/20 to-primary/10 p-6 border border-border/50 shadow-lg",children:s.jsxs("div",{className:"bg-muted/40 rounded-[14px] backdrop-blur-sm border border-border/50 p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Long-Form Studio"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"12:34 / 15:00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Timeline"}),s.jsx("div",{className:"h-2 bg-border/50 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-accent rounded-full",style:{width:"82%"}})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Scene List (18 scenes)"}),s.jsx("div",{className:"space-y-1.5 max-h-32 overflow-y-auto",children:[1,2,3,4].map(o=>s.jsxs("div",{className:"flex items-center gap-2 text-xs bg-background/50 p-2 rounded-[8px] border border-border/30",children:[s.jsx("div",{className:"w-6 text-center font-medium text-muted-foreground",children:o}),s.jsxs("div",{className:"flex-1 text-foreground/80",children:["Scene ",o," description"]}),s.jsx("div",{className:"px-2 py-0.5 bg-primary/10 text-primary rounded text-[10px] font-medium",children:"Kie"})]},o))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Render Queue"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("div",{className:"flex-1 bg-background/50 p-2 rounded-[8px] border border-border/30",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary animate-pulse"}),s.jsx("span",{className:"text-foreground/80",children:"Rendering scene 5/18..."})]})}),s.jsx("div",{className:"px-2 py-1 bg-muted rounded text-[10px]",children:"3 queued"})]})]})]})})})]})}),s.jsx("section",{className:"border-y border-border/40 py-12",children:s.jsx("div",{className:"container mx-auto px-6 md:px-8",children:s.jsx("div",{className:"flex flex-wrap items-center justify-center gap-8 md:gap-12 opacity-60",children:["Acme Inc","TechCorp","StartupXYZ","BrandCo","InnovateLabs","FutureMedia"].map((o,l)=>s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:o},l))})})}),s.jsxs("section",{id:"features",className:"container mx-auto px-6 md:px-8 py-20 md:py-32",children:[s.jsxs("div",{className:"text-center space-y-4 mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-semibold tracking-tight",children:"Everything for long-form production"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Orchestrate complex workflows with compliance and quality controls"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:ar,title:"Long-Form Generation",desc:"Create videos from minutes to hours with multi-scene orchestration"},{icon:X4,title:"Scene Orchestration",desc:"Automatically break scripts into scenes, shots, and sequences"},{icon:ev,title:"Provider Routing",desc:"Choose Kie, fal, or other providers per scene for optimal results"},{icon:Tc,title:"Compliance Modes",desc:"Brand-safe generation with rights-safe prompts and no-logo options"},{icon:At,title:"Quality Gates",desc:"Preview, retry, and consistency checks before final render"},{icon:qN,title:"Asset Library",desc:"Centralized voice, music, b-roll, and caption assets"},{icon:JN,title:"Team Collaboration",desc:"Role-based access, approvals, and collaborative workflows"},{icon:W4,title:"Export & Publish",desc:"Multiple formats, aspect ratios, and direct delivery options"}].map((o,l)=>s.jsxs("div",{className:"p-6 rounded-[14px] border border-border/50 bg-card hover:shadow-md transition-all duration-150",children:[s.jsx("div",{className:"h-12 w-12 rounded-[14px] bg-primary/10 flex items-center justify-center mb-4",children:s.jsx(o.icon,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:o.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o.desc})]},l))})]}),s.jsx("section",{id:"how-it-works",className:"bg-muted/30 py-20 md:py-32",children:s.jsxs("div",{className:"container mx-auto px-6 md:px-8",children:[s.jsxs("div",{className:"text-center space-y-4 mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-semibold tracking-tight",children:"How it works"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"From script to finished long-form video in four steps"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center max-w-6xl mx-auto",children:[s.jsxs(ir,{value:n,onValueChange:a,className:"w-full",children:[s.jsxs(Jt,{className:"grid w-full grid-cols-4 mb-8",children:[s.jsx(Te,{value:"ingest",className:"text-xs",children:"1. Ingest"}),s.jsx(Te,{value:"storyboard",className:"text-xs",children:"2. Storyboard"}),s.jsx(Te,{value:"render",className:"text-xs",children:"3. Render"}),s.jsx(Te,{value:"assemble",className:"text-xs",children:"4. Assemble"})]}),s.jsxs(Me,{value:"ingest",className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Ingest"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Upload your script, outline, podcast transcript, or blog URL. Our system understands context and intent, automatically structuring your content for video production."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(vt,{className:"h-4 w-4 text-primary"}),"Script parsing & analysis"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(vt,{className:"h-4 w-4 text-primary"}),"Multi-format input support"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(vt,{className:"h-4 w-4 text-primary"}),"Automatic content structuring"]})]})]}),s.jsxs(Me,{value:"storyboard",className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Storyboard"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"AI automatically breaks your content into scenes and shot lists. Assign styles, select providers per scene, and preview before rendering."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(vt,{className:"h-4 w-4 text-primary"}),"Auto scene generation"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(vt,{className:"h-4 w-4 text-primary"}),"Shot list & style assignment"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(vt,{className:"h-4 w-4 text-primary"}),"Provider selection per scene"]})]})]}),s.jsxs(Me,{value:"render",className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Render"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Orchestrate rendering across providers with intelligent queue management. Automatic retries, quality checks, and consistency validation."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(vt,{className:"h-4 w-4 text-primary"}),"Multi-provider orchestration"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(vt,{className:"h-4 w-4 text-primary"}),"Intelligent queue management"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(vt,{className:"h-4 w-4 text-primary"}),"Automatic retries & quality gates"]})]})]}),s.jsxs(Me,{value:"assemble",className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Assemble"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Final timeline assembly with captions, audio mixing, and transitions. Export in any format or deliver directly to your platforms."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(vt,{className:"h-4 w-4 text-primary"}),"Timeline editing"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(vt,{className:"h-4 w-4 text-primary"}),"Captions & audio mixing"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(vt,{className:"h-4 w-4 text-primary"}),"Multi-format export"]})]})]})]}),s.jsx("div",{className:"rounded-[20px] bg-gradient-to-br from-primary/20 via-accent/20 to-primary/10 p-6 border border-border/50 shadow-lg",children:s.jsxs("div",{className:"bg-muted/40 rounded-[14px] backdrop-blur-sm border border-border/50 p-6 space-y-6 min-h-[400px]",children:[n==="ingest"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Input Sources"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"p-3 bg-background/50 rounded-[8px] border border-border/30 text-sm",children:" Script: Founder Story.docx"}),s.jsx("div",{className:"p-3 bg-background/50 rounded-[8px] border border-border/30 text-sm",children:" Podcast: Episode 23.mp3"}),s.jsx("div",{className:"p-3 bg-background/50 rounded-[8px] border border-border/30 text-sm",children:" URL: https://blog.example.com/post"})]})]}),n==="storyboard"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Scene Breakdown (18 scenes)"}),s.jsx("div",{className:"space-y-1.5 max-h-64 overflow-y-auto",children:[1,2,3,4,5,6].map(o=>s.jsxs("div",{className:"flex items-center gap-2 text-xs bg-background/50 p-2 rounded-[8px] border border-border/30",children:[s.jsx("div",{className:"w-6 text-center font-medium text-muted-foreground",children:o}),s.jsxs("div",{className:"flex-1 text-foreground/80",children:["Scene ",o,": ",o===1?"Opening hook":o===2?"Problem statement":o===3?"Solution intro":"Content continuation"]}),s.jsx("div",{className:"px-2 py-0.5 bg-primary/10 text-primary rounded text-[10px] font-medium",children:o%2===0?"Kie":"fal"})]},o))})]}),n==="render"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Render Queue"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"p-3 bg-background/50 rounded-[8px] border border-primary/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary animate-pulse"}),s.jsx("span",{className:"text-sm font-medium",children:"Scene 5/18"})]}),s.jsx("div",{className:"text-xs text-muted-foreground ml-3.5",children:"Rendering via Kie..."})]}),s.jsxs("div",{className:"p-3 bg-background/50 rounded-[8px] border border-border/30 opacity-60",children:[s.jsx("div",{className:"text-sm font-medium mb-1",children:"Scene 6/18"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Queued (fal)"})]}),s.jsxs("div",{className:"p-3 bg-background/50 rounded-[8px] border border-border/30 opacity-60",children:[s.jsx("div",{className:"text-sm font-medium mb-1",children:"Scene 7/18"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Queued (Kie)"})]})]})]}),n==="assemble"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Timeline"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-12 bg-gradient-to-r from-primary/20 to-accent/20 rounded-[8px] border border-border/30 flex items-center px-3",children:s.jsx("span",{className:"text-xs font-medium",children:"Scene 1-3 (0:00-2:15)"})}),s.jsx("div",{className:"h-12 bg-gradient-to-r from-primary/20 to-accent/20 rounded-[8px] border border-border/30 flex items-center px-3",children:s.jsx("span",{className:"text-xs font-medium",children:"Scene 4-6 (2:15-4:30)"})}),s.jsx("div",{className:"h-12 bg-gradient-to-r from-primary/20 to-accent/20 rounded-[8px] border border-border/30 flex items-center px-3",children:s.jsx("span",{className:"text-xs font-medium",children:"Scene 7-9 (4:30-6:45)"})})]}),s.jsxs("div",{className:"pt-4 border-t border-border/30 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(At,{className:"h-4 w-4 text-success"}),s.jsx("span",{className:"text-muted-foreground",children:"Captions added"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(At,{className:"h-4 w-4 text-success"}),s.jsx("span",{className:"text-muted-foreground",children:"Audio mixed"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(At,{className:"h-4 w-4 text-success"}),s.jsx("span",{className:"text-muted-foreground",children:"Ready for export"})]})]})]})]})})]})]})}),s.jsxs("section",{id:"integrations",className:"container mx-auto px-6 md:px-8 py-20 md:py-32",children:[s.jsxs("div",{className:"text-center space-y-4 mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-semibold tracking-tight",children:"Works with your stack"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Provider-agnostic by design. Orchestrate across multiple AI video services."})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[{name:"Kie.ai",desc:"Video generation and upscaling provider",capabilities:["Video generation","Upscaling","Scene extension"]},{name:"fal.ai",desc:"Multi-modal AI video and image generation",capabilities:["Video stitching","Quality enhancement","Format conversion"]},{name:"Bring Your Own Model",desc:"Integrate custom providers via API",capabilities:["Custom endpoints","API routing","Flexible integration"]},{name:"Storage: S3/GCS",desc:"Cloud storage integration",capabilities:["Asset storage","Direct uploads","CDN delivery"]},{name:"Automation: Webhooks",desc:"Event-driven workflows",capabilities:["n8n integration","Zapier support","Custom webhooks"]},{name:"Video Platforms",desc:"Direct publishing integrations",capabilities:["YouTube","Vimeo","Custom delivery"]}].map((o,l)=>s.jsxs("div",{className:"p-6 rounded-[14px] border border-border/50 bg-card hover:shadow-md transition-all duration-150",children:[s.jsx("div",{className:"h-10 w-10 rounded-[14px] bg-primary/10 flex items-center justify-center mb-4",children:s.jsx(Kp,{className:"h-5 w-5 text-primary"})}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:o.name}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:o.desc}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Capabilities:"}),o.capabilities.map((c,d)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx("div",{className:"h-1 w-1 rounded-full bg-primary"}),c]},d))]})]},l))}),s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Need a different provider? ",s.jsx("button",{className:"text-primary hover:underline",children:"Contact us"})," for custom integrations."]})})]}),s.jsx("section",{className:"bg-muted/30 py-20 md:py-32",children:s.jsxs("div",{className:"container mx-auto px-6 md:px-8",children:[s.jsxs("div",{className:"text-center space-y-4 mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-semibold tracking-tight",children:"Real long-form outcomes"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"See what teams are creating with Video Portal"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[{title:"12-minute Founder Story",desc:"Multi-scene narrative with brand-safe compliance"},{title:"8-minute Local Service Explainer",desc:"Educational content with consistent style"},{title:"30-minute Training Module",desc:"Long-form instructional video with captions"}].map((o,l)=>s.jsxs("div",{className:"rounded-[14px] border border-border/50 overflow-hidden bg-card hover:shadow-md transition-all duration-150",children:[s.jsxs("div",{className:"aspect-video bg-gradient-to-br from-primary/10 to-accent/10 flex items-center justify-center relative",children:[s.jsx(ar,{className:"h-12 w-12 text-primary/40"}),s.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-background/90 rounded text-[10px] font-medium text-foreground",children:l===0?"12:34":l===1?"8:15":"30:42"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Case Study"}),s.jsx("p",{className:"font-semibold mb-2",children:o.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o.desc})]})]},l))})]})}),s.jsxs("section",{className:"container mx-auto px-6 md:px-8 py-20 md:py-32",children:[s.jsx("div",{className:"text-center space-y-4 mb-16",children:s.jsx("h2",{className:"text-3xl md:text-4xl font-semibold tracking-tight",children:"Trusted by production teams"})}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[{name:"Sarah Chen",role:"Marketing Director",quote:"We produce hours of training content monthly. The orchestration layer makes it seamless."},{name:"Marcus Johnson",role:"Content Producer",quote:"Being able to switch providers per scene gives us optimal results without vendor lock-in."},{name:"Emily Rodriguez",role:"Creative Lead",quote:"Compliance-safe generation means we can scale production without legal concerns."}].map((o,l)=>s.jsxs("div",{className:"p-6 rounded-[14px] border border-border/50 bg-card",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:[1,2,3,4,5].map(c=>s.jsx(G4,{className:"h-4 w-4 fill-primary text-primary"},c))}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:['"',o.quote,'"']}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:o.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:o.role})]})]},l))})]}),s.jsx("section",{id:"pricing",className:"bg-muted/30 py-20 md:py-32",children:s.jsxs("div",{className:"container mx-auto px-6 md:px-8",children:[s.jsxs("div",{className:"text-center space-y-4 mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-semibold tracking-tight",children:"Simple, pay-as-you-go pricing"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Studio Access subscription + credits for video rendering"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"p-8 rounded-[14px] border-2 border-primary/20 bg-card shadow-lg hover:shadow-xl transition-all duration-150",children:[s.jsx("div",{className:"text-xs font-semibold text-primary mb-2",children:"REQUIRED"}),s.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Studio Access"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("span",{className:"text-4xl font-semibold",children:"$99"}),s.jsx("span",{className:"text-muted-foreground",children:"/month"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Unlock the studio (orchestration UI, integrations, team workflows)"}),s.jsx("ul",{className:"space-y-3 mb-8",children:["Studio & orchestration UI","Provider integrations framework","Team collaboration tools","Compliance tooling","Workflow management","Quality gates & retries"].map((o,l)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(vt,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),s.jsx("span",{children:o})]},l))}),s.jsx("div",{className:"text-xs text-muted-foreground mb-4",children:"Studio Access includes 0 credits. Credits are purchased separately."}),s.jsx(V,{onClick:()=>e("/checkout?mode=access"),className:"w-full rounded-[14px]",children:"Subscribe to Studio Access"})]}),s.jsxs("div",{className:"p-8 rounded-[14px] border border-border/50 bg-card hover:shadow-md transition-all duration-150",children:[s.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Credits"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("span",{className:"text-4xl font-semibold",children:"$0.60"}),s.jsx("span",{className:"text-muted-foreground",children:"/credit"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Pay-as-you-go credits for video rendering"}),s.jsx("ul",{className:"space-y-3 mb-8",children:["1 credit = 1 rendered minute","Credits never expire","Buy what you need","No monthly minimums","Provider-agnostic","Automatic refunds on failed renders"].map((o,l)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(vt,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),s.jsx("span",{children:o})]},l))}),s.jsx(V,{onClick:()=>e("/checkout?mode=credits"),variant:"outline",className:"w-full rounded-[14px]",children:"Buy Credits"})]})]})]})}),s.jsx("section",{id:"faq",className:"container mx-auto px-6 md:px-8 py-20 md:py-32",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("div",{className:"text-center space-y-4 mb-16",children:s.jsx("h2",{className:"text-3xl md:text-4xl font-semibold tracking-tight",children:"Frequently asked questions"})}),s.jsx(SU,{type:"single",collapsible:!0,className:"space-y-4",children:[{q:"How long can videos be?",a:"Videos can range from a few minutes to hours. Our system is designed for long-form content with multi-scene orchestration, typically producing 5-60 minute videos, though longer formats are supported."},{q:"Which providers do you support?",a:"We integrate with Kie.ai, fal.ai, and other major AI video providers. You can also bring your own model via API. Our architecture is provider-agnostic, allowing you to switch providers per scene or even use multiple providers in a single project."},{q:"Can I switch providers per scene?",a:"Yes, that's one of our core features. Each scene can be assigned to a different provider based on your needsuse Kie for certain types, fal for others, or any custom provider you've integrated."},{q:"How do you handle consistency across scenes?",a:"Our quality gates and consistency checks ensure visual and narrative coherence. We maintain style continuity, color matching, and pacing across all scenes, regardless of which provider rendered them."},{q:"What does compliance-safe mean?",a:"Compliance-safe generation means we support brand-safe prompts, rights-safe content generation, and no-logo options. Our system helps ensure generated content meets legal and brand guidelines, with configurable compliance rules."},{q:"Do you store prompts and assets?",a:"Yes, we maintain an asset library including voice samples, music, b-roll, and prompts. All data is stored securely and can be managed through our team collaboration features. You can also use your own storage (S3/GCS) for assets."},{q:"How does the orchestration layer work?",a:"The orchestration layer manages workflows across providersqueuing renders, handling retries, ensuring quality gates pass, and assembling the final timeline. It abstracts provider-specific details so you focus on content, not infrastructure."},{q:"What formats can I export to?",a:"We support all major video formats (MP4, MOV, WebM) and aspect ratios (16:9, 9:16, 1:1, etc.). You can export at various resolutions including HD, 4K, and custom dimensions based on your needs."}].map((o,l)=>s.jsxs(r2,{value:`item-${l}`,className:"border border-border/50 rounded-[14px] px-6 bg-card",children:[s.jsx(s2,{className:"text-left font-semibold hover:no-underline",children:o.q}),s.jsx(n2,{className:"text-muted-foreground",children:o.a})]},l))})]})}),s.jsx("section",{className:"bg-muted/30 py-20 md:py-32",children:s.jsx("div",{className:"container mx-auto px-6 md:px-8",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-8 p-12 rounded-[20px] border border-border/50 bg-gradient-to-br from-primary/5 to-accent/5",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-semibold tracking-tight",children:"Ready to create long-form videos at scale?"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Join production teams using Video Portal for orchestrated, compliance-safe video generation."}),s.jsxs(V,{onClick:()=>e("/auth"),size:"lg",className:"rounded-[14px] shadow-sm hover:shadow-md transition-all duration-150 text-base px-8 h-12",children:["Get Started Free",s.jsx(en,{className:"ml-2 h-4 w-4"})]})]})})}),s.jsx("footer",{className:"border-t border-border/40 py-12",children:s.jsx("div",{className:"container mx-auto px-6 md:px-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"h-8 w-8 rounded-xl bg-gradient-to-br from-primary to-accent flex items-center justify-center shadow-sm",children:s.jsx(Lt,{className:"h-5 w-5 text-white"})}),s.jsx("span",{className:"font-semibold text-lg tracking-tight",children:"Video Portal"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-muted-foreground",children:[s.jsx("button",{className:"hover:text-foreground transition-colors",children:"Privacy"}),s.jsx("button",{className:"hover:text-foreground transition-colors",children:"Terms"}),s.jsx("button",{className:"hover:text-foreground transition-colors",children:"Support"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Video Portal. All rights reserved."]})]})})})]})},ny=BC,a2=Xv,ay=Jv;var iy="Progress",oy=100,[CU,_W]=Ot(iy),[EU,RU]=CU(iy),i2=f.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=PU,...o}=e;(a||a===0)&&!tb(a)&&console.error(TU(`${a}`,"Progress"));const l=tb(a)?a:oy;n!==null&&!rb(n,l)&&console.error(AU(`${n}`,"Progress"));const c=rb(n,l)?n:null,d=vh(c)?i(c,l):void 0;return s.jsx(EU,{scope:r,value:c,max:l,children:s.jsx(ce.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":vh(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":c2(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});i2.displayName=iy;var o2="ProgressIndicator",l2=f.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=RU(o2,r);return s.jsx(ce.div,{"data-state":c2(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});l2.displayName=o2;function PU(e,t){return`${Math.round(e/t*100)}%`}function c2(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function vh(e){return typeof e=="number"}function tb(e){return vh(e)&&!isNaN(e)&&e>0}function rb(e,t){return vh(e)&&!isNaN(e)&&e<=t&&e>=0}function TU(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${oy}\`.`}function AU(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${oy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var d2=i2,IU=l2;const _d=f.forwardRef(({className:e,value:t,...r},n)=>s.jsx(d2,{ref:n,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(IU,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));_d.displayName=d2.displayName;function dt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ta(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const u2=6048e5,OU=864e5,cu=43200,sb=1440;let MU={};function Nd(){return MU}function zc(e,t){var l,c,d,u;const r=Nd(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=dt(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function yh(e){return zc(e,{weekStartsOn:1})}function h2(e){const t=dt(e),r=t.getFullYear(),n=Ta(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=yh(n),i=Ta(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=yh(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function nb(e){const t=dt(e);return t.setHours(0,0,0,0),t}function wh(e){const t=dt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function DU(e,t){const r=nb(e),n=nb(t),a=+r-wh(r),i=+n-wh(n);return Math.round((a-i)/OU)}function FU(e){const t=h2(e),r=Ta(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),yh(r)}function Eu(e,t){const r=dt(e),n=dt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function LU(e){return Ta(e,Date.now())}function $U(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function UU(e){if(!$U(e)&&typeof e!="number")return!1;const t=dt(e);return!isNaN(Number(t))}function VU(e,t){const r=dt(e),n=dt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function BU(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function zU(e,t){return+dt(e)-+dt(t)}function WU(e){const t=dt(e);return t.setHours(23,59,59,999),t}function qU(e){const t=dt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function HU(e){const t=dt(e);return+WU(t)==+qU(t)}function GU(e,t){const r=dt(e),n=dt(t),a=Eu(r,n),i=Math.abs(VU(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Eu(r,n)===-a;HU(dt(e))&&i===1&&Eu(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function KU(e,t,r){const n=zU(e,t)/1e3;return BU(r==null?void 0:r.roundingMethod)(n)}function YU(e){const t=dt(e),r=Ta(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const QU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XU=(e,t,r)=>{let n;const a=QU[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Gm(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ZU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tV={date:Gm({formats:ZU,defaultWidth:"full"}),time:Gm({formats:JU,defaultWidth:"full"}),dateTime:Gm({formats:eV,defaultWidth:"full"})},rV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sV=(e,t,r,n)=>rV[e];function Il(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const nV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dV=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},uV={ordinalNumber:dV,era:Il({values:nV,defaultWidth:"wide"}),quarter:Il({values:aV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Il({values:iV,defaultWidth:"wide"}),day:Il({values:oV,defaultWidth:"wide"}),dayPeriod:Il({values:lV,defaultWidth:"wide",formattingValues:cV,defaultFormattingWidth:"wide"})};function Ol(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?fV(l,h=>h.test(o)):hV(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function hV(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function fV(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function mV(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const pV=/^(\d+)(th|st|nd|rd)?/i,gV=/\d+/i,xV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vV={any:[/^b/i,/^(a|c)/i]},yV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wV={any:[/1/i,/2/i,/3/i,/4/i]},bV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_V={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CV={ordinalNumber:mV({matchPattern:pV,parsePattern:gV,valueCallback:e=>parseInt(e,10)}),era:Ol({matchPatterns:xV,defaultMatchWidth:"wide",parsePatterns:vV,defaultParseWidth:"any"}),quarter:Ol({matchPatterns:yV,defaultMatchWidth:"wide",parsePatterns:wV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ol({matchPatterns:bV,defaultMatchWidth:"wide",parsePatterns:jV,defaultParseWidth:"any"}),day:Ol({matchPatterns:_V,defaultMatchWidth:"wide",parsePatterns:NV,defaultParseWidth:"any"}),dayPeriod:Ol({matchPatterns:SV,defaultMatchWidth:"any",parsePatterns:kV,defaultParseWidth:"any"})},f2={code:"en-US",formatDistance:XU,formatLong:tV,formatRelative:sV,localize:uV,match:CV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function EV(e){const t=dt(e);return DU(t,YU(t))+1}function RV(e){const t=dt(e),r=+yh(t)-+FU(t);return Math.round(r/u2)+1}function m2(e,t){var u,h,m,p;const r=dt(e),n=r.getFullYear(),a=Nd(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ta(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=zc(o,t),c=Ta(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=zc(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function PV(e,t){var l,c,d,u;const r=Nd(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=m2(e,t),i=Ta(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),zc(i,t)}function TV(e,t){const r=dt(e),n=+zc(r,t)-+PV(r,t);return Math.round(n/u2)+1}function st(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Wn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return st(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):st(r+1,2)},d(e,t){return st(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return st(e.getHours()%12||12,t.length)},H(e,t){return st(e.getHours(),t.length)},m(e,t){return st(e.getMinutes(),t.length)},s(e,t){return st(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return st(a,t.length)}},Ki={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ab={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Wn.y(e,t)},Y:function(e,t,r,n){const a=m2(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return st(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):st(i,t.length)},R:function(e,t){const r=h2(e);return st(r,t.length)},u:function(e,t){const r=e.getFullYear();return st(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return st(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return st(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Wn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return st(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=TV(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):st(a,t.length)},I:function(e,t,r){const n=RV(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):st(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Wn.d(e,t)},D:function(e,t,r){const n=EV(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):st(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return st(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return st(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return st(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ki.noon:n===0?a=Ki.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ki.evening:n>=12?a=Ki.afternoon:n>=4?a=Ki.morning:a=Ki.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Wn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Wn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):st(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):st(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Wn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Wn.s(e,t)},S:function(e,t){return Wn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ob(n);case"XXXX":case"XX":return Xa(n);case"XXXXX":case"XXX":default:return Xa(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return ob(n);case"xxxx":case"xx":return Xa(n);case"xxxxx":case"xxx":default:return Xa(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ib(n,":");case"OOOO":default:return"GMT"+Xa(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ib(n,":");case"zzzz":default:return"GMT"+Xa(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return st(n,t.length)},T:function(e,t,r){const n=e.getTime();return st(n,t.length)}};function ib(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+st(i,2)}function ob(e,t){return e%60===0?(e>0?"-":"+")+st(Math.abs(e)/60,2):Xa(e,t)}function Xa(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=st(Math.trunc(n/60),2),i=st(n%60,2);return r+a+t+i}const lb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},p2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},AV=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return lb(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",lb(n,t)).replace("{{time}}",p2(a,t))},IV={p:p2,P:AV},OV=/^D+$/,MV=/^Y+$/,DV=["D","DD","YY","YYYY"];function FV(e){return OV.test(e)}function LV(e){return MV.test(e)}function $V(e,t,r){const n=UV(e,t,r);if(console.warn(n),DV.includes(e))throw new RangeError(n)}function UV(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zV=/^'([^]*?)'?$/,WV=/''/g,qV=/[a-zA-Z]/;function Ur(e,t,r){var u,h,m,p;const n=Nd(),a=n.locale??f2,i=n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=dt(e);if(!UU(l))throw new RangeError("Invalid time value");let c=t.match(BV).map(w=>{const y=w[0];if(y==="p"||y==="P"){const v=IV[y];return v(w,a.formatLong)}return w}).join("").match(VV).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const y=w[0];if(y==="'")return{isToken:!1,value:HV(w)};if(ab[y])return{isToken:!0,value:w};if(y.match(qV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(w=>{if(!w.isToken)return w.value;const y=w.value;(LV(y)||FV(y))&&$V(y,t,String(e));const v=ab[y[0]];return v(l,y,a.localize,d)}).join("")}function HV(e){const t=e.match(zV);return t?t[1].replace(WV,"'"):e}function GV(e,t,r){const n=Nd(),a=(r==null?void 0:r.locale)??n.locale??f2,i=2520,o=Eu(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=dt(t),d=dt(e)):(c=dt(e),d=dt(t));const u=KU(d,c),h=(wh(d)-wh(c))/1e3,m=Math.round((u-h)/60);let p;if(m<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<sb){const w=Math.round(m/60);return a.formatDistance("aboutXHours",w,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<cu){const w=Math.round(m/sb);return a.formatDistance("xDays",w,l)}else if(m<cu*2)return p=Math.round(m/cu),a.formatDistance("aboutXMonths",p,l)}if(p=GU(d,c),p<12){const w=Math.round(m/cu);return a.formatDistance("xMonths",w,l)}else{const w=p%12,y=Math.trunc(p/12);return w<3?a.formatDistance("aboutXYears",y,l):w<9?a.formatDistance("overXYears",y,l):a.formatDistance("almostXYears",y+1,l)}}function vl(e,t){return GV(e,LU(e),t)}const ja=Wv,Ru=qv,KV=Hv,g2=f.forwardRef(({className:e,...t},r)=>s.jsx(yd,{ref:r,className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));g2.displayName=yd.displayName;const Nn=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(KV,{children:[s.jsx(g2,{}),s.jsxs(wd,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Cf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(tn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nn.displayName=wd.displayName;const Sn=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Sn.displayName="DialogHeader";const bo=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bo.displayName="DialogFooter";const kn=f.forwardRef(({className:e,...t},r)=>s.jsx(bd,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));kn.displayName=bd.displayName;const jo=f.forwardRef(({className:e,...t},r)=>s.jsx(jd,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));jo.displayName=jd.displayName;const lt=f.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));lt.displayName="Textarea";const YV=ll("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ko=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:J(YV({variant:t}),e),...r}));Ko.displayName="Alert";const Yo=f.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:J("mb-1 font-medium leading-none tracking-tight",e),...t}));Yo.displayName="AlertTitle";const Qo=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:J("text-sm [&_p]:leading-relaxed",e),...t}));Qo.displayName="AlertDescription";const x2=({open:e,onOpenChange:t,failedSceneNumber:r,originalPrompt:n,originalScript:a,errorMessage:i,onRetry:o,isRetrying:l})=>{const[c,d]=f.useState(n||""),[u,h]=f.useState(a||""),m=y=>{y&&(d(n||""),h(a||"")),t(y)},p=async()=>{await o(c,u)},w=(i==null?void 0:i.toLowerCase().includes("content policy"))||(i==null?void 0:i.toLowerCase().includes("moderation"))||(i==null?void 0:i.toLowerCase().includes("safety"));return s.jsx(ja,{open:e,onOpenChange:m,children:s.jsxs(Nn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Sn,{children:[s.jsxs(kn,{className:"flex items-center gap-2",children:["Edit & Retry Scene ",r,s.jsx(re,{variant:"destructive",className:"ml-2",children:"Failed"})]}),s.jsx(jo,{children:"Edit the visual prompt and avatar script before retrying the generation."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ko,{variant:"destructive",children:[s.jsx(ad,{className:"h-4 w-4"}),s.jsx(Yo,{children:"Error Message"}),s.jsx(Qo,{className:"mt-1 text-sm",children:i||"Unknown error occurred"})]}),s.jsxs(Ko,{className:"border-amber-500/50 bg-amber-50/50 dark:bg-amber-950/20",children:[s.jsx(HN,{className:"h-4 w-4 text-amber-600"}),s.jsx(Yo,{className:"text-amber-800 dark:text-amber-400",children:"Tips for Fixing"}),s.jsx(Qo,{className:"text-amber-700 dark:text-amber-300 text-sm mt-1",children:s.jsx("ul",{className:"list-disc list-inside space-y-1",children:w?s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"Remove any references to violence, weapons, or explicit content"}),s.jsx("li",{children:"Avoid celebrity names or real public figures"}),s.jsx("li",{children:"Use professional, business-appropriate language"}),s.jsx("li",{children:"Keep descriptions focused on the work/service"})]}):s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"Simplify complex camera movements"}),s.jsx("li",{children:"Reduce the number of actions in a single scene"}),s.jsx("li",{children:"Ensure the prompt is clear and specific"}),s.jsx("li",{children:"Check for any formatting issues in the text"})]})})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"visual-prompt",className:"text-sm font-semibold",children:"Visual Prompt"}),s.jsx(lt,{id:"visual-prompt",value:c,onChange:y=>d(y.target.value),placeholder:"Enter the visual description for this scene...",className:"min-h-[120px] font-mono text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe what should visually happen in this scene."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"avatar-script",className:"text-sm font-semibold",children:"Avatar Script"}),s.jsx(lt,{id:"avatar-script",value:u,onChange:y=>h(y.target.value),placeholder:"Enter what the avatar should say...",className:"min-h-[100px] text-sm"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The dialogue or narration for the avatar in this scene."})]})]}),s.jsxs(bo,{className:"gap-2 sm:gap-0",children:[s.jsx(V,{variant:"outline",onClick:()=>t(!1),disabled:l,children:"Cancel"}),s.jsx(V,{onClick:p,disabled:l||!c&&!u,children:l?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Retrying..."]}):"Retry with Edits"})]})]})})},QV=({generation:e,onRefresh:t})=>{var I,P,C,R,D;const[r,n]=f.useState(!1),[a,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(1),[u,h]=f.useState(!1),[m,p]=f.useState(!1),w=async $=>{i(!0);try{const{data:U,error:q}=await F.functions.invoke("kie-extend-next",{body:{generation_id:$}});if(q)throw q;if(!(U!=null&&U.success))throw new Error((U==null?void 0:U.error)||"Failed to extend video");Pr.success("Extension Started",{description:"Your video is being extended. This will take a few minutes."}),t==null||t()}catch(U){console.error("Error extending video:",U),Pr.error("Extension Failed",{description:U instanceof Error?U.message:"Failed to extend video"})}finally{i(!1)}},y=async $=>{l(!0);try{const{data:U,error:q}=await F.functions.invoke("cloudinary-stitch-videos",{body:{generation_id:$,trim:!0,trim_seconds:c}});if(q)throw q;Pr.success("Video stitching started!"),t&&t()}catch(U){console.error("Error stitching videos:",U),Pr.error(U.message||"Failed to start stitching")}finally{l(!1)}},v=()=>{if(e.initial_status==="failed"){const U=(e.scene_prompts||[])[0]||{};return{sceneNumber:1,prompt:U.prompt||e.ai_prompt||"",script:U.script||"",error:e.initial_error||"Unknown error"}}else if(e.extended_status==="failed"){const $=e.current_scene||1,q=(e.scene_prompts||[])[$-1]||{};return{sceneNumber:$,prompt:q.prompt||"",script:q.script||"",error:e.extended_error||"Unknown error"}}return{sceneNumber:1,prompt:"",script:"",error:""}},b=async($,U)=>{h(!0);try{const{data:q,error:T}=await F.functions.invoke("kie-retry-generation",{body:{generation_id:e.id,edited_prompt:$,edited_script:U}});if(T)throw T;Pr.success(q.message||"Retry started successfully!"),p(!1),t&&t()}catch(q){console.error("Error retrying generation:",q),Pr.error(q.message||"Failed to retry generation")}finally{h(!1)}},g=()=>e.final_video_url?"completed":e.initial_status==="generating"||e.extended_status==="generating"||e.final_video_status==="generating"?"generating":e.initial_status==="failed"||e.extended_status==="failed"||e.final_video_status==="failed"?"failed":"pending",x=($,U)=>{switch($){case"completed":return s.jsxs(re,{className:"bg-green-500/10 text-green-600 border-green-500/20 hover:bg-green-500/20",children:[s.jsx(At,{className:"mr-1 h-3 w-3"}),"Completed"]});case"generating":return s.jsxs(re,{className:"bg-blue-500/10 text-blue-600 border-blue-500/20 hover:bg-blue-500/20 animate-pulse",children:[s.jsx(we,{className:"mr-1 h-3 w-3 animate-spin"}),"Generating"]});case"failed":return U==="CREDIT_EXHAUSTED"?s.jsxs(re,{className:"bg-amber-500/10 text-amber-600 border-amber-500/20",children:[s.jsx(ad,{className:"mr-1 h-3 w-3"}),"Credits Exhausted"]}):U==="RATE_LIMITED"?s.jsxs(re,{className:"bg-amber-500/10 text-amber-600 border-amber-500/20",children:[s.jsx(Es,{className:"mr-1 h-3 w-3"}),"Rate Limited"]}):s.jsxs(re,{className:"bg-destructive/10 text-destructive border-destructive/20",children:[s.jsx(Wt,{className:"mr-1 h-3 w-3"}),"Failed"]});default:return s.jsxs(re,{variant:"secondary",children:[s.jsx(Es,{className:"mr-1 h-3 w-3"}),"Pending"]})}},j=()=>{var $;return e.final_video_url?e.final_video_url:(($=e.video_segments)==null?void 0:$.length)>0?e.video_segments[0].url:null},_=($,U)=>$?$.length<=U?$:$.substring(0,U)+"...":"",N=()=>{if(!e.is_multi_scene)return 0;const $=e.current_scene||1,U=e.number_of_scenes||1;return Math.round($/U*100)},k=g(),S=j(),E=N();return s.jsx(ny,{open:r,onOpenChange:n,children:s.jsxs(H,{className:`transition-all hover:shadow-md ${k==="generating"?"border-blue-500/30 bg-blue-50/30 dark:bg-blue-950/10":k==="completed"?"border-green-500/30":k==="failed"?"border-destructive/30 bg-destructive/5":""}`,children:[s.jsx(a2,{asChild:!0,children:s.jsx(Y,{className:"p-5 cursor-pointer",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 relative",children:S?s.jsxs("div",{className:"w-36 h-24 rounded-lg overflow-hidden bg-muted",children:[s.jsx("video",{src:S,className:"w-full h-full object-cover",muted:!0}),k==="completed"&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx(At,{className:"h-5 w-5 text-green-500 drop-shadow"})})]}):s.jsx("div",{className:"w-36 h-24 rounded-lg bg-muted flex items-center justify-center",children:k==="generating"?s.jsx(we,{className:"h-8 w-8 text-blue-500 animate-spin"}):s.jsx(ar,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h3",{className:"font-semibold text-lg mb-1 truncate",children:[e.industry," - ",e.avatar_name]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:_(e.story_idea||"No description",100)}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground flex-wrap",children:[s.jsx("span",{children:vl(new Date(e.created_at),{addSuffix:!0})}),s.jsx("span",{children:""}),s.jsx("span",{children:e.city}),e.is_multi_scene&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[e.number_of_scenes," scenes"]})]})]}),e.is_multi_scene&&k==="generating"&&s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"font-medium text-blue-600",children:["Scene ",e.current_scene||1," of ",e.number_of_scenes]}),s.jsxs("span",{className:"text-muted-foreground",children:[E,"%"]})]}),s.jsx(_d,{value:E,className:"h-2"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[x(k,(I=e.metadata)==null?void 0:I.error_type),s.jsx("div",{className:`p-1 rounded-full ${r?"bg-muted":""}`,children:r?s.jsx(Zx,{className:"h-5 w-5 text-muted-foreground"}):s.jsx(nd,{className:"h-5 w-5 text-muted-foreground"})})]})]})})]})})}),s.jsx(ay,{children:s.jsx(Y,{className:"pt-0 px-5 pb-5 border-t",children:s.jsxs("div",{className:"space-y-4 mt-4",children:[e.story_idea&&s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Story Idea"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.story_idea})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(ar,{className:"h-4 w-4"}),"Video Segments (",((P=e.video_segments)==null?void 0:P.length)||0," parts)"]}),e.video_segments&&e.video_segments.length>0?s.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:e.video_segments.map(($,U)=>s.jsxs("div",{className:"border rounded-lg p-3 bg-muted/30",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Part ",U+1," - ",($.duration/1e3).toFixed(0),"s"]}),s.jsx(re,{variant:"secondary",className:"capitalize text-xs",children:$.type})]}),s.jsx("video",{src:$.url,controls:!0,className:"w-full rounded-lg"})]},U))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No segments yet"})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[!e.is_final&&e.extended_status==="completed"&&((C=e.video_segments)==null?void 0:C.length)>=2&&s.jsx(V,{onClick:()=>w(e.id),variant:"outline",size:"sm",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-3 w-3 animate-spin"}),"Extending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Dr,{className:"mr-2 h-3 w-3"}),"Extend (+8s)"]})}),((R=e.video_segments)==null?void 0:R.length)>=2&&s.jsxs("div",{className:"flex items-center gap-2 w-full pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Trim:"}),s.jsx("input",{type:"number",min:"0.5",max:"3",step:"0.5",value:c,onChange:$=>d(parseFloat($.target.value)),className:"w-16 px-2 py-1 text-sm border rounded-md"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"sec"})]}),s.jsx(V,{onClick:()=>y(e.id),size:"sm",disabled:o,className:"ml-auto",children:o?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-3 w-3 animate-spin"}),"Merging..."]}):s.jsxs(s.Fragment,{children:[s.jsx(QN,{className:"mr-2 h-3 w-3"}),"Merge Videos"]})})]})]}),e.final_video_url&&s.jsxs("div",{className:"border-2 border-green-500/50 rounded-lg p-4 bg-green-50/50 dark:bg-green-950/20",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5 text-green-500"}),"Final Video Ready!",s.jsxs(re,{variant:"outline",className:"bg-green-500/10 text-green-600",children:[(((D=e.video_segments)==null?void 0:D.reduce(($,U)=>$+U.duration,0))/1e3||0).toFixed(0),"s"]})]})}),s.jsx("video",{src:e.final_video_url,controls:!0,className:"w-full rounded-lg mb-3"}),s.jsx(V,{className:"w-full",asChild:!0,children:s.jsxs("a",{href:e.final_video_url,download:`video-${e.id}.mp4`,children:[s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Download Video"]})})]}),(e.initial_error||e.extended_error||e.final_video_error)&&s.jsxs("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-destructive font-semibold",children:[s.jsx(Wt,{className:"h-5 w-5"}),"Error Occurred"]}),e.initial_error&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Initial Generation:"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:e.initial_error})]}),e.extended_error&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Extension:"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:e.extended_error})]}),e.final_video_error&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Final Video:"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:e.final_video_error})]}),s.jsxs(V,{onClick:()=>p(!0),variant:"destructive",size:"sm",className:"w-full",children:[s.jsx(XN,{className:"mr-2 h-4 w-4"}),"Edit & Retry"]})]}),(()=>{const $=v();return s.jsx(x2,{open:m,onOpenChange:p,failedSceneNumber:$.sceneNumber,originalPrompt:$.prompt,originalScript:$.script,errorMessage:$.error,onRetry:b,isRetrying:u})})(),s.jsxs("details",{className:"border rounded-lg",children:[s.jsx("summary",{className:"p-3 text-sm font-medium cursor-pointer hover:bg-muted/50 transition-colors",children:"View AI Details"}),s.jsx("div",{className:"p-3 pt-0 space-y-3 border-t",children:e.scene_prompts&&e.scene_prompts.length>0?s.jsx("div",{className:"space-y-3",children:e.scene_prompts.map($=>s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"text-xs font-semibold text-muted-foreground mb-1",children:["Scene ",$.scene_number]}),s.jsx("p",{className:"text-sm font-mono",children:$.prompt}),$.script&&s.jsxs("p",{className:"text-sm italic text-muted-foreground mt-2 border-t pt-2",children:['Script: "',$.script,'"']})]},$.scene_number))}):e.ai_prompt?s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"text-xs font-semibold text-muted-foreground mb-1",children:"AI Prompt"}),s.jsx("p",{className:"text-sm font-mono",children:e.ai_prompt})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No AI details available"})})]})]})})})]})})},XV=({generations:e,userName:t})=>{const r=i=>i.final_video_url?"completed":i.initial_status==="generating"||i.extended_status==="generating"||i.final_video_status==="generating"?"generating":i.initial_status==="failed"||i.extended_status==="failed"||i.final_video_status==="failed"?"failed":"pending",n={total:e.length,completed:e.filter(i=>r(i)==="completed").length,generating:e.filter(i=>r(i)==="generating").length,failed:e.filter(i=>r(i)==="failed").length},a=[{label:"Total Videos",value:n.total,icon:Lt,color:"text-primary",bgColor:"bg-primary/10"},{label:"Completed",value:n.completed,icon:At,color:"text-green-500",bgColor:"bg-green-500/10"},{label:"In Progress",value:n.generating,icon:we,color:"text-blue-500",bgColor:"bg-blue-500/10",animate:!0},{label:"Failed",value:n.failed,icon:Wt,color:"text-destructive",bgColor:"bg-destructive/10"}];return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-semibold tracking-tight text-foreground",children:t?`Welcome back, ${t}`:"Video Dashboard"}),s.jsx("p",{className:"text-base text-muted-foreground mt-2.5",children:"Manage and track your AI-generated videos"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:a.map(i=>s.jsx(H,{className:"border-border/50 hover:shadow-md transition-all duration-150",children:s.jsx(Y,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-[14px] ${i.bgColor} flex-shrink-0`,children:s.jsx(i.icon,{className:`h-5 w-5 ${i.color} ${i.animate?"animate-spin":""}`})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-2xl font-semibold tracking-tight",children:i.value}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 font-medium",children:i.label})]})]})})},i.label))})]})},ZV=()=>{const e=at(),t=[{title:"Create New Video",description:"Start generating an AI video from your image",icon:Dr,onClick:()=>e("/video-generator"),variant:"default",primary:!0},{title:"View My Videos",description:"Browse all your video generations",icon:Lt,onClick:()=>{const r=document.getElementById("video-list");r==null||r.scrollIntoView({behavior:"smooth"})},variant:"outline"},{title:"AI Tips",description:"Get better results with these tips",icon:bt,onClick:()=>{},variant:"outline"}];return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:t.map(r=>s.jsx(H,{className:`cursor-pointer transition-all duration-150 hover:shadow-md hover:-translate-y-0.5 ${r.primary?"border-primary/50 bg-primary/5":"border-border/50"}`,onClick:r.onClick,children:s.jsx(Y,{className:"p-5 md:p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-[14px] flex-shrink-0 ${r.primary?"bg-primary text-primary-foreground shadow-sm":"bg-muted"}`,children:s.jsx(r.icon,{className:"h-5 w-5"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"font-semibold text-base tracking-tight",children:r.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1.5 leading-relaxed",children:r.description})]})]})})},r.title))})},cb=({hasFilters:e,onClearFilters:t})=>{const r=at();return e?s.jsxs("div",{className:"text-center py-16 px-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4",children:s.jsx(Lt,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No matching videos"}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Try adjusting your filters to see more results"}),s.jsx(V,{variant:"outline",onClick:t,children:"Clear Filters"})]}):s.jsxs("div",{className:"text-center py-16 px-4 border rounded-xl bg-gradient-to-b from-muted/30 to-transparent",children:[s.jsx("div",{className:"mx-auto w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mb-6 animate-pulse",children:s.jsx(bt,{className:"h-10 w-10 text-primary"})}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Create Your First Video"}),s.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"Transform your images into stunning AI-generated videos in minutes. Just upload an image and describe your vision."}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:s.jsxs(V,{size:"lg",onClick:()=>r("/video-generator"),children:[s.jsx(Dr,{className:"mr-2 h-5 w-5"}),"Create Your First Video"]})}),s.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-4 max-w-3xl mx-auto text-left",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"font-semibold mb-1 text-sm",children:" Step 1"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a high-quality image of your business or product"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"font-semibold mb-1 text-sm",children:" Step 2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Describe your marketing story and let AI generate scenes"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"font-semibold mb-1 text-sm",children:" Step 3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Review, edit prompts, and generate your video"})]})]})]})};function Wc(e,[t,r]){return Math.min(r,Math.max(t,e))}function Sd(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var JV=[" ","Enter","ArrowUp","ArrowDown"],e8=[" ","Enter"],Si="Select",[Af,If,t8]=il(Si),[yl,NW]=Ot(Si,[t8,hl]),Of=hl(),[r8,Va]=yl(Si),[s8,n8]=yl(Si),v2=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:p,form:w}=e,y=Of(t),[v,b]=f.useState(null),[g,x]=f.useState(null),[j,_]=f.useState(!1),N=Ua(d),[k,S]=xr({prop:n,defaultProp:a??!1,onChange:i,caller:Si}),[E,I]=xr({prop:o,defaultProp:l,onChange:c,caller:Si}),P=f.useRef(null),C=v?w||!!v.closest("form"):!0,[R,D]=f.useState(new Set),$=Array.from(R).map(U=>U.props.value).join(";");return s.jsx(mv,{...y,children:s.jsxs(r8,{required:p,scope:t,trigger:v,onTriggerChange:b,valueNode:g,onValueNodeChange:x,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:qr(),value:E,onValueChange:I,open:k,onOpenChange:S,dir:N,triggerPointerDownPosRef:P,disabled:m,children:[s.jsx(Af.Provider,{scope:t,children:s.jsx(s8,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(U=>{D(q=>new Set(q).add(U))},[]),onNativeOptionRemove:f.useCallback(U=>{D(q=>{const T=new Set(q);return T.delete(U),T})},[]),children:r})}),C?s.jsxs(B2,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:E,onChange:U=>I(U.target.value),disabled:m,form:w,children:[E===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},$):null]})})};v2.displayName=Si;var y2="SelectTrigger",w2=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Of(r),o=Va(y2,r),l=o.disabled||n,c=be(t,o.onTriggerChange),d=If(r),u=f.useRef("touch"),[h,m,p]=W2(y=>{const v=d().filter(x=>!x.disabled),b=v.find(x=>x.value===o.value),g=q2(v,y,b);g!==void 0&&o.onValueChange(g.value)}),w=y=>{l||(o.onOpenChange(!0),p()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return s.jsx(pv,{asChild:!0,...i,children:s.jsx(ce.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":z2(o.value)?"":void 0,...a,ref:c,onClick:X(a.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&w(y)}),onPointerDown:X(a.onPointerDown,y=>{u.current=y.pointerType;const v=y.target;v.hasPointerCapture(y.pointerId)&&v.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:X(a.onKeyDown,y=>{const v=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(v&&y.key===" ")&&JV.includes(y.key)&&(w(),y.preventDefault())})})})});w2.displayName=y2;var b2="SelectValue",j2=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Va(b2,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=be(t,c.onValueNodeChange);return Rt(()=>{d(u)},[d,u]),s.jsx(ce.span,{...l,ref:h,style:{pointerEvents:"none"},children:z2(c.value)?s.jsx(s.Fragment,{children:o}):i})});j2.displayName=b2;var a8="SelectIcon",_2=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(ce.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});_2.displayName=a8;var i8="SelectPortal",N2=e=>s.jsx(rd,{asChild:!0,...e});N2.displayName=i8;var ki="SelectContent",S2=f.forwardRef((e,t)=>{const r=Va(ki,e.__scopeSelect),[n,a]=f.useState();if(Rt(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Ii.createPortal(s.jsx(k2,{scope:e.__scopeSelect,children:s.jsx(Af.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(C2,{...e,ref:t})});S2.displayName=ki;var gs=10,[k2,Ba]=yl(ki),o8="SelectContentImpl",l8=wi("SelectContent.RemoveScroll"),C2=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:y,avoidCollisions:v,...b}=e,g=Va(ki,r),[x,j]=f.useState(null),[_,N]=f.useState(null),k=be(t,Q=>j(Q)),[S,E]=f.useState(null),[I,P]=f.useState(null),C=If(r),[R,D]=f.useState(!1),$=f.useRef(!1);f.useEffect(()=>{if(x)return Av(x)},[x]),Rv();const U=f.useCallback(Q=>{const[Ae,...Ue]=C().map(Fe=>Fe.ref.current),[Ie]=Ue.slice(-1),De=document.activeElement;for(const Fe of Q)if(Fe===De||(Fe==null||Fe.scrollIntoView({block:"nearest"}),Fe===Ae&&_&&(_.scrollTop=0),Fe===Ie&&_&&(_.scrollTop=_.scrollHeight),Fe==null||Fe.focus(),document.activeElement!==De))return},[C,_]),q=f.useCallback(()=>U([S,x]),[U,S,x]);f.useEffect(()=>{R&&q()},[R,q]);const{onOpenChange:T,triggerPointerDownPosRef:O}=g;f.useEffect(()=>{if(x){let Q={x:0,y:0};const Ae=Ie=>{var De,Fe;Q={x:Math.abs(Math.round(Ie.pageX)-(((De=O.current)==null?void 0:De.x)??0)),y:Math.abs(Math.round(Ie.pageY)-(((Fe=O.current)==null?void 0:Fe.y)??0))}},Ue=Ie=>{Q.x<=10&&Q.y<=10?Ie.preventDefault():x.contains(Ie.target)||T(!1),document.removeEventListener("pointermove",Ae),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",Ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",Ue,{capture:!0})}}},[x,T,O]),f.useEffect(()=>{const Q=()=>T(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[T]);const[G,de]=W2(Q=>{const Ae=C().filter(De=>!De.disabled),Ue=Ae.find(De=>De.ref.current===document.activeElement),Ie=q2(Ae,Q,Ue);Ie&&setTimeout(()=>Ie.ref.current.focus())}),oe=f.useCallback((Q,Ae,Ue)=>{const Ie=!$.current&&!Ue;(g.value!==void 0&&g.value===Ae||Ie)&&(E(Q),Ie&&($.current=!0))},[g.value]),je=f.useCallback(()=>x==null?void 0:x.focus(),[x]),_e=f.useCallback((Q,Ae,Ue)=>{const Ie=!$.current&&!Ue;(g.value!==void 0&&g.value===Ae||Ie)&&P(Q)},[g.value]),ge=n==="popper"?Dg:E2,xe=ge===Dg?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:y,avoidCollisions:v}:{};return s.jsx(k2,{scope:r,content:x,viewport:_,onViewportChange:N,itemRefCallback:oe,selectedItem:S,onItemLeave:je,itemTextRefCallback:_e,focusSelectedItem:q,selectedItemText:I,position:n,isPositioned:R,searchRef:G,children:s.jsx(jf,{as:l8,allowPinchZoom:!0,children:s.jsx(wf,{asChild:!0,trapped:g.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:X(a,Q=>{var Ae;(Ae=g.trigger)==null||Ae.focus({preventScroll:!0}),Q.preventDefault()}),children:s.jsx(ol,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:s.jsx(ge,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:Q=>Q.preventDefault(),...b,...xe,onPlaced:()=>D(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:X(b.onKeyDown,Q=>{const Ae=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!Ae&&Q.key.length===1&&de(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let Ie=C().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(Ie=Ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const De=Q.target,Fe=Ie.indexOf(De);Ie=Ie.slice(Fe+1)}setTimeout(()=>U(Ie)),Q.preventDefault()}})})})})})})});C2.displayName=o8;var c8="SelectItemAlignedPosition",E2=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Va(ki,r),o=Ba(ki,r),[l,c]=f.useState(null),[d,u]=f.useState(null),h=be(t,k=>u(k)),m=If(r),p=f.useRef(!1),w=f.useRef(!0),{viewport:y,selectedItem:v,selectedItemText:b,focusSelectedItem:g}=o,x=f.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&y&&v&&b){const k=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),I=b.getBoundingClientRect();if(i.dir!=="rtl"){const De=I.left-S.left,Fe=E.left-De,qt=k.left-Fe,or=k.width+qt,Is=Math.max(or,S.width),Os=window.innerWidth-gs,on=Wc(Fe,[gs,Math.max(gs,Os-Is)]);l.style.minWidth=or+"px",l.style.left=on+"px"}else{const De=S.right-I.right,Fe=window.innerWidth-E.right-De,qt=window.innerWidth-k.right-Fe,or=k.width+qt,Is=Math.max(or,S.width),Os=window.innerWidth-gs,on=Wc(Fe,[gs,Math.max(gs,Os-Is)]);l.style.minWidth=or+"px",l.style.right=on+"px"}const P=m(),C=window.innerHeight-gs*2,R=y.scrollHeight,D=window.getComputedStyle(d),$=parseInt(D.borderTopWidth,10),U=parseInt(D.paddingTop,10),q=parseInt(D.borderBottomWidth,10),T=parseInt(D.paddingBottom,10),O=$+U+R+T+q,G=Math.min(v.offsetHeight*5,O),de=window.getComputedStyle(y),oe=parseInt(de.paddingTop,10),je=parseInt(de.paddingBottom,10),_e=k.top+k.height/2-gs,ge=C-_e,xe=v.offsetHeight/2,Q=v.offsetTop+xe,Ae=$+U+Q,Ue=O-Ae;if(Ae<=_e){const De=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const Fe=d.clientHeight-y.offsetTop-y.offsetHeight,qt=Math.max(ge,xe+(De?je:0)+Fe+q),or=Ae+qt;l.style.height=or+"px"}else{const De=P.length>0&&v===P[0].ref.current;l.style.top="0px";const qt=Math.max(_e,$+y.offsetTop+(De?oe:0)+xe)+Ue;l.style.height=qt+"px",y.scrollTop=Ae-_e+y.offsetTop}l.style.margin=`${gs}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=C+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,y,v,b,i.dir,n]);Rt(()=>x(),[x]);const[j,_]=f.useState();Rt(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const N=f.useCallback(k=>{k&&w.current===!0&&(x(),g==null||g(),w.current=!1)},[x,g]);return s.jsx(u8,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(ce.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});E2.displayName=c8;var d8="SelectPopperPosition",Dg=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=gs,...i}=e,o=Of(r);return s.jsx(gv,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Dg.displayName=d8;var[u8,ly]=yl(ki,{}),Fg="SelectViewport",R2=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Ba(Fg,r),o=ly(Fg,r),l=be(t,i.onViewportChange),c=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Af.Slot,{scope:r,children:s.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:X(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const w=window.innerHeight-gs*2,y=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),b=Math.max(y,v);if(b<w){const g=b+p,x=Math.min(w,g),j=g-x;h.style.height=x+"px",h.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});R2.displayName=Fg;var P2="SelectGroup",[h8,f8]=yl(P2),m8=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=qr();return s.jsx(h8,{scope:r,id:a,children:s.jsx(ce.div,{role:"group","aria-labelledby":a,...n,ref:t})})});m8.displayName=P2;var T2="SelectLabel",A2=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=f8(T2,r);return s.jsx(ce.div,{id:a.id,...n,ref:t})});A2.displayName=T2;var bh="SelectItem",[p8,I2]=yl(bh),O2=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Va(bh,r),c=Ba(bh,r),d=l.value===n,[u,h]=f.useState(i??""),[m,p]=f.useState(!1),w=be(t,g=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,g,n,a)}),y=qr(),v=f.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(p8,{scope:r,value:n,disabled:a,textId:y,isSelected:d,onItemTextChange:f.useCallback(g=>{h(x=>x||((g==null?void 0:g.textContent)??"").trim())},[]),children:s.jsx(Af.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(ce.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:w,onFocus:X(o.onFocus,()=>p(!0)),onBlur:X(o.onBlur,()=>p(!1)),onClick:X(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:X(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:X(o.onPointerDown,g=>{v.current=g.pointerType}),onPointerMove:X(o.onPointerMove,g=>{var x;v.current=g.pointerType,a?(x=c.onItemLeave)==null||x.call(c):v.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(o.onPointerLeave,g=>{var x;g.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:X(o.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(e8.includes(g.key)&&b(),g.key===" "&&g.preventDefault())})})})})});O2.displayName=bh;var Hl="SelectItemText",M2=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Va(Hl,r),l=Ba(Hl,r),c=I2(Hl,r),d=n8(Hl,r),[u,h]=f.useState(null),m=be(t,b=>h(b),c.onItemTextChange,b=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,b,c.value,c.disabled)}),p=u==null?void 0:u.textContent,w=f.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:v}=d;return Rt(()=>(y(w),()=>v(w)),[y,v,w]),s.jsxs(s.Fragment,{children:[s.jsx(ce.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ii.createPortal(i.children,o.valueNode):null]})});M2.displayName=Hl;var D2="SelectItemIndicator",F2=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return I2(D2,r).isSelected?s.jsx(ce.span,{"aria-hidden":!0,...n,ref:t}):null});F2.displayName=D2;var Lg="SelectScrollUpButton",L2=f.forwardRef((e,t)=>{const r=Ba(Lg,e.__scopeSelect),n=ly(Lg,e.__scopeSelect),[a,i]=f.useState(!1),o=be(t,n.onScrollButtonChange);return Rt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(U2,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});L2.displayName=Lg;var $g="SelectScrollDownButton",$2=f.forwardRef((e,t)=>{const r=Ba($g,e.__scopeSelect),n=ly($g,e.__scopeSelect),[a,i]=f.useState(!1),o=be(t,n.onScrollButtonChange);return Rt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(U2,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$2.displayName=$g;var U2=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Ba("SelectScrollButton",r),o=f.useRef(null),l=If(r),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),Rt(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(ce.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:X(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:X(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:X(a.onPointerLeave,()=>{c()})})}),g8="SelectSeparator",V2=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(ce.div,{"aria-hidden":!0,...n,ref:t})});V2.displayName=g8;var Ug="SelectArrow",x8=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Of(r),i=Va(Ug,r),o=Ba(Ug,r);return i.open&&o.position==="popper"?s.jsx(xv,{...a,...n,ref:t}):null});x8.displayName=Ug;var v8="SelectBubbleInput",B2=f.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=f.useRef(null),i=be(n,a),o=Sd(t);return f.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(ce.select,{...r,style:{...bN,...r.style},ref:i,defaultValue:t})});B2.displayName=v8;function z2(e){return e===""||e===void 0}function W2(e){const t=Ct(e),r=f.useRef(""),n=f.useRef(0),a=f.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function q2(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=y8(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function y8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var w8=v2,H2=w2,b8=j2,j8=_2,_8=N2,G2=S2,N8=R2,K2=A2,Y2=O2,S8=M2,k8=F2,Q2=L2,X2=$2,Z2=V2;const Ze=w8,Je=b8,He=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(H2,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(j8,{asChild:!0,children:s.jsx(nd,{className:"h-4 w-4 opacity-50"})})]}));He.displayName=H2.displayName;const J2=f.forwardRef(({className:e,...t},r)=>s.jsx(Q2,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Zx,{className:"h-4 w-4"})}));J2.displayName=Q2.displayName;const eE=f.forwardRef(({className:e,...t},r)=>s.jsx(X2,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(nd,{className:"h-4 w-4"})}));eE.displayName=X2.displayName;const Ge=f.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(_8,{children:s.jsxs(G2,{ref:a,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(J2,{}),s.jsx(N8,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(eE,{})]})}));Ge.displayName=G2.displayName;const C8=f.forwardRef(({className:e,...t},r)=>s.jsx(K2,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));C8.displayName=K2.displayName;const K=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Y2,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(k8,{children:s.jsx(vt,{className:"h-4 w-4"})})}),s.jsx(S8,{children:t})]}));K.displayName=Y2.displayName;const E8=f.forwardRef(({className:e,...t},r)=>s.jsx(Z2,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));E8.displayName=Z2.displayName;function Ml({className:e,...t}){return s.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}const R8=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(""),[a,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState("all"),[m,p]=f.useState("all"),[w,y]=f.useState("newest"),[v,b]=f.useState(!1),g=at(),{toast:x}=ct();f.useEffect(()=>{j()},[]),f.useEffect(()=>{if(e){_();const P=F.channel("dashboard_generations_changes").on("postgres_changes",{event:"*",schema:"public",table:"kie_video_generations",filter:`user_id=eq.${e}`},()=>{_()}).subscribe();return()=>{F.removeChannel(P)}}},[e]),f.useEffect(()=>{const P=async()=>{const C=a.filter(R=>R.initial_status==="generating"||R.extended_status==="generating"||R.final_video_status==="generating");for(const R of C)try{(R.initial_status==="generating"||R.extended_status==="generating")&&await F.functions.invoke("kie-check-status",{body:{generation_id:R.id}}),R.final_video_status==="generating"&&await F.functions.invoke("fal-stitch-callback",{body:{generation_id:R.id}})}catch(D){console.error("Error polling status:",D)}};if(a.some(C=>C.initial_status==="generating"||C.extended_status==="generating"||C.final_video_status==="generating")){const C=setInterval(P,15e3);return()=>clearInterval(C)}},[a]);const j=async()=>{const{data:{session:P}}=await F.auth.getSession();if(!P)x({title:"Authentication required",description:"Please log in to view your videos"}),g("/auth");else{t(P.user.id);const R=(P.user.email||"").split("@")[0];n(R.charAt(0).toUpperCase()+R.slice(1))}},_=async()=>{try{const{data:P,error:C}=await F.from("kie_video_generations").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(C)throw C;i(P||[])}catch(P){console.error("Error fetching generations:",P)}finally{l(!1)}},N=P=>P.final_video_url?"completed":P.initial_status==="generating"||P.extended_status==="generating"||P.final_video_status==="generating"?"generating":P.initial_status==="failed"||P.extended_status==="failed"||P.final_video_status==="failed"?"failed":"pending",k=c||u!=="all"||m!=="all",S=()=>{d(""),h("all"),p("all")},E=a.filter(P=>{var C,R,D,$;if(c){const U=c.toLowerCase();return((C=P.industry)==null?void 0:C.toLowerCase().includes(U))||((R=P.avatar_name)==null?void 0:R.toLowerCase().includes(U))||((D=P.city)==null?void 0:D.toLowerCase().includes(U))||(($=P.story_idea)==null?void 0:$.toLowerCase().includes(U))}return!0}).filter(P=>u==="all"?!0:N(P)===u).filter(P=>{if(m==="all")return!0;const C=new Date(P.created_at),R=new Date;if(m==="today")return C.toDateString()===R.toDateString();if(m==="7days"){const D=new Date(R.getTime()-6048e5);return C>=D}if(m==="30days"){const D=new Date(R.getTime()-2592e6);return C>=D}return!0}).sort((P,C)=>w==="newest"?new Date(C.created_at).getTime()-new Date(P.created_at).getTime():w==="oldest"?new Date(P.created_at).getTime()-new Date(C.created_at).getTime():w==="status"?N(C).localeCompare(N(P)):w==="industry"?(P.industry||"").localeCompare(C.industry||""):0),I=()=>s.jsx("div",{className:"border rounded-lg p-6 space-y-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Ml,{className:"w-32 h-20 rounded-lg"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Ml,{className:"h-6 w-3/4"}),s.jsx(Ml,{className:"h-4 w-full"}),s.jsx(Ml,{className:"h-3 w-1/2"})]}),s.jsx(Ml,{className:"h-6 w-24"})]})});return s.jsx("div",{className:"h-full w-full bg-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-8 py-8 md:py-10 space-y-10",children:[s.jsx(XV,{generations:a,userName:r}),s.jsx(ZV,{}),s.jsxs("div",{id:"video-list",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Your Videos"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>b(!v),className:"gap-2 rounded-[14px] border-border/50",children:[s.jsx(F4,{className:"h-4 w-4"}),"Filters",k&&s.jsx("span",{className:"ml-1 bg-primary text-primary-foreground rounded-full w-5 h-5 text-xs flex items-center justify-center font-medium",children:"!"})]}),s.jsxs(V,{onClick:()=>g("/video-generator"),size:"sm",className:"rounded-[14px] shadow-sm hover:shadow-md transition-all duration-150",children:[s.jsx(Dr,{className:"h-4 w-4 mr-1.5"}),"New Video"]})]})]}),s.jsx(ny,{open:v,onOpenChange:b,children:s.jsx(ay,{children:s.jsxs("div",{className:"space-y-4 p-5 md:p-6 border border-border/50 rounded-[14px] bg-muted/40 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(id,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:"Search by industry, avatar, city, or story...",value:c,onChange:P=>d(P.target.value),className:"pl-10 rounded-[14px] border-border/50 focus:border-primary/50"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(Ze,{value:u,onValueChange:h,children:[s.jsx(He,{className:"w-[160px] rounded-[14px] border-border/50",children:s.jsx(Je,{placeholder:"Status"})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"all",children:"All Status"}),s.jsx(K,{value:"completed",children:"Completed"}),s.jsx(K,{value:"generating",children:"Generating"}),s.jsx(K,{value:"failed",children:"Failed"}),s.jsx(K,{value:"pending",children:"Pending"})]})]}),s.jsxs(Ze,{value:m,onValueChange:p,children:[s.jsx(He,{className:"w-[160px] rounded-[14px] border-border/50",children:s.jsx(Je,{placeholder:"Date"})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"all",children:"All Time"}),s.jsx(K,{value:"today",children:"Today"}),s.jsx(K,{value:"7days",children:"Last 7 Days"}),s.jsx(K,{value:"30days",children:"Last 30 Days"})]})]}),s.jsxs(Ze,{value:w,onValueChange:y,children:[s.jsx(He,{className:"w-[160px] rounded-[14px] border-border/50",children:s.jsx(Je,{placeholder:"Sort by"})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"newest",children:"Newest First"}),s.jsx(K,{value:"oldest",children:"Oldest First"}),s.jsx(K,{value:"status",children:"By Status"}),s.jsx(K,{value:"industry",children:"By Industry"})]})]}),k&&s.jsxs(V,{variant:"ghost",size:"sm",onClick:S,className:"gap-1.5 rounded-[14px]",children:[s.jsx(tn,{className:"h-4 w-4"}),"Clear"]})]})]})})}),o?s.jsxs("div",{className:"space-y-4",children:[s.jsx(I,{}),s.jsx(I,{}),s.jsx(I,{})]}):a.length===0?s.jsx(cb,{}):E.length===0?s.jsx(cb,{hasFilters:!0,onClearFilters:S}):s.jsx("div",{className:"space-y-4",children:E.map(P=>s.jsx(QV,{generation:P,onRefresh:_},P.id))})]})]})})};var cy="Radio",[P8,tE]=Ot(cy),[T8,A8]=P8(cy),rE=f.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[h,m]=f.useState(null),p=be(t,v=>m(v)),w=f.useRef(!1),y=h?d||!!h.closest("form"):!0;return s.jsxs(T8,{scope:r,checked:a,disabled:o,children:[s.jsx(ce.button,{type:"button",role:"radio","aria-checked":a,"data-state":iE(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:X(e.onClick,v=>{a||c==null||c(),y&&(w.current=v.isPropagationStopped(),w.current||v.stopPropagation())})}),y&&s.jsx(aE,{control:h,bubbles:!w.current,name:n,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});rE.displayName=cy;var sE="RadioIndicator",nE=f.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=A8(sE,r);return s.jsx(Kt,{present:n||i.checked,children:s.jsx(ce.span,{"data-state":iE(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});nE.displayName=sE;var I8="RadioBubbleInput",aE=f.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=f.useRef(null),l=be(o,i),c=Sd(r),d=dd(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const w=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(w)}},[c,r,n]),s.jsx(ce.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});aE.displayName=I8;function iE(e){return e?"checked":"unchecked"}var O8=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Mf="RadioGroup",[M8,SW]=Ot(Mf,[gl,tE]),oE=gl(),lE=tE(),[D8,F8]=M8(Mf),cE=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...m}=e,p=oE(r),w=Ua(d),[y,v]=xr({prop:i,defaultProp:a??null,onChange:h,caller:Mf});return s.jsx(D8,{scope:r,name:n,required:o,disabled:l,value:y,onValueChange:v,children:s.jsx(Pv,{asChild:!0,...p,orientation:c,dir:w,loop:u,children:s.jsx(ce.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...m,ref:t})})})});cE.displayName=Mf;var dE="RadioGroupItem",uE=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=F8(dE,r),o=i.disabled||n,l=oE(r),c=lE(r),d=f.useRef(null),u=be(t,d),h=i.value===a.value,m=f.useRef(!1);return f.useEffect(()=>{const p=y=>{O8.includes(y.key)&&(m.current=!0)},w=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",w)}},[]),s.jsx(Tv,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(rE,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:X(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:X(a.onFocus,()=>{var p;m.current&&((p=d.current)==null||p.click())})})})});uE.displayName=dE;var L8="RadioGroupIndicator",hE=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=lE(r);return s.jsx(nE,{...a,...n,ref:t})});hE.displayName=L8;var fE=cE,mE=uE,$8=hE;const Gs=f.forwardRef(({className:e,...t},r)=>s.jsx(fE,{className:J("grid gap-2",e),...t,ref:r}));Gs.displayName=fE.displayName;const Vt=f.forwardRef(({className:e,...t},r)=>s.jsx(mE,{ref:r,className:J("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx($8,{className:"flex items-center justify-center",children:s.jsx(WN,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Vt.displayName=mE.displayName;var pE=["PageUp","PageDown"],gE=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],xE={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},wl="Slider",[Vg,U8,V8]=il(wl),[vE,kW]=Ot(wl,[V8]),[B8,Df]=vE(wl),yE=f.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:u,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:w,...y}=e,v=f.useRef(new Set),b=f.useRef(0),x=o==="horizontal"?z8:W8,[j=[],_]=xr({prop:u,defaultProp:d,onChange:P=>{var R;(R=[...v.current][b.current])==null||R.focus(),h(P)}}),N=f.useRef(j);function k(P){const C=Y8(j,P);I(P,C)}function S(P){I(P,b.current)}function E(){const P=N.current[b.current];j[b.current]!==P&&m(j)}function I(P,C,{commit:R}={commit:!1}){const D=J8(i),$=eB(Math.round((P-n)/i)*i+n,D),U=Wc($,[n,a]);_((q=[])=>{const T=G8(q,U,C);if(Z8(T,c*i)){b.current=T.indexOf(U);const O=String(T)!==String(q);return O&&R&&m(T),O?T:q}else return q})}return s.jsx(B8,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:b,thumbs:v.current,values:j,orientation:o,form:w,children:s.jsx(Vg.Provider,{scope:e.__scopeSlider,children:s.jsx(Vg.Slot,{scope:e.__scopeSlider,children:s.jsx(x,{"aria-disabled":l,"data-disabled":l?"":void 0,...y,ref:t,onPointerDown:X(y.onPointerDown,()=>{l||(N.current=j)}),min:n,max:a,inverted:p,onSlideStart:l?void 0:k,onSlideMove:l?void 0:S,onSlideEnd:l?void 0:E,onHomeKeyDown:()=>!l&&I(n,0,{commit:!0}),onEndKeyDown:()=>!l&&I(a,j.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:C})=>{if(!l){const $=pE.includes(P.key)||P.shiftKey&&gE.includes(P.key)?10:1,U=b.current,q=j[U],T=i*$*C;I(q+T,U,{commit:!0})}}})})})})});yE.displayName=wl;var[wE,bE]=vE(wl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),z8=f.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[h,m]=f.useState(null),p=be(t,x=>m(x)),w=f.useRef(void 0),y=Ua(a),v=y==="ltr",b=v&&!i||!v&&i;function g(x){const j=w.current||h.getBoundingClientRect(),_=[0,j.width],k=dy(_,b?[r,n]:[n,r]);return w.current=j,k(x-j.left)}return s.jsx(wE,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:s.jsx(jE,{dir:y,"data-orientation":"horizontal",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const j=g(x.clientX);o==null||o(j)},onSlideMove:x=>{const j=g(x.clientX);l==null||l(j)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:x=>{const _=xE[b?"from-left":"from-right"].includes(x.key);d==null||d({event:x,direction:_?-1:1})}})})}),W8=f.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=f.useRef(null),h=be(t,u),m=f.useRef(void 0),p=!a;function w(y){const v=m.current||u.current.getBoundingClientRect(),b=[0,v.height],x=dy(b,p?[n,r]:[r,n]);return m.current=v,x(y-v.top)}return s.jsx(wE,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(jE,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const v=w(y.clientY);i==null||i(v)},onSlideMove:y=>{const v=w(y.clientY);o==null||o(v)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:y=>{const b=xE[p?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:b?-1:1})}})})}),jE=f.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=Df(wl,r);return s.jsx(ce.span,{...d,ref:t,onKeyDown:X(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):pE.concat(gE).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:X(e.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(m)?m.focus():n(h)}),onPointerMove:X(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:X(e.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),i(h))})})}),_E="SliderTrack",NE=f.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=Df(_E,r);return s.jsx(ce.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});NE.displayName=_E;var Bg="SliderRange",SE=f.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=Df(Bg,r),i=bE(Bg,r),o=f.useRef(null),l=be(t,o),c=a.values.length,d=a.values.map(m=>EE(m,a.min,a.max)),u=c>1?Math.min(...d):0,h=100-Math.max(...d);return s.jsx(ce.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:u+"%",[i.endEdge]:h+"%"}})});SE.displayName=Bg;var zg="SliderThumb",kE=f.forwardRef((e,t)=>{const r=U8(e.__scopeSlider),[n,a]=f.useState(null),i=be(t,l=>a(l)),o=f.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(q8,{...e,ref:i,index:o})}),q8=f.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=Df(zg,r),l=bE(zg,r),[c,d]=f.useState(null),u=be(t,g=>d(g)),h=c?o.form||!!c.closest("form"):!0,m=dd(c),p=o.values[n],w=p===void 0?0:EE(p,o.min,o.max),y=K8(n,o.values.length),v=m==null?void 0:m[l.size],b=v?Q8(v,w,l.direction):0;return f.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${b}px)`},children:[s.jsx(Vg.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(ce.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:p===void 0?{display:"none"}:e.style,onFocus:X(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),h&&s.jsx(CE,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});kE.displayName=zg;var H8="RadioBubbleInput",CE=f.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=f.useRef(null),i=be(a,n),o=Sd(t);return f.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("input",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(ce.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});CE.displayName=H8;function G8(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function EE(e,t,r){const i=100/(r-t)*(e-t);return Wc(i,[0,100])}function K8(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Y8(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function Q8(e,t,r){const n=e/2,i=dy([0,50],[0,n]);return(n-i(t)*r)*r}function X8(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Z8(e,t){if(t>0){const r=X8(e);return Math.min(...r)>=t}return!0}function dy(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function J8(e){return(String(e).split(".")[1]||"").length}function eB(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var RE=yE,tB=NE,rB=SE,sB=kE;const uy=f.forwardRef(({className:e,...t},r)=>s.jsxs(RE,{ref:r,className:J("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(tB,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(rB,{className:"absolute h-full bg-primary"})}),s.jsx(sB,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));uy.displayName=RE.displayName;const Fi=({selectedPhotoId:e,onPhotoSelect:t})=>{const[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(""),[c,d]=f.useState(null),[u,h]=f.useState(!1),{toast:m}=ct();f.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:g,error:x}=await F.from("jobsite_photos").select("*").order("uploaded_at",{ascending:!1});if(x)throw x;n(g||[])}catch(g){console.error("Error fetching photos:",g)}finally{i(!1)}},w=g=>g<1024?`${g} B`:g<1024*1024?`${(g/1024).toFixed(1)} KB`:`${(g/(1024*1024)).toFixed(1)} MB`,y=async g=>{if(!g.target.files||g.target.files.length===0)return;h(!0);const x=Array.from(g.target.files);try{let j=null;for(const _ of x){const N=_.name.split(".").pop(),S=`staging/${`${Date.now()}-${Math.random().toString(36).substring(7)}.${N}`}`,{error:E}=await F.storage.from("jobsite-photos").upload(S,_);if(E)throw E;const{data:{publicUrl:I}}=F.storage.from("jobsite-photos").getPublicUrl(S),{data:P,error:C}=await F.from("jobsite_photos").insert({request_id:null,file_name:_.name,file_url:I,file_size:_.size}).select().single();if(C)throw C;P&&(j=P.id)}m({title:"Success",description:`${x.length} photo(s) uploaded successfully`}),await p(),j&&t(j)}catch(j){console.error("Error uploading photos:",j),m({title:"Error",description:"Failed to upload photos. Please try again.",variant:"destructive"})}finally{h(!1),g.target&&(g.target.value="")}},v=r.filter(g=>g.file_name.toLowerCase().includes(o.toLowerCase()));if(a)return s.jsx(H,{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading photos..."})})});const b=()=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(id,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:"Search photos by name...",value:o,onChange:g=>l(g.target.value),className:"pl-9"})]}),s.jsx(Gs,{value:e||"",onValueChange:t,children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:v.map(g=>s.jsx("div",{className:"relative group",children:s.jsxs("label",{htmlFor:g.id,className:`block cursor-pointer rounded-lg border-2 transition-all overflow-hidden ${e===g.id?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}`,children:[s.jsxs("div",{className:"aspect-square relative bg-muted",children:[s.jsx("img",{src:g.file_url,alt:g.file_name,className:"w-full h-full object-cover",loading:"lazy"}),e===g.id&&s.jsx("div",{className:"absolute inset-0 bg-primary/10 flex items-center justify-center",children:s.jsx("div",{className:"bg-primary text-primary-foreground rounded-full p-2",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:s.jsx("polyline",{points:"20 6 9 17 4 12"})})})}),s.jsx("button",{type:"button",onClick:x=>{x.preventDefault(),d(g)},className:"absolute top-2 right-2 bg-background/80 hover:bg-background p-1.5 rounded-md opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(_n,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"p-2 bg-card",children:[s.jsx("p",{className:"text-xs font-medium truncate",children:g.file_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:w(g.file_size)})]}),s.jsx(Vt,{value:g.id,id:g.id,className:"sr-only"})]})},g.id))})}),v.length===0&&o&&s.jsx("div",{className:"text-center py-8",children:s.jsxs("p",{className:"text-muted-foreground",children:['No photos found matching "',o,'"']})})]});return s.jsxs(s.Fragment,{children:[s.jsx(H,{className:"p-4",children:s.jsxs(ir,{defaultValue:"select",className:"w-full",children:[s.jsxs(Jt,{className:"w-full",children:[s.jsxs(Te,{value:"select",className:"flex-1",children:["Select Photo (",r.length,")"]}),s.jsx(Te,{value:"upload",className:"flex-1",children:"Upload New"}),e&&s.jsx(Te,{value:"selected",className:"flex-1",children:"Selected"})]}),s.jsx(Me,{value:"select",className:"mt-4",children:r.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(_n,{className:"h-12 w-12 text-muted-foreground mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:"No photos available yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload photos to get started"})]}):b()}),s.jsx(Me,{value:"upload",className:"mt-4",children:s.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center",children:[s.jsx(ld,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload new photos for your video request"}),s.jsx(V,{asChild:!0,disabled:u,children:s.jsxs("label",{className:"cursor-pointer",children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:y,disabled:u}),u?"Uploading...":"Select Files"]})})]})}),e&&s.jsx(Me,{value:"selected",className:"mt-4",children:(()=>{const g=r.find(x=>x.id===e);return g?s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"relative w-full max-w-md aspect-square bg-muted rounded-lg overflow-hidden",children:s.jsx("img",{src:g.file_url,alt:g.file_name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"font-medium",children:g.file_name}),s.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-muted-foreground",children:[s.jsx("span",{children:w(g.file_size)}),s.jsx("span",{children:""}),s.jsx("span",{children:Ur(new Date(g.uploaded_at),"MMM d, yyyy")})]})]}),s.jsx(V,{variant:"outline",onClick:()=>t(null),children:"Deselect Photo"})]}):null})()})]})}),s.jsx(ja,{open:!!c,onOpenChange:()=>d(null),children:s.jsxs(Nn,{className:"max-w-3xl",children:[s.jsx(Sn,{children:s.jsx(kn,{children:"Photo Preview"})}),c&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:s.jsx("img",{src:c.file_url,alt:c.file_name,className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_n,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("div",{children:s.jsx("p",{className:"font-medium",children:c.file_name})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(L4,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("div",{children:s.jsx("p",{className:"text-muted-foreground",children:w(c.file_size)})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nf,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("div",{children:s.jsx("p",{className:"text-muted-foreground",children:Ur(new Date(c.uploaded_at),"MMM d, yyyy")})})]})]})]})]})})]})};var PE="AlertDialog",[nB,CW]=Ot(PE,[aC]),Dn=aC(),TE=e=>{const{__scopeAlertDialog:t,...r}=e,n=Dn(t);return s.jsx(Wv,{...n,...r,modal:!0})};TE.displayName=PE;var aB="AlertDialogTrigger",AE=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Dn(r);return s.jsx(qv,{...a,...n,ref:t})});AE.displayName=aB;var iB="AlertDialogPortal",IE=e=>{const{__scopeAlertDialog:t,...r}=e,n=Dn(t);return s.jsx(Hv,{...n,...r})};IE.displayName=iB;var oB="AlertDialogOverlay",OE=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Dn(r);return s.jsx(yd,{...a,...n,ref:t})});OE.displayName=oB;var _o="AlertDialogContent",[lB,cB]=nB(_o),dB=xN("AlertDialogContent"),ME=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Dn(r),o=f.useRef(null),l=be(t,o),c=f.useRef(null);return s.jsx(H6,{contentName:_o,titleName:DE,docsSlug:"alert-dialog",children:s.jsx(lB,{scope:r,cancelRef:c,children:s.jsxs(wd,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:X(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(dB,{children:n}),s.jsx(hB,{contentRef:o})]})})})});ME.displayName=_o;var DE="AlertDialogTitle",FE=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Dn(r);return s.jsx(bd,{...a,...n,ref:t})});FE.displayName=DE;var LE="AlertDialogDescription",$E=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Dn(r);return s.jsx(jd,{...a,...n,ref:t})});$E.displayName=LE;var uB="AlertDialogAction",UE=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Dn(r);return s.jsx(Cf,{...a,...n,ref:t})});UE.displayName=uB;var VE="AlertDialogCancel",BE=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=cB(VE,r),i=Dn(r),o=be(t,a);return s.jsx(Cf,{...i,...n,ref:o})});BE.displayName=VE;var hB=({contentRef:e})=>{const t=`\`${_o}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_o}\` by passing a \`${LE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_o}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},fB=TE,mB=AE,pB=IE,zE=OE,WE=ME,qE=UE,HE=BE,GE=FE,KE=$E;const gB=fB,xB=mB,vB=pB,YE=f.forwardRef(({className:e,...t},r)=>s.jsx(zE,{className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));YE.displayName=zE.displayName;const QE=f.forwardRef(({className:e,...t},r)=>s.jsxs(vB,{children:[s.jsx(YE,{}),s.jsx(WE,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));QE.displayName=WE.displayName;const XE=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});XE.displayName="AlertDialogHeader";const ZE=({className:e,...t})=>s.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ZE.displayName="AlertDialogFooter";const JE=f.forwardRef(({className:e,...t},r)=>s.jsx(GE,{ref:r,className:J("text-lg font-semibold",e),...t}));JE.displayName=GE.displayName;const eR=f.forwardRef(({className:e,...t},r)=>s.jsx(KE,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));eR.displayName=KE.displayName;const tR=f.forwardRef(({className:e,...t},r)=>s.jsx(qE,{ref:r,className:J(Ev(),e),...t}));tR.displayName=qE.displayName;const rR=f.forwardRef(({className:e,...t},r)=>s.jsx(HE,{ref:r,className:J(Ev({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));rR.displayName=HE.displayName;const jh=({template:e,onSelect:t,showActions:r,onDelete:n})=>{const{toast:a}=ct(),i=async()=>{try{const{error:o}=await F.from("request_templates").delete().eq("id",e.id);if(o)throw o;a({title:"Template deleted",description:"Your template has been removed."}),n==null||n()}catch(o){console.error("Error deleting template:",o),a({title:"Error",description:"Failed to delete template.",variant:"destructive"})}};return s.jsxs(H,{className:"hover:border-primary transition-colors",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[s.jsx(sn,{className:"h-4 w-4"}),e.name]}),s.jsx(Ce,{className:"mt-1",children:e.description})]}),e.category&&s.jsx(re,{variant:"secondary",className:"ml-2",children:e.category})]})}),s.jsx(Y,{children:s.jsxs("div",{className:"space-y-3",children:[e.title&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Title:"})," ",e.title]}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[e.company_type&&s.jsx(re,{variant:"outline",children:e.company_type}),e.aspect_ratio&&s.jsx(re,{variant:"outline",children:e.aspect_ratio}),e.scenes&&s.jsxs(re,{variant:"outline",children:[e.scenes," scenes"]}),e.visual_style&&s.jsx(re,{variant:"outline",children:e.visual_style})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(V,{onClick:t,className:"flex-1",children:"Use Template"}),r&&s.jsxs(gB,{children:[s.jsx(xB,{asChild:!0,children:s.jsx(V,{variant:"outline",size:"icon",children:s.jsx(od,{className:"h-4 w-4"})})}),s.jsxs(QE,{children:[s.jsxs(XE,{children:[s.jsx(JE,{children:"Delete Template"}),s.jsxs(eR,{children:['Are you sure you want to delete "',e.name,'"? This action cannot be undone.']})]}),s.jsxs(ZE,{children:[s.jsx(rR,{children:"Cancel"}),s.jsx(tR,{onClick:i,children:"Delete"})]})]})]})]})]})})]})},yB=({open:e,onClose:t,onSelectTemplate:r})=>{const[n,a]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState(!0);f.useEffect(()=>{e&&d()},[e]);const d=async()=>{c(!0);try{const{data:u}=await F.from("request_templates").select("*").eq("is_system_template",!0).order("name"),{data:h}=await F.from("request_templates").select("*").eq("is_system_template",!1).order("name");a(u||[]),o(h||[])}catch(u){console.error("Error loading templates:",u)}finally{c(!1)}};return s.jsx(ja,{open:e,onOpenChange:t,children:s.jsxs(Nn,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Sn,{children:s.jsx(kn,{children:"Choose a Template"})}),l?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs(ir,{defaultValue:"system",className:"w-full",children:[s.jsxs(Jt,{className:"grid w-full grid-cols-2",children:[s.jsxs(Te,{value:"system",children:["Pre-Built Templates (",n.length,")"]}),s.jsxs(Te,{value:"custom",children:["My Templates (",i.length,")"]})]}),s.jsx(Me,{value:"system",className:"mt-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(u=>s.jsx(jh,{template:u,onSelect:()=>r(u)},u.id))})}),s.jsx(Me,{value:"custom",className:"mt-4",children:i.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx("p",{children:"No custom templates yet."}),s.jsx("p",{className:"text-sm mt-2",children:"Create a request and save it as a template for future use."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(u=>s.jsx(jh,{template:u,onSelect:()=>r(u),showActions:!0,onDelete:d},u.id))})})]})]})})},wB=({onSelectTemplate:e})=>{const[t,r]=f.useState(!1);return s.jsxs("div",{className:"bg-card border rounded-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(bt,{className:"h-6 w-6 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Start with a Template"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Save time by using a pre-built or custom template"})]})]}),s.jsxs(V,{onClick:()=>r(!0),variant:"outline",children:[s.jsx(sn,{className:"mr-2 h-4 w-4"}),"Browse Templates"]})]}),s.jsx(yB,{open:t,onClose:()=>r(!1),onSelectTemplate:n=>{e(n),r(!1)}})]})},bB=({formData:e})=>{const[t,r]=f.useState(!1),[n,a]=f.useState(""),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState(!1),{toast:h}=ct(),m=async()=>{if(!n.trim()){h({title:"Name required",description:"Please enter a name for your template.",variant:"destructive"});return}u(!0);try{const{data:{user:p}}=await F.auth.getUser();if(!p)throw new Error("Not authenticated");const{error:w}=await F.from("request_templates").insert({user_id:p.id,name:n.trim(),description:i.trim()||null,category:l.trim()||null,is_system_template:!1,title:e.title,caption:e.caption,story_idea:e.storyIdea,company_type:e.companyType,client_company_name:e.clientCompanyName,city_community:e.cityCommunity,character:e.character,visual_style:e.visualStyle,colors:e.colors,gender_avatar:e.genderAvatar,scenes:e.scenes,aspect_ratio:e.aspectRatio,render_mode:e.renderMode,special_request:e.specialRequest});if(w)throw w;h({title:"Template saved",description:"Your template has been created successfully."}),r(!1),a(""),o(""),c("")}catch(p){console.error("Error saving template:",p),h({title:"Error",description:"Failed to save template.",variant:"destructive"})}finally{u(!1)}};return s.jsxs(ja,{open:t,onOpenChange:r,children:[s.jsx(Ru,{asChild:!0,children:s.jsxs(V,{variant:"outline",type:"button",children:[s.jsx(H4,{className:"mr-2 h-4 w-4"}),"Save as Template"]})}),s.jsxs(Nn,{children:[s.jsxs(Sn,{children:[s.jsx(kn,{children:"Save as Template"}),s.jsx(jo,{children:"Save your current configuration as a template for future use."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"template-name",children:"Template Name *"}),s.jsx(Ne,{id:"template-name",value:n,onChange:p=>a(p.target.value),placeholder:"e.g., My Standard Roofing Ad"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"template-description",children:"Description"}),s.jsx(lt,{id:"template-description",value:i,onChange:p=>o(p.target.value),placeholder:"Brief description of this template...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"template-category",children:"Category"}),s.jsx(Ne,{id:"template-category",value:l,onChange:p=>c(p.target.value),placeholder:"e.g., seasonal, service-type"})]})]}),s.jsxs(bo,{children:[s.jsx(V,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsx(V,{onClick:m,disabled:d,children:d?"Saving...":"Save Template"})]})]})]})},jB=({onComplete:e,onCancel:t})=>{const{toast:r}=ct(),[n,a]=f.useState(null),[i,o]=f.useState({companyName:"",companyType:"",avatarName:"",cityCommunity:"",renderMode:"veo3_fast"}),[l,c]=f.useState(!1),d=async()=>{if(!n){r({title:"Image Required",description:"Please upload or select an image first.",variant:"destructive"});return}if(!i.companyName||!i.companyType||!i.avatarName||!i.cityCommunity){r({title:"Missing Fields",description:"Please fill in all required fields.",variant:"destructive"});return}c(!0);try{const{data:u,error:h}=await F.from("jobsite_photos").select("file_url").eq("id",n).single();if(h||!u)throw new Error("Failed to get image URL");const{data:m,error:p}=await F.functions.invoke("analyze-image-for-request",{body:{image_url:u.file_url,company_name:i.companyName,company_type:i.companyType,avatar_name:i.avatarName,city_community:i.cityCommunity,render_mode:i.renderMode}});if(p)throw console.error("Edge function error:",p),new Error(p.message||"Failed to analyze image");if(!(m!=null&&m.success))throw new Error((m==null?void 0:m.error)||"AI analysis failed");r({title:"Success!",description:"AI generated your video brief. Review and edit as needed."}),e(m.data,n)}catch(u){console.error("Error analyzing image:",u),r({title:"Analysis Failed",description:u instanceof Error?u.message:"Failed to analyze image. Please try again.",variant:"destructive"})}finally{c(!1)}};return s.jsxs(H,{children:[s.jsxs(se,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"h-5 w-5 text-primary"}),"Quick Request (AI-Powered)"]}),s.jsx(Ce,{children:"Upload an image and provide basic details. AI will generate the creative brief for you."})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Image *"}),s.jsx(Fi,{selectedPhotoId:n,onPhotoSelect:a})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"companyName",children:"Client Company Name *"}),s.jsx(Ne,{id:"companyName",value:i.companyName,onChange:u=>o({...i,companyName:u.target.value}),placeholder:"ABC Roofing"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"companyType",children:"Company Type *"}),s.jsxs(Ze,{value:i.companyType,onValueChange:u=>o({...i,companyType:u}),children:[s.jsx(He,{id:"companyType",children:s.jsx(Je,{placeholder:"Select type"})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"roofing",children:"Roofing"}),s.jsx(K,{value:"gutter",children:"Gutter"}),s.jsx(K,{value:"christmas_lights",children:"Christmas Lights"}),s.jsx(K,{value:"power_washing",children:"Power Washing"}),s.jsx(K,{value:"landscaping",children:"Landscaping"}),s.jsx(K,{value:"hvac",children:"HVAC"}),s.jsx(K,{value:"plumbing",children:"Plumbing"}),s.jsx(K,{value:"electrical",children:"Electrical"}),s.jsx(K,{value:"painting",children:"Painting"}),s.jsx(K,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"avatarName",children:"Avatar Name *"}),s.jsx(Ne,{id:"avatarName",value:i.avatarName,onChange:u=>o({...i,avatarName:u.target.value}),placeholder:"John Smith"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"cityCommunity",children:"City or Community *"}),s.jsx(Ne,{id:"cityCommunity",value:i.cityCommunity,onChange:u=>o({...i,cityCommunity:u.target.value}),placeholder:"Austin, TX"})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(z,{htmlFor:"renderMode",children:"Render Quality *"}),s.jsxs(Ze,{value:i.renderMode,onValueChange:u=>o({...i,renderMode:u}),children:[s.jsx(He,{id:"renderMode",children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"veo3_fast",children:"Fast (Recommended)"}),s.jsx(K,{value:"veo3",children:"High Quality"})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(V,{onClick:d,disabled:l,className:"flex-1",size:"lg",children:l?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bt,{className:"mr-2 h-4 w-4"}),"Analyze & Generate"]})}),s.jsx(V,{variant:"outline",onClick:t,disabled:l,children:"Cancel"})]})]})]})},_B=()=>{const[e,t]=f.useState(!1),[r,n]=f.useState("detailed"),[a,i]=f.useState(null),[o,l]=f.useState({title:"",caption:"",storyIdea:"",companyName:"",cityCommunity:"",companyType:"",character:"",visualStyle:"realistic",colors:"",specialRequest:"",genderAvatar:"neutral",scenes:5,aspectRatio:"16:9",renderMode:"veo3_fast"}),c=at(),d=Mn(),{toast:u}=ct();f.useEffect(()=>{w(),h()},[]);const h=()=>{const v=d.state;v!=null&&v.template&&m(v.template)},m=v=>{l({title:v.title||"",caption:v.caption||"",storyIdea:v.story_idea||"",companyName:v.client_company_name||"",cityCommunity:v.city_community||"",companyType:v.company_type||"",character:v.character||"",visualStyle:v.visual_style||"realistic",colors:v.colors||"",specialRequest:v.special_request||"",genderAvatar:v.gender_avatar||"neutral",scenes:v.scenes||5,aspectRatio:v.aspect_ratio||"16:9",renderMode:v.render_mode||"veo3_fast"}),u({title:"Template loaded",description:`Applied "${v.name}" template to the form.`})},p=(v,b)=>{l({title:v.title||"",caption:v.caption||"",storyIdea:v.story_idea||"",companyName:v.client_company_name||"",cityCommunity:v.city_community||"",companyType:v.company_type||"",character:v.character||"",visualStyle:v.visual_style||"realistic",colors:v.colors||"",specialRequest:o.specialRequest,genderAvatar:v.gender_avatar||"neutral",scenes:v.scenes||5,aspectRatio:v.aspect_ratio||"16:9",renderMode:v.render_mode||"veo3_fast"}),i(b),n("detailed"),u({title:"AI Brief Generated",description:"Review and edit the generated fields, then submit your request."})},w=async()=>{const{data:{session:v}}=await F.auth.getSession();v||c("/auth")},y=async v=>{v.preventDefault(),t(!0);try{const{data:{session:b}}=await F.auth.getSession();if(!b)throw new Error("Not authenticated");const{data:g,error:x}=await F.from("video_requests").insert({user_id:b.user.id,title:o.title,caption:o.caption||null,story_idea:o.storyIdea||null,client_company_name:o.companyName,company_type:o.companyType,city_community:o.cityCommunity||o.companyName,character:o.character,visual_style:o.visualStyle,colors:o.colors||null,gender_avatar:o.genderAvatar,scenes:o.scenes,aspect_ratio:o.aspectRatio,render_mode:o.renderMode,special_request:o.specialRequest||null,status:"queued"}).select().single();if(x)throw x;let j=null;if(a){const{error:_}=await F.from("request_selected_photos").insert({request_id:g.id,photo_id:a});if(_)console.error("Error linking photo:",_);else{const{data:N}=await F.from("jobsite_photos").select("file_url").eq("id",a).single();N&&(j=N.file_url)}}try{await F.functions.invoke("trigger-n8n-workflow",{body:{request_id:g.id,title:o.title,caption:o.caption,story_idea:o.storyIdea,company_name:o.companyName,company_type:o.companyType,character:o.character,visual_style:o.visualStyle,colors:o.colors,special_request:o.specialRequest,gender_avatar:o.genderAvatar,image_reference:j?[j]:[],scenes:o.scenes,aspect_ratio:o.aspectRatio,render_mode:o.renderMode,created_at:g.created_at}})}catch(_){console.error("Error triggering n8n workflow:",_)}u({title:"Success",description:"Video request created successfully"}),c("/")}catch(b){u({title:"Error",description:b.message||"Failed to create request",variant:"destructive"})}finally{t(!1)}};return s.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[s.jsx(ls,{}),s.jsx("main",{className:"flex-1 p-8",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs(V,{variant:"ghost",onClick:()=>c("/"),className:"mb-6",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsxs(H,{className:"mb-6",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Request Mode"}),s.jsx(Ce,{children:"Choose how you want to create your video request"})]}),s.jsx(Y,{children:s.jsxs(Gs,{value:r,onValueChange:v=>n(v),children:[s.jsxs("div",{className:"flex items-start space-x-3 space-y-0 rounded-md border p-4",children:[s.jsx(Vt,{value:"detailed",id:"detailed"}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsxs(z,{htmlFor:"detailed",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(sn,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Detailed Form"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full control - manually fill all creative and technical fields"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 space-y-0 rounded-md border p-4",children:[s.jsx(Vt,{value:"quick",id:"quick"}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsxs(z,{htmlFor:"quick",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(bt,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:"Quick Request (AI-Powered)"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload image + basic info  AI generates creative brief"})]})]})]})})]}),r==="quick"?s.jsx(jB,{onComplete:p,onCancel:()=>n("detailed")}):s.jsxs(s.Fragment,{children:[s.jsx(wB,{onSelectTemplate:m}),s.jsxs(H,{children:[s.jsxs(se,{children:[s.jsx(ne,{className:"text-2xl",children:"New Video Request"}),s.jsx(Ce,{children:"Create a comprehensive video production brief"})]}),s.jsx(Y,{children:s.jsxs("form",{onSubmit:y,className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Project Details"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"title",children:"Video Title*"}),s.jsx(Ne,{id:"title",required:!0,placeholder:"e.g., Summer Roofing Promo",value:o.title,onChange:v=>l({...o,title:v.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"caption",children:"Caption / Tagline"}),s.jsx(Ne,{id:"caption",placeholder:"Short subtitle or tagline",value:o.caption,onChange:v=>l({...o,caption:v.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"companyName",children:"Company Name*"}),s.jsx(Ne,{id:"companyName",required:!0,value:o.companyName,onChange:v=>l({...o,companyName:v.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"cityCommunity",children:"City / Community*"}),s.jsx(Ne,{id:"cityCommunity",required:!0,placeholder:"e.g., Austin, TX",value:o.cityCommunity,onChange:v=>l({...o,cityCommunity:v.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"companyType",children:"Industry Type*"}),s.jsxs(Ze,{required:!0,value:o.companyType,onValueChange:v=>l({...o,companyType:v}),children:[s.jsx(He,{id:"companyType",children:s.jsx(Je,{placeholder:"Select industry"})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"roofing",children:"Roofing"}),s.jsx(K,{value:"gutter",children:"Gutter"}),s.jsx(K,{value:"christmas_lights",children:"Christmas Lights"}),s.jsx(K,{value:"landscaping",children:"Landscaping"}),s.jsx(K,{value:"painting",children:"Painting"}),s.jsx(K,{value:"power_washing",children:"Power Washing"}),s.jsx(K,{value:"other",children:"Other"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Creative Direction"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"storyIdea",children:"Story Idea / Script Direction"}),s.jsx(lt,{id:"storyIdea",placeholder:"Describe the narrative, key messages, or storyline...",value:o.storyIdea,onChange:v=>l({...o,storyIdea:v.target.value}),rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"character",children:"Character / Avatar Role*"}),s.jsx(Ne,{id:"character",required:!0,placeholder:"e.g., Professional contractor, friendly expert",value:o.character,onChange:v=>l({...o,character:v.target.value})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(z,{children:"Visual Style*"}),s.jsxs(Gs,{value:o.visualStyle,onValueChange:v=>l({...o,visualStyle:v}),children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{value:"realistic",id:"realistic"}),s.jsx(z,{htmlFor:"realistic",className:"font-normal cursor-pointer",children:"Realistic - Photorealistic AI-generated visuals"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{value:"cartoonized",id:"cartoonized"}),s.jsx(z,{htmlFor:"cartoonized",className:"font-normal cursor-pointer",children:"Cartoonized - Stylized, animated look"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"colors",children:"Color Palette"}),s.jsx(Ne,{id:"colors",placeholder:"e.g., Blue and white, warm earth tones, brand colors",value:o.colors,onChange:v=>l({...o,colors:v.target.value})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Avatar Configuration"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(z,{children:"Avatar Gender*"}),s.jsxs(Gs,{value:o.genderAvatar,onValueChange:v=>l({...o,genderAvatar:v}),children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{value:"male",id:"male"}),s.jsx(z,{htmlFor:"male",className:"font-normal cursor-pointer",children:"Male"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{value:"female",id:"female"}),s.jsx(z,{htmlFor:"female",className:"font-normal cursor-pointer",children:"Female"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{value:"neutral",id:"neutral"}),s.jsx(z,{htmlFor:"neutral",className:"font-normal cursor-pointer",children:"Neutral / Non-binary"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Technical Settings"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs(z,{children:["Number of Scenes: ",o.scenes]})}),s.jsx(uy,{min:1,max:10,step:1,value:[o.scenes],onValueChange:v=>l({...o,scenes:v[0]})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Adjust the number of scenes in your video (1-10)"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(z,{children:"Aspect Ratio*"}),s.jsxs(Gs,{value:o.aspectRatio,onValueChange:v=>l({...o,aspectRatio:v}),children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{value:"16:9",id:"16:9"}),s.jsx(z,{htmlFor:"16:9",className:"font-normal cursor-pointer",children:"16:9 - Landscape (YouTube, presentations)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{value:"9:16",id:"9:16"}),s.jsx(z,{htmlFor:"9:16",className:"font-normal cursor-pointer",children:"9:16 - Portrait (TikTok, Instagram Reels)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"renderMode",children:"Render Quality*"}),s.jsxs(Ze,{required:!0,value:o.renderMode,onValueChange:v=>l({...o,renderMode:v}),children:[s.jsx(He,{id:"renderMode",children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"veo3_fast",children:"Veo3 Fast - Quick turnaround"}),s.jsx(K,{value:"veo3",children:"Veo3 - Maximum quality"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Assets & Requirements"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Image Reference (Optional)"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select one photo from available images to use as a reference"}),s.jsx(Fi,{selectedPhotoId:a,onPhotoSelect:i})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"specialRequest",children:"Special Requests"}),s.jsx(lt,{id:"specialRequest",placeholder:"Any custom requirements, effects, branding guidelines, or special notes...",value:o.specialRequest,onChange:v=>l({...o,specialRequest:v.target.value}),rows:4})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(V,{type:"submit",disabled:e,className:"flex-1",children:e?"Submitting...":"Submit Request"}),s.jsx(bB,{formData:o}),s.jsx(V,{type:"button",variant:"outline",onClick:()=>c("/"),children:"Cancel"})]})]})})]})]})]})})]})};var NB="Separator",db="horizontal",SB=["horizontal","vertical"],sR=f.forwardRef((e,t)=>{const{decorative:r,orientation:n=db,...a}=e,i=kB(n)?n:db,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(ce.div,{"data-orientation":i,...l,...a,ref:t})});sR.displayName=NB;function kB(e){return SB.includes(e)}var nR=sR;const Wg=f.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(nR,{ref:a,decorative:r,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Wg.displayName=nR.displayName;const CB=({status:e})=>{const t={queued:{label:"Queued",icon:Es,className:"bg-muted text-muted-foreground"},processing:{label:"Processing",icon:we,className:"bg-primary text-primary-foreground",animate:!0},completed:{label:"Completed",icon:At,className:"bg-success text-success-foreground"},failed:{label:"Failed",icon:Wt,className:"bg-destructive text-destructive-foreground"}},{label:r,icon:n,className:a,animate:i}=t[e];return s.jsxs(re,{className:a,children:[s.jsx(n,{className:`h-3 w-3 mr-1 ${i?"animate-spin":""}`}),r]})},ub=({photos:e,selectedPhotoIds:t,onTogglePhoto:r,onRemovePhoto:n,canEdit:a})=>{const[i,o]=f.useState(null),l=c=>c<1024?c+" B":c<1024*1024?(c/1024).toFixed(1)+" KB":(c/(1024*1024)).toFixed(1)+" MB";return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(c=>{const d=t.includes(c.id);return s.jsxs("div",{className:`relative group rounded-lg border-2 overflow-hidden transition-all ${d?"border-primary shadow-md":"border-border hover:border-muted-foreground"}`,children:[s.jsxs("div",{className:"aspect-square bg-muted relative",children:[s.jsx("img",{src:c.file_url,alt:c.file_name,className:"w-full h-full object-cover",loading:"lazy"}),d&&s.jsx("div",{className:"absolute top-2 right-2 bg-primary rounded-full p-1",children:s.jsx(vt,{className:"h-4 w-4 text-primary-foreground"})}),s.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[s.jsx(V,{size:"sm",variant:"secondary",onClick:()=>o(c),children:s.jsx(Ca,{className:"h-4 w-4"})}),a&&s.jsx(s.Fragment,{children:d?s.jsx(V,{size:"sm",variant:"destructive",onClick:()=>n(c.id),children:s.jsx(tn,{className:"h-4 w-4"})}):s.jsx(V,{size:"sm",variant:"default",onClick:()=>r(c.id),children:s.jsx(vt,{className:"h-4 w-4"})})})]})]}),s.jsxs("div",{className:"p-2 bg-card",children:[s.jsx("p",{className:"text-xs truncate font-medium",children:c.file_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:l(c.file_size)})]})]},c.id)})}),s.jsx(ja,{open:!!i,onOpenChange:()=>o(null),children:s.jsxs(Nn,{className:"max-w-4xl",children:[s.jsx(Sn,{children:s.jsx(kn,{children:i==null?void 0:i.file_name})}),i&&s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:i.file_url,alt:i.file_name,className:"w-full h-auto rounded-lg"}),s.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[s.jsxs("p",{children:["Size: ",l(i.file_size)]}),s.jsxs("p",{children:["Uploaded: ",new Date(i.uploaded_at).toLocaleDateString()]})]})]})]})})]})},EB=({requestId:e,canEdit:t})=>{const[r,n]=f.useState([]),[a,i]=f.useState([]),[o,l]=f.useState(!1),[c,d]=f.useState(!0),{toast:u}=ct();f.useEffect(()=>{h(),m()},[e]);const h=async()=>{const{data:g,error:x}=await F.from("jobsite_photos").select("*").order("uploaded_at",{ascending:!1});x?u({title:"Error",description:"Failed to fetch photos",variant:"destructive"}):n(g||[]),d(!1)},m=async()=>{const{data:g,error:x}=await F.from("request_selected_photos").select("photo_id").eq("request_id",e);!x&&g&&i(g.map(j=>j.photo_id))},p=async g=>{if(!t)return;if(a.includes(g)){const{error:j}=await F.from("request_selected_photos").delete().eq("request_id",e).eq("photo_id",g);j?u({title:"Error",description:"Failed to remove photo",variant:"destructive"}):i(_=>_.filter(N=>N!==g))}else{const{error:j}=await F.from("request_selected_photos").insert({request_id:e,photo_id:g});j?u({title:"Error",description:"Failed to add photo",variant:"destructive"}):i(_=>[..._,g])}},w=async g=>{if(!t)return;const{error:x}=await F.from("request_selected_photos").delete().eq("request_id",e).eq("photo_id",g);x?u({title:"Error",description:"Failed to remove photo",variant:"destructive"}):(i(j=>j.filter(_=>_!==g)),u({title:"Success",description:"Photo removed from request"}))},y=async g=>{if(!t||!g.target.files||g.target.files.length===0)return;l(!0);const x=Array.from(g.target.files);try{for(const j of x){const _=j.name.split(".").pop(),N=`${e}-${Date.now()}.${_}`,{error:k,data:S}=await F.storage.from("jobsite-photos").upload(N,j);if(k)throw k;const{data:{publicUrl:E}}=F.storage.from("jobsite-photos").getPublicUrl(N),{data:I,error:P}=await F.from("jobsite_photos").insert({request_id:e,file_name:j.name,file_url:E,file_size:j.size}).select().single();if(P)throw P;I&&(await F.from("request_selected_photos").insert({request_id:e,photo_id:I.id}),i(C=>[...C,I.id]))}u({title:"Success",description:`${x.length} photo(s) uploaded`}),await h()}catch{u({title:"Error",description:"Failed to upload photos",variant:"destructive"})}finally{l(!1)}},v=r.filter(g=>a.includes(g.id)),b=r.filter(g=>!a.includes(g.id));return c?s.jsx(H,{children:s.jsx(se,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Zd,{className:"h-5 w-5"}),"Loading Photos..."]})})}):s.jsxs(H,{children:[s.jsx(se,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Zd,{className:"h-5 w-5"}),"Photos (",a.length," selected)"]})}),s.jsx(Y,{children:s.jsxs(ir,{defaultValue:"selected",className:"w-full",children:[s.jsxs(Jt,{className:"w-full",children:[s.jsxs(Te,{value:"selected",className:"flex-1",children:["Selected (",a.length,")"]}),s.jsxs(Te,{value:"available",className:"flex-1",children:["Available (",b.length,")"]}),t&&s.jsx(Te,{value:"upload",className:"flex-1",children:"Upload New"})]}),s.jsx(Me,{value:"selected",className:"mt-4",children:v.length>0?s.jsx(ub,{photos:v,selectedPhotoIds:a,onTogglePhoto:p,onRemovePhoto:w,canEdit:t}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Zd,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No photos selected"})]})}),s.jsx(Me,{value:"available",className:"mt-4",children:b.length>0?s.jsx(ub,{photos:b,selectedPhotoIds:a,onTogglePhoto:p,onRemovePhoto:w,canEdit:t}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Zd,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"All photos are already selected"})]})}),t&&s.jsx(Me,{value:"upload",className:"mt-4",children:s.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center",children:[s.jsx(ld,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload new photos to add to this request"}),s.jsx(V,{asChild:!0,disabled:o,children:s.jsxs("label",{className:"cursor-pointer",children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:y,disabled:o}),o?"Uploading...":"Select Files"]})})]})})]})})]})},RB=()=>{const{id:e}=oS(),[t,r]=f.useState(null),[n,a]=f.useState(!0),[i,o]=f.useState(null),l=at(),{toast:c}=ct(),{role:d,canViewAllRequests:u}=Kv();f.useEffect(()=>{h(),m()},[e]);const h=async()=>{const{data:{session:p}}=await F.auth.getSession();if(!p)l("/auth");else{const{data:{user:w}}=await F.auth.getUser();o((w==null?void 0:w.id)||null)}},m=async()=>{a(!0);const{data:p,error:w}=await F.from("video_requests").select("*").eq("id",e).maybeSingle();if(w||!p){c({title:"Error",description:"Failed to fetch request details",variant:"destructive"}),l("/");return}r(p),a(!1)};return n?s.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[s.jsx(ls,{}),s.jsx("main",{className:"flex-1 p-8",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),s.jsx("div",{className:"h-64 bg-muted rounded"})]})})]}):s.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[s.jsx(ls,{}),s.jsx("main",{className:"flex-1 p-8",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs(V,{variant:"ghost",onClick:()=>l("/"),className:"mb-6",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:t.client_company_name}),t.title&&s.jsx("p",{className:"text-muted-foreground mt-1",children:t.title})]}),s.jsx(CB,{status:t.status})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs(H,{children:[s.jsx(se,{children:s.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[s.jsx(O4,{className:"h-5 w-5"}),"Company Information"]})}),s.jsxs(Y,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm font-medium min-w-[100px]",children:"Name:"}),s.jsx("span",{className:"text-sm",children:t.client_company_name})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm font-medium min-w-[100px]",children:"Type:"}),s.jsx("span",{className:"text-sm capitalize",children:t.company_type.replace("_"," ")})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(GN,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),s.jsx("span",{className:"text-sm font-medium min-w-[100px]",children:"Location:"}),s.jsx("span",{className:"text-sm",children:t.city_community})]})]})]}),s.jsxs(H,{children:[s.jsx(se,{children:s.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[s.jsx(nf,{className:"h-5 w-5"}),"Timeline"]})}),s.jsxs(Y,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm font-medium min-w-[100px]",children:"Created:"}),s.jsx("span",{className:"text-sm",children:new Date(t.created_at).toLocaleString()})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm font-medium min-w-[100px]",children:"Updated:"}),s.jsx("span",{className:"text-sm",children:new Date(t.updated_at).toLocaleString()})]}),t.completed_at&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm font-medium min-w-[100px]",children:"Completed:"}),s.jsx("span",{className:"text-sm",children:new Date(t.completed_at).toLocaleString()})]})]})]})]}),s.jsxs(H,{className:"mb-6",children:[s.jsx(se,{children:s.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[s.jsx(YN,{className:"h-5 w-5"}),"Creative Direction"]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.visual_style&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm font-medium min-w-[120px]",children:"Visual Style:"}),s.jsx("span",{className:"text-sm capitalize",children:t.visual_style})]}),t.colors&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm font-medium min-w-[120px]",children:"Colors:"}),s.jsx("span",{className:"text-sm",children:t.colors})]}),t.scenes&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm font-medium min-w-[120px]",children:"Scenes:"}),s.jsx("span",{className:"text-sm",children:t.scenes})]}),t.aspect_ratio&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(z4,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),s.jsx("span",{className:"text-sm font-medium min-w-[120px]",children:"Aspect Ratio:"}),s.jsx("span",{className:"text-sm",children:t.aspect_ratio})]})]}),t.caption&&s.jsxs(s.Fragment,{children:[s.jsx(Wg,{}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(rv,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Caption:"})]}),s.jsx("p",{className:"text-sm bg-muted p-3 rounded-md",children:t.caption})]})]}),t.story_idea&&s.jsxs(s.Fragment,{children:[s.jsx(Wg,{}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(V4,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Story Idea:"})]}),s.jsx("p",{className:"text-sm bg-muted p-3 rounded-md",children:t.story_idea})]})]})]})]}),s.jsxs(H,{className:"mb-6",children:[s.jsx(se,{children:s.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[s.jsx(ZN,{className:"h-5 w-5"}),"Avatar Configuration"]})}),s.jsx(Y,{className:"space-y-3",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm font-medium min-w-[120px]",children:"Character:"}),s.jsx("span",{className:"text-sm",children:t.character})]}),t.gender_avatar&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-sm font-medium min-w-[120px]",children:"Gender:"}),s.jsx("span",{className:"text-sm capitalize",children:t.gender_avatar})]})]})})]}),s.jsxs(H,{className:"mb-6",children:[s.jsx(se,{children:s.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[s.jsx(ev,{className:"h-5 w-5"}),"Technical Settings"]})}),s.jsx(Y,{className:"space-y-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(bt,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),s.jsx("span",{className:"text-sm font-medium min-w-[120px]",children:"Render Mode:"}),s.jsx("span",{className:"text-sm font-mono",children:t.render_mode})]})})]}),t.special_request&&s.jsxs(H,{className:"mb-6",children:[s.jsx(se,{children:s.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[s.jsx(sn,{className:"h-5 w-5"}),"Special Request"]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm bg-muted p-3 rounded-md",children:t.special_request})})]}),s.jsx("div",{className:"mb-6",children:s.jsx(EB,{requestId:e,canEdit:u||t.user_id===i})}),t.video_url&&s.jsxs(H,{children:[s.jsx(se,{children:s.jsx(ne,{className:"text-lg",children:"Generated Video"})}),s.jsx(Y,{children:s.jsx(V,{asChild:!0,children:s.jsx("a",{href:t.video_url,target:"_blank",rel:"noopener noreferrer",children:"View Video"})})})]})]})})]})},PB=({children:e})=>{const t=at(),{isAdmin:r,loading:n,role:a}=Kv();return f.useEffect(()=>{!n&&!r&&(console.log("AdminRouteGuard: User is not admin, redirecting to dashboard. Role:",a),t("/dashboard"))},[r,n,t,a]),n?(console.log("AdminRouteGuard: Loading user role..."),s.jsx("div",{className:"flex items-center justify-center h-full min-h-screen",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})})):r?(console.log("AdminRouteGuard: Admin access granted, rendering children"),s.jsx(s.Fragment,{children:e})):(console.log("AdminRouteGuard: Not admin, showing redirect message. Role:",a),s.jsx("div",{className:"flex items-center justify-center h-full min-h-screen",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Redirecting to dashboard..."}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current role: ",a||"none"]})]})}))},Zs=({children:e})=>s.jsx(PB,{children:e}),za=({title:e,subtitle:t,actions:r})=>s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[s.jsx(nc,{to:"/admin",className:"hover:text-foreground transition-colors",children:"Admin"}),s.jsx(Xx,{className:"h-3 w-3"}),s.jsx("span",{className:"text-foreground",children:e})]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:e}),t&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t})]}),r&&s.jsx("div",{className:"flex items-center gap-2",children:r})]})]}),TB=10;async function AB(e){try{const{data:t,error:r}=await F.from("provider_balance_snapshots").select("provider, balance_value, balance_unit, fetched_at, error_message").eq("provider",e).order("fetched_at",{ascending:!1}).limit(1).single();if(r&&r.code!=="PGRST116")throw r;return t||null}catch(t){return console.error(`Error fetching latest ${e} balance:`,t),null}}function IB(e,t=TB){if(!e)return!0;const r=new Date(e).getTime(),n=Date.now(),a=t*60*1e3;return n-r>a}async function OB(){try{const{data:e,error:t}=await F.functions.invoke("fetch-provider-balances");if(t)throw t;return{success:!0,balances:e.balances}}catch(e){return console.error("Error fetching provider balances:",e),{success:!1,error:e.message||"Failed to fetch provider balances"}}}async function hb(e=!1){const t=["kie","fal"],r=[];for(const n of t){const a=await AB(n);if(e||IB((a==null?void 0:a.fetched_at)||null)){const i=await OB();if(i.success&&i.balances){const o=i.balances.find(l=>l.provider===n);if(o){r.push(o);continue}}}a?r.push(a):r.push({provider:n,balance_value:0,balance_unit:"credits",fetched_at:new Date().toISOString(),error_message:"No balance data available"})}return r}const MB=()=>{const{toast:e}=ct(),[t,r]=f.useState([]),[n,a]=f.useState(!0),[i,o]=f.useState(!1),[l,c]=f.useState(null);f.useEffect(()=>{d()},[]);const d=async()=>{a(!0);try{const m=await hb(!1);r(m),await u()}catch(m){console.error("Error loading admin overview:",m),e({title:"Error",description:"Failed to load admin overview data",variant:"destructive"})}finally{a(!1)}},u=async()=>{try{const{count:m}=await F.from("profiles").select("*",{count:"exact",head:!0}),{count:p}=await F.from("subscriptions").select("*",{count:"exact",head:!0}).eq("status","active"),{data:w}=await F.from("credit_balance").select("credits"),y=(w==null?void 0:w.reduce((g,x)=>g+(x.credits||0),0))||0,v=new Date;v.setDate(v.getDate()-30);const{count:b}=await F.from("video_jobs").select("*",{count:"exact",head:!0}).gte("created_at",v.toISOString());c({totalUsers:m||0,activeSubscriptions:p||0,totalCredits:y,totalVideoJobs:b||0})}catch(m){console.error("Error loading stats:",m)}},h=async()=>{o(!0);try{const m=await hb(!0);r(m),e({title:"Success",description:"Provider balances refreshed"})}catch(m){e({title:"Error",description:m.message||"Failed to refresh balances",variant:"destructive"})}finally{o(!1)}};return s.jsx(Zs,{children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-6 space-y-6",children:[s.jsx(za,{title:"Overview",subtitle:"Platform health and provider status",actions:s.jsx(V,{variant:"outline",size:"sm",onClick:h,disabled:i||n,className:"h-8",children:i?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"h-3 w-3 mr-1.5 animate-spin"}),"Refreshing"]}):s.jsxs(s.Fragment,{children:[s.jsx(Pc,{className:"h-3 w-3 mr-1.5"}),"Refresh"]})})}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsx(H,{className:"rounded-[10px] border",children:s.jsxs(Y,{className:"pt-4 pb-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Total Users"}),s.jsx("div",{className:"text-2xl font-semibold",children:(l==null?void 0:l.totalUsers)||0})]})}),s.jsx(H,{className:"rounded-[10px] border",children:s.jsxs(Y,{className:"pt-4 pb-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Active Subscriptions"}),s.jsx("div",{className:"text-2xl font-semibold",children:(l==null?void 0:l.activeSubscriptions)||0})]})}),s.jsx(H,{className:"rounded-[10px] border",children:s.jsxs(Y,{className:"pt-4 pb-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Total Credits"}),s.jsx("div",{className:"text-2xl font-semibold",children:((l==null?void 0:l.totalCredits)||0).toLocaleString()})]})}),s.jsx(H,{className:"rounded-[10px] border",children:s.jsxs(Y,{className:"pt-4 pb-4",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Video Jobs (30d)"}),s.jsx("div",{className:"text-2xl font-semibold",children:(l==null?void 0:l.totalVideoJobs)||0})]})})]}),s.jsxs(H,{className:"rounded-[10px] border",children:[s.jsx(se,{className:"pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(ne,{className:"text-base",children:"Provider Balances"})})}),s.jsx(Y,{children:n?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(we,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map(m=>{const p=m.fetched_at?Date.now()-new Date(m.fetched_at).getTime()>6e5:!0;return s.jsx("div",{className:"flex items-center justify-between p-3 rounded-[8px] border bg-muted/30",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-sm font-medium capitalize",children:m.provider}),m.error_message?s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-destructive"}),"Unavailable"]}):s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-green-500"}),"Active"]})]}),s.jsxs("div",{className:"text-lg font-semibold",children:[m.balance_value.toLocaleString()," ",s.jsx("span",{className:"text-sm text-muted-foreground font-normal",children:m.balance_unit})]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[m.fetched_at?`Updated ${vl(new Date(m.fetched_at),{addSuffix:!0})}`:"Never updated",p&&!m.error_message&&s.jsx("span",{className:"ml-2 text-amber-600",children:" Stale"})]}),m.error_message&&s.jsxs("div",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[s.jsx(ad,{className:"h-3 w-3"}),m.error_message]})]})},m.provider)})})})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[s.jsx(nc,{to:"/admin/users",children:s.jsx(H,{className:"rounded-[10px] border hover:border-primary/50 transition-colors cursor-pointer",children:s.jsxs(Y,{className:"pt-4 pb-4",children:[s.jsx("div",{className:"text-sm font-medium",children:"Users"}),s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Manage users and roles"})]})})}),s.jsx(nc,{to:"/admin/providers",children:s.jsx(H,{className:"rounded-[10px] border hover:border-primary/50 transition-colors cursor-pointer",children:s.jsxs(Y,{className:"pt-4 pb-4",children:[s.jsx("div",{className:"text-sm font-medium",children:"Providers"}),s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Configure providers"})]})})}),s.jsx(nc,{to:"/admin/billing",children:s.jsx(H,{className:"rounded-[10px] border hover:border-primary/50 transition-colors cursor-pointer",children:s.jsxs(Y,{className:"pt-4 pb-4",children:[s.jsx("div",{className:"text-sm font-medium",children:"Billing"}),s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Monitor webhooks"})]})})})]})]})})},Ci=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:J("w-full caption-bottom text-sm",e),...t})}));Ci.displayName="Table";const Ei=f.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:J("[&_tr]:border-b",e),...t}));Ei.displayName="TableHeader";const Ri=f.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:J("[&_tr:last-child]:border-0",e),...t}));Ri.displayName="TableBody";const DB=f.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:J("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));DB.displayName="TableFooter";const Br=f.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:J("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Br.displayName="TableRow";const Ye=f.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:J("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ye.displayName="TableHead";const Qe=f.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:J("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Qe.displayName="TableCell";const FB=f.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:J("mt-4 text-sm text-muted-foreground",e),...t}));FB.displayName="TableCaption";const LB=()=>{const e=at(),{toast:t}=ct(),[r,n]=f.useState([]),[a,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(""),[u,h]=f.useState("all"),[m,p]=f.useState("all"),[w,y]=f.useState(1),v=25;f.useEffect(()=>{b()},[]),f.useEffect(()=>{g()},[r,c,u,m]);const b=async()=>{l(!0);try{const{data:_,error:N}=await F.from("profiles").select("id, email, full_name, email_verified, created_at, last_login, stripe_customer_id").order("created_at",{ascending:!1});if(N)throw N;const k=await Promise.all((_||[]).map(async S=>{const{data:E}=await F.from("user_roles").select("role").eq("user_id",S.id).single(),{data:I}=await F.from("user_limits").select("status").eq("user_id",S.id).single(),{data:P}=await F.from("credit_balance").select("credits").eq("user_id",S.id).single(),{data:C}=await F.from("subscriptions").select("status").eq("user_id",S.id).eq("plan","studio_access").single();return{id:S.id,email:S.email,full_name:S.full_name,email_verified:S.email_verified||!1,role:(E==null?void 0:E.role)||"contributor",status:(I==null?void 0:I.status)||"active",created_at:S.created_at,last_login:S.last_login,credit_balance:(P==null?void 0:P.credits)||0,studio_access_status:(C==null?void 0:C.status)||null,stripe_customer_id:S.stripe_customer_id}}));n(k)}catch(_){console.error("Error fetching users:",_),t({title:"Error",description:_.message||"Failed to fetch users",variant:"destructive"})}finally{l(!1)}},g=()=>{let _=[...r];if(c){const N=c.toLowerCase();_=_.filter(k=>{var S;return k.email.toLowerCase().includes(N)||(((S=k.full_name)==null?void 0:S.toLowerCase().includes(N))??!1)})}u!=="all"&&(_=_.filter(N=>N.role===u)),m!=="all"&&(_=_.filter(N=>N.status===m)),i(_),y(1)},x=a.slice((w-1)*v,w*v),j=Math.ceil(a.length/v);return s.jsx(Zs,{children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-6 space-y-6",children:[s.jsx(za,{title:"Users",subtitle:"Manage users, roles, and account access"}),s.jsx(H,{className:"rounded-[10px] border",children:s.jsx(Y,{className:"pt-4",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(id,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),s.jsx(Ne,{placeholder:"Search by email or name...",value:c,onChange:_=>d(_.target.value),className:"pl-8 h-9 text-sm rounded-[8px]"})]}),s.jsxs(Ze,{value:u,onValueChange:h,children:[s.jsx(He,{className:"rounded-[8px] h-9 text-sm",children:s.jsx(Je,{placeholder:"Filter by role"})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"all",children:"All Roles"}),s.jsx(K,{value:"admin",children:"Admin"}),s.jsx(K,{value:"manager",children:"Manager"}),s.jsx(K,{value:"contributor",children:"Contributor"})]})]}),s.jsxs(Ze,{value:m,onValueChange:p,children:[s.jsx(He,{className:"rounded-[8px] h-9 text-sm",children:s.jsx(Je,{placeholder:"Filter by status"})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"all",children:"All Statuses"}),s.jsx(K,{value:"active",children:"Active"}),s.jsx(K,{value:"suspended",children:"Suspended"})]})]})]})})}),s.jsxs(H,{className:"rounded-[10px] border",children:[s.jsx(se,{className:"pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs(ne,{className:"text-base",children:["Users (",a.length,")"]}),s.jsxs(Ce,{className:"text-xs mt-0.5",children:["Showing ",x.length>0?(w-1)*v+1:0," - ",Math.min(w*v,a.length)," of ",a.length]})]})})}),s.jsx(Y,{children:o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):x.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No users found"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ci,{children:[s.jsx(Ei,{children:s.jsxs(Br,{children:[s.jsx(Ye,{children:"Email"}),s.jsx(Ye,{children:"Name"}),s.jsx(Ye,{children:"Role"}),s.jsx(Ye,{children:"Status"}),s.jsx(Ye,{children:"Verified"}),s.jsx(Ye,{children:"Created"}),s.jsx(Ye,{children:"Last Login"}),s.jsx(Ye,{children:"Credits"}),s.jsx(Ye,{children:"Studio Access"}),s.jsx(Ye,{children:"Actions"})]})}),s.jsx(Ri,{children:x.map(_=>s.jsxs(Br,{children:[s.jsx(Qe,{className:"font-medium",children:_.email}),s.jsx(Qe,{children:_.full_name||""}),s.jsx(Qe,{children:s.jsx(re,{variant:"outline",className:"capitalize",children:_.role})}),s.jsx(Qe,{children:s.jsx(re,{variant:_.status==="active"?"default":"destructive",children:_.status})}),s.jsx(Qe,{children:_.email_verified?s.jsx(re,{variant:"outline",className:"text-green-600",children:"Verified"}):s.jsx(re,{variant:"outline",className:"text-muted-foreground",children:"Unverified"})}),s.jsx(Qe,{className:"text-sm text-muted-foreground",children:Ur(new Date(_.created_at),"MMM d, yyyy")}),s.jsx(Qe,{className:"text-sm text-muted-foreground",children:_.last_login?Ur(new Date(_.last_login),"MMM d, yyyy"):"Never"}),s.jsx(Qe,{className:"font-medium",children:_.credit_balance.toLocaleString()}),s.jsx(Qe,{children:_.studio_access_status?s.jsx(re,{variant:_.studio_access_status==="active"?"default":"secondary",className:"capitalize",children:_.studio_access_status}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"None"})}),s.jsx(Qe,{children:s.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>e(`/admin/users/${_.id}`),className:"h-7 px-2 text-xs",children:[s.jsx(Ca,{className:"h-3 w-3 mr-1"}),"View"]})})]},_.id))})]})}),j>1&&s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t",children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Page ",w," of ",j]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>y(_=>Math.max(1,_-1)),disabled:w===1,className:"h-8 text-xs",children:[s.jsx(M4,{className:"h-3 w-3"}),"Prev"]}),s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>y(_=>Math.min(j,_+1)),disabled:w===j,className:"h-8 text-xs",children:["Next",s.jsx(Xx,{className:"h-3 w-3"})]})]})]})]})})]})]})})},$B=()=>{const e=at(),{id:t}=oS(),{toast:r}=ct(),[n,a]=f.useState(null),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState(!0),[h,m]=f.useState(!1),[p,w]=f.useState(!1),[y,v]=f.useState(!1),[b,g]=f.useState(!1),[x,j]=f.useState("");f.useEffect(()=>{t&&(_(),N(),k())},[t]);const _=async()=>{if(t){u(!0);try{const{data:R,error:D}=await F.from("profiles").select("*").eq("id",t).single();if(D)throw D;const{data:$}=await F.from("user_roles").select("role").eq("user_id",t).single(),{data:U}=await F.from("user_limits").select("status").eq("user_id",t).single(),{data:q}=await F.from("subscriptions").select("status, current_period_end, stripe_subscription_id").eq("user_id",t).eq("plan","studio_access").single(),{data:T}=await F.from("credit_balance").select("credits").eq("user_id",t).single();a({id:R.id,email:R.email,full_name:R.full_name,email_verified:R.email_verified||!1,role:($==null?void 0:$.role)||"contributor",status:(U==null?void 0:U.status)||"active",created_at:R.created_at,last_login:R.last_login,stripe_customer_id:R.stripe_customer_id,subscription:q||null,credit_balance:(T==null?void 0:T.credits)||0})}catch(R){console.error("Error fetching user detail:",R),r({title:"Error",description:R.message||"Failed to fetch user details",variant:"destructive"})}finally{u(!1)}}},N=async()=>{if(t)try{const{data:R,error:D}=await F.from("login_events").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(50);if(D)throw D;o(R||[])}catch(R){console.error("Error fetching login history:",R)}},k=async()=>{if(t)try{const{data:R,error:D}=await F.from("credit_transactions").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(50);if(D)throw D;c(R||[])}catch(R){console.error("Error fetching credit transactions:",R)}},S=async R=>{if(!t||!x.trim()){r({title:"Reason Required",description:"Please provide a reason for this action",variant:"destructive"});return}m(!0);try{const D=n==null?void 0:n.role,{error:$}=await F.from("user_roles").update({role:R}).eq("user_id",t);if($)throw $;await F.functions.invoke("admin-audit-log",{body:{action_type:"role_change",target_type:"user",target_id:t,before_json:{role:D},after_json:{role:R},reason:x}}),r({title:"Success",description:`User role changed to ${R}`}),w(!1),j(""),_()}catch(D){r({title:"Error",description:D.message||"Failed to change role",variant:"destructive"})}finally{m(!1)}},E=async()=>{if(!t||!x.trim()){r({title:"Reason Required",description:"Please provide a reason for suspending this account",variant:"destructive"});return}m(!0);try{const R=(n==null?void 0:n.status)==="active",D=R?"suspended":"active",{error:$}=await F.from("user_limits").upsert({user_id:t,status:D,suspended_reason:R?x:null,suspended_at:R?new Date().toISOString():null});if($)throw $;await F.functions.invoke("admin-audit-log",{body:{action_type:R?"user_suspend":"user_reactivate",target_type:"user",target_id:t,before_json:{status:n==null?void 0:n.status},after_json:{status:D},reason:x}}),r({title:"Success",description:`User account ${D==="suspended"?"suspended":"reactivated"}`}),v(!1),j(""),_()}catch(R){r({title:"Error",description:R.message||"Failed to update account status",variant:"destructive"})}finally{m(!1)}},I=async()=>{if(!t||!x.trim()){r({title:"Reason Required",description:"Please provide a reason for forcing password reset",variant:"destructive"});return}m(!0);try{const{error:R}=await F.functions.invoke("admin-force-password-reset",{body:{user_id:t,reason:x}});if(R)throw R;r({title:"Success",description:"Password reset email sent to user"}),g(!1),j("")}catch(R){r({title:"Error",description:R.message||"Failed to force password reset",variant:"destructive"})}finally{m(!1)}},P=async()=>{if(!t||!x.trim()){r({title:"Reason Required",description:"Please provide a reason for invalidating sessions",variant:"destructive"});return}m(!0);try{const{error:R}=await F.functions.invoke("admin-invalidate-sessions",{body:{user_id:t,reason:x}});if(R)throw R;r({title:"Success",description:"All user sessions invalidated"}),j("")}catch(R){r({title:"Error",description:R.message||"Failed to invalidate sessions",variant:"destructive"})}finally{m(!1)}},C=i.filter(R=>!R.success).length;return d?s.jsx(Zs,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):n?s.jsx(Zs,{children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-6 space-y-6",children:[s.jsx(za,{title:n.email,subtitle:"User account details and management"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs(H,{className:"rounded-[10px] border",children:[s.jsx(se,{children:s.jsx(ne,{children:"Account Summary"})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("div",{className:"font-medium",children:n.email}),n.email_verified?s.jsxs(re,{variant:"outline",className:"mt-1 text-green-600",children:[s.jsx(At,{className:"h-3 w-3 mr-1"}),"Verified"]}):s.jsxs(re,{variant:"outline",className:"mt-1 text-muted-foreground",children:[s.jsx(Wt,{className:"h-3 w-3 mr-1"}),"Unverified"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Role"}),s.jsx(re,{variant:"outline",className:"capitalize mt-1",children:n.role})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(re,{variant:n.status==="active"?"default":"destructive",className:"mt-1",children:n.status})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Created"}),s.jsx("div",{className:"text-sm font-medium",children:Ur(new Date(n.created_at),"MMM d, yyyy")})]})]})]}),s.jsxs(H,{className:"rounded-[10px] border",children:[s.jsx(se,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Tc,{className:"h-5 w-5"}),"Security"]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Login"}),s.jsx("div",{className:"text-sm font-medium",children:n.last_login?Ur(new Date(n.last_login),"MMM d, yyyy h:mm a"):"Never"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed Login Attempts"}),s.jsx("div",{className:"text-sm font-medium",children:C}),C>5&&s.jsxs(Ko,{variant:"destructive",className:"mt-2",children:[s.jsx(Kw,{className:"h-4 w-4"}),s.jsx(Yo,{children:"High Failure Count"}),s.jsxs(Qo,{className:"text-xs",children:["User has ",C," failed login attempts"]})]})]}),s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"w-full rounded-[10px]",children:[s.jsx(Pc,{className:"h-4 w-4 mr-2"}),"Force Password Reset"]}),s.jsxs(V,{variant:"outline",size:"sm",onClick:P,className:"w-full rounded-[10px]",disabled:h,children:[s.jsx(K4,{className:"h-4 w-4 mr-2"}),"Invalidate All Sessions"]})]})]})]}),s.jsxs(H,{className:"rounded-[10px] border",children:[s.jsx(se,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(sv,{className:"h-5 w-5"}),"Billing & Credits"]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Credit Balance"}),s.jsx("div",{className:"text-2xl font-bold",children:n.credit_balance.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Studio Access"}),n.subscription?s.jsxs(s.Fragment,{children:[s.jsx(re,{variant:n.subscription.status==="active"?"default":"secondary",className:"mt-1 capitalize",children:n.subscription.status}),n.subscription.current_period_end&&s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Renews ",Ur(new Date(n.subscription.current_period_end),"MMM d, yyyy")]})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"No subscription"})]}),n.stripe_customer_id&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Stripe Customer ID"}),s.jsx("div",{className:"text-xs font-mono",children:n.stripe_customer_id})]})]})]})]}),s.jsxs(H,{className:"rounded-[10px] border border-destructive/20",children:[s.jsxs(se,{children:[s.jsxs(ne,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Kw,{className:"h-5 w-5"}),"Admin Actions"]}),s.jsx(Ce,{children:"Actions require a reason and are audited"})]}),s.jsx(Y,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs(ja,{open:p,onOpenChange:w,children:[s.jsx(Ru,{asChild:!0,children:s.jsxs(V,{variant:"outline",className:"rounded-[10px]",children:[s.jsx(Tc,{className:"h-4 w-4 mr-2"}),"Change Role"]})}),s.jsxs(Nn,{className:"rounded-[14px]",children:[s.jsxs(Sn,{children:[s.jsx(kn,{children:"Change User Role"}),s.jsxs(jo,{children:["Select new role for ",n.email]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(z,{children:"New Role"}),s.jsxs(Ze,{defaultValue:n.role,onValueChange:R=>{R!==n.role&&S(R)},children:[s.jsx(He,{className:"rounded-[10px]",children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"contributor",children:"Contributor"}),s.jsx(K,{value:"manager",children:"Manager"}),s.jsx(K,{value:"admin",children:"Admin"})]})]})]}),s.jsxs("div",{children:[s.jsx(z,{children:"Reason *"}),s.jsx(lt,{value:x,onChange:R=>j(R.target.value),placeholder:"Provide a reason for this role change...",className:"rounded-[10px]",rows:3})]})]}),s.jsxs(bo,{children:[s.jsx(V,{variant:"outline",onClick:()=>{w(!1),j("")},className:"rounded-[10px]",children:"Cancel"}),s.jsx(V,{onClick:()=>S(n.role),disabled:h||!x.trim(),className:"rounded-[10px]",children:h?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Role"})]})]})]}),s.jsxs(ja,{open:y,onOpenChange:v,children:[s.jsx(Ru,{asChild:!0,children:s.jsx(V,{variant:n.status==="active"?"destructive":"default",className:"rounded-[10px]",children:n.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx(A4,{className:"h-4 w-4 mr-2"}),"Suspend Account"]}):s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"h-4 w-4 mr-2"}),"Reactivate Account"]})})}),s.jsxs(Nn,{className:"rounded-[14px]",children:[s.jsxs(Sn,{children:[s.jsx(kn,{children:n.status==="active"?"Suspend Account":"Reactivate Account"}),s.jsx(jo,{children:n.status==="active"?"This will prevent the user from accessing the platform.":"This will restore the user's access to the platform."})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{children:[s.jsx(z,{children:"Reason *"}),s.jsx(lt,{value:x,onChange:R=>j(R.target.value),placeholder:"Provide a reason for this action...",className:"rounded-[10px]",rows:4})]})}),s.jsxs(bo,{children:[s.jsx(V,{variant:"outline",onClick:()=>{v(!1),j("")},className:"rounded-[10px]",children:"Cancel"}),s.jsx(V,{onClick:E,disabled:h||!x.trim(),variant:n.status==="active"?"destructive":"default",className:"rounded-[10px]",children:h?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):n.status==="active"?"Suspend Account":"Reactivate Account"})]})]})]}),s.jsxs(ja,{open:b,onOpenChange:g,children:[s.jsx(Ru,{asChild:!0,children:s.jsxs(V,{variant:"outline",className:"rounded-[10px]",children:[s.jsx(Pc,{className:"h-4 w-4 mr-2"}),"Force Password Reset"]})}),s.jsxs(Nn,{className:"rounded-[14px]",children:[s.jsxs(Sn,{children:[s.jsx(kn,{children:"Force Password Reset"}),s.jsxs(jo,{children:["This will send a password reset email to ",n.email]})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{children:[s.jsx(z,{children:"Reason *"}),s.jsx(lt,{value:x,onChange:R=>j(R.target.value),placeholder:"Provide a reason for forcing password reset...",className:"rounded-[10px]",rows:4})]})}),s.jsxs(bo,{children:[s.jsx(V,{variant:"outline",onClick:()=>{g(!1),j("")},className:"rounded-[10px]",children:"Cancel"}),s.jsx(V,{onClick:I,disabled:h||!x.trim(),className:"rounded-[10px]",children:h?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Email"})]})]})]})]})})]}),s.jsxs(H,{className:"rounded-[10px] border",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Login History"}),s.jsx(Ce,{children:"Recent login attempts"})]}),s.jsx(Y,{children:i.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No login history available"}):s.jsxs(Ci,{children:[s.jsx(Ei,{children:s.jsxs(Br,{children:[s.jsx(Ye,{children:"Date"}),s.jsx(Ye,{children:"IP Address"}),s.jsx(Ye,{children:"User Agent"}),s.jsx(Ye,{children:"Status"}),s.jsx(Ye,{children:"Failure Reason"})]})}),s.jsx(Ri,{children:i.map(R=>s.jsxs(Br,{children:[s.jsx(Qe,{className:"text-sm",children:Ur(new Date(R.created_at),"MMM d, yyyy h:mm a")}),s.jsx(Qe,{className:"text-sm font-mono",children:R.ip_address||""}),s.jsx(Qe,{className:"text-sm text-muted-foreground max-w-xs truncate",children:R.user_agent||""}),s.jsx(Qe,{children:R.success?s.jsxs(re,{variant:"outline",className:"text-green-600",children:[s.jsx(At,{className:"h-3 w-3 mr-1"}),"Success"]}):s.jsxs(re,{variant:"outline",className:"text-red-600",children:[s.jsx(Wt,{className:"h-3 w-3 mr-1"}),"Failed"]})}),s.jsx(Qe,{className:"text-sm text-muted-foreground",children:R.failure_reason||""})]},R.id))})]})})]}),s.jsxs(H,{className:"rounded-[10px] border",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Credit Transaction History"}),s.jsx(Ce,{children:"Recent credit purchases, usage, and adjustments"})]}),s.jsx(Y,{children:l.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No credit transactions yet"}):s.jsxs(Ci,{children:[s.jsx(Ei,{children:s.jsxs(Br,{children:[s.jsx(Ye,{children:"Date"}),s.jsx(Ye,{children:"Type"}),s.jsx(Ye,{children:"Amount"}),s.jsx(Ye,{children:"Balance After"})]})}),s.jsx(Ri,{children:l.map(R=>s.jsxs(Br,{children:[s.jsx(Qe,{className:"text-sm",children:Ur(new Date(R.created_at),"MMM d, yyyy h:mm a")}),s.jsx(Qe,{children:s.jsx(re,{variant:R.type==="grant"||R.type==="purchase"?"default":R.type==="debit"?"secondary":"outline",children:R.type})}),s.jsxs(Qe,{className:R.amount>0?"text-green-600":"text-red-600",children:[R.amount>0?"+":"",R.amount.toLocaleString()," credits"]}),s.jsxs(Qe,{className:"font-medium",children:[R.balance_after.toLocaleString()," credits"]})]},R.id))})]})})]})]})}):s.jsx(Zs,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground",children:"User not found"}),s.jsxs(V,{onClick:()=>e("/admin/users"),className:"mt-4",variant:"outline",children:[s.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Back to Users"]})]})})},UB=()=>s.jsx(Zs,{children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-6 space-y-6",children:[s.jsx(za,{title:"Credits",subtitle:"Manage user credits and adjustments"}),s.jsxs(H,{className:"rounded-[10px] border",children:[s.jsx(se,{children:s.jsx(ne,{className:"text-base",children:"Credits Management"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Credits management page - Coming soon"})})]})]})}),VB=()=>s.jsx(Zs,{children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-6 space-y-6",children:[s.jsx(za,{title:"Providers",subtitle:"Manage video generation providers"}),s.jsxs(H,{className:"rounded-[10px] border",children:[s.jsx(se,{children:s.jsx(ne,{className:"text-base",children:"Provider Controls"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Provider controls page - Coming soon"})})]})]})}),BB=()=>s.jsx(Zs,{children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-6 space-y-6",children:[s.jsx(za,{title:"Billing",subtitle:"Monitor Stripe webhooks and billing health"}),s.jsxs(H,{className:"rounded-[10px] border",children:[s.jsx(se,{children:s.jsx(ne,{className:"text-base",children:"Billing & Payments"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Billing management page - Coming soon"})})]})]})}),zB=()=>s.jsx(Zs,{children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-6 space-y-6",children:[s.jsx(za,{title:"Renders",subtitle:"Monitor video generation jobs and retries"}),s.jsxs(H,{className:"rounded-[10px] border",children:[s.jsx(se,{children:s.jsx(ne,{className:"text-base",children:"Render Operations"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Render operations page - Coming soon"})})]})]})}),WB=()=>s.jsx(Zs,{children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-6 space-y-6",children:[s.jsx(za,{title:"Audit Log",subtitle:"View all admin actions and changes"}),s.jsxs(H,{className:"rounded-[10px] border",children:[s.jsx(se,{children:s.jsx(ne,{className:"text-base",children:"Audit Log"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Audit log page - Coming soon"})})]})]})}),qB=()=>{const e=at(),[t,r]=f.useState([]),[n,a]=f.useState([]),[i,o]=f.useState(!0);f.useEffect(()=>{l(),c()},[]);const l=async()=>{const{data:{session:u}}=await F.auth.getSession();u||e("/auth")},c=async()=>{o(!0);try{const{data:u}=await F.from("request_templates").select("*").eq("is_system_template",!0).order("name"),{data:h}=await F.from("request_templates").select("*").eq("is_system_template",!1).order("name");r(u||[]),a(h||[])}catch(u){console.error("Error loading templates:",u)}finally{o(!1)}},d=u=>{e("/new-request",{state:{template:u}})};return s.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[s.jsx(ls,{}),s.jsx("main",{className:"flex-1 p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(V,{variant:"ghost",onClick:()=>e("/"),className:"mb-6",children:[s.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Templates"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your request templates"})]}),s.jsxs(V,{onClick:()=>e("/new-request"),children:[s.jsx(Dr,{className:"mr-2 h-4 w-4"}),"New Request"]})]}),i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs(ir,{defaultValue:"system",className:"w-full",children:[s.jsxs(Jt,{children:[s.jsxs(Te,{value:"system",children:["Pre-Built Templates (",t.length,")"]}),s.jsxs(Te,{value:"custom",children:["My Templates (",n.length,")"]})]}),s.jsx(Me,{value:"system",className:"mt-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(u=>s.jsx(jh,{template:u,onSelect:()=>d(u)},u.id))})}),s.jsx(Me,{value:"custom",className:"mt-6",children:n.length===0?s.jsxs(H,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"No Custom Templates"}),s.jsx(Ce,{children:"You haven't created any custom templates yet."})]}),s.jsxs(Y,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create a new request and save it as a template to reuse your configurations."}),s.jsxs(V,{onClick:()=>e("/new-request"),children:[s.jsx(Dr,{className:"mr-2 h-4 w-4"}),"Create New Request"]})]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(u=>s.jsx(jh,{template:u,onSelect:()=>d(u),showActions:!0,onDelete:c},u.id))})})]})]})})]})},HB=({currentStep:e})=>{const t=[{number:1,label:"Upload Image",icon:_n},{number:2,label:"Business Details",icon:sn},{number:3,label:"Generate Prompts",icon:bt},{number:4,label:"Create Video",icon:Lt}];return s.jsx("div",{className:"w-full mb-8",children:s.jsx("div",{className:"flex items-center justify-between",children:t.map((r,n)=>s.jsxs("div",{className:"flex-1 flex items-center",children:[s.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[s.jsx("div",{className:J("w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all",e>r.number?"bg-primary border-primary text-primary-foreground":e===r.number?"border-primary bg-primary/10 text-primary":"border-muted bg-muted text-muted-foreground"),children:e>r.number?s.jsx(vt,{className:"h-5 w-5"}):s.jsx(r.icon,{className:"h-5 w-5"})}),s.jsx("span",{className:J("text-xs mt-2 font-medium text-center hidden sm:block",e>=r.number?"text-foreground":"text-muted-foreground"),children:r.label})]}),n<t.length-1&&s.jsx("div",{className:"flex-1 h-0.5 mx-2 mt-[-20px] sm:mt-[-35px]",children:s.jsx("div",{className:J("h-full transition-all",e>r.number?"bg-primary":"bg-muted")})})]},r.number))})})},GB=({step:e})=>{const[t,r]=f.useState(!1);if(t)return null;const a={1:{title:"Image Tips",tips:["Use high-resolution images (1080p or higher)","Ensure good lighting and clear subjects","Horizontal images work best for landscape videos","Avoid blurry or heavily filtered images"]},2:{title:"Details Tips",tips:["Be specific about your industry for better prompts","Use a professional name for the avatar","Include your actual city for local relevance","Describe a clear marketing story with problem  solution"]},3:{title:"Prompt Tips",tips:["Review each scene prompt carefully","Edit the avatar script to match your brand voice","Keep dialogue natural and conversational","Ensure scenes flow logically from one to the next"]},4:{title:"Generation Tips",tips:["Generation takes 2-5 minutes per scene","You can track progress on the Dashboard","Failed scenes can be retried individually","Final videos can be stitched together automatically"]}}[e];return a?s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 rounded-lg p-4 relative",children:[s.jsx(V,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:()=>r(!0),children:s.jsx(tn,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(HN,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-amber-800 dark:text-amber-200 mb-2",children:a.title}),s.jsx("ul",{className:"space-y-1",children:a.tips.map((i,o)=>s.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300 flex items-start gap-2",children:[s.jsx("span",{className:"text-amber-400",children:""}),i]},o))})]})]})]}):null},KB=parseFloat("0.20"),YB=parseFloat("3"),_h=parseFloat("1"),Nh=KB*YB/_h,bn={name:"Studio Access",price:99,stripePriceId:void 0,description:"Unlock the studio (orchestration UI, integrations, team workflows)",features:["Studio & orchestration UI","Provider integrations framework","Team collaboration tools","Compliance tooling","Workflow management","Quality gates & retries"]};function qg(e){return e*Nh}function lc(e){return Math.ceil(e*_h)}async function aR(e){const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("User not authenticated");const r=lc(e),{data:n,error:a}=await F.from("credit_balance").select("credits").eq("user_id",t.id).single();if(a&&a.code!=="PGRST116")throw a;const i=(n==null?void 0:n.credits)||0,o=i>=r,l=o?0:r-i;return{hasCredits:o,currentBalance:i,requiredCredits:r,shortfall:l}}async function QB(e,t,r,n){try{const{data:{user:a}}=await F.auth.getUser();if(!a)throw new Error("User not authenticated");const i=lc(r),o=await aR(r);if(!o.hasCredits)return{success:!1,error:`Insufficient credits. You need ${i} credits but only have ${o.currentBalance}.`};const{data:l,error:c}=await F.from("video_jobs").insert({user_id:a.id,generation_id:e,provider:t,estimated_minutes:r,estimated_credits:i,credits_reserved:i,status:"pending",metadata:n}).select().single();if(c)throw c;return{success:!0,jobId:l.id}}catch(a){return console.error("Error reserving credits:",a),{success:!1,error:a.message||"Failed to reserve credits"}}}const XB=e=>{switch(e){case"CREDIT_EXHAUSTED":return" Credits Exhausted";case"RATE_LIMITED":return" Rate Limited";case"AUTH_ERROR":return" Authentication Error";case"INVALID_PARAMS":return" Invalid Parameters";default:return"Generation Failed"}},ZB=({userId:e})=>{const{toast:t}=ct(),r=at(),{balance:n,hasCredits:a}=xl(),[i,o]=f.useState(null),[l,c]=f.useState("image"),[d,u]=f.useState({industry:"",avatarName:"",city:"",storyIdea:"",model:"veo3_fast",aspectRatio:"16:9",watermark:"",numberOfScenes:3}),[h,m]=f.useState([]),[p,w]=f.useState(!1),[y,v]=f.useState(!1),b=()=>h.length>0?3:l==="text"?d.industry&&d.avatarName&&d.city?2:1:i&&d.industry&&d.avatarName&&d.city?2:1,g=N=>{c(N),N==="image"&&d.aspectRatio!=="16:9"&&u({...d,aspectRatio:"16:9"}),N==="text"&&o(null)},x=b(),j=async()=>{if(l==="image"&&!i){t({title:"Image Required",description:"Please upload or select an image first.",variant:"destructive"});return}if(!d.industry||!d.avatarName||!d.city||!d.storyIdea){t({title:"Missing Fields",description:"Please fill in all required fields including story idea.",variant:"destructive"});return}w(!0);try{let N=null;if(l==="image"&&i){const{data:E,error:I}=await F.from("jobsite_photos").select("file_url").eq("id",i).single();if(I||!E)throw new Error("Failed to get image URL");N=E.file_url}const{data:k,error:S}=await F.functions.invoke("analyze-image-kie",{body:{image_url:N,industry:d.industry,avatar_name:d.avatarName,city:d.city,story_idea:d.storyIdea,number_of_scenes:d.numberOfScenes,generation_mode:l}});if(S)throw console.error("Edge function error:",S),new Error(S.message||"Failed to analyze image");if(!(k!=null&&k.success))throw new Error((k==null?void 0:k.error)||"AI analysis failed");k.scenes&&Array.isArray(k.scenes)?m(k.scenes):m([{scene_number:1,prompt:k.prompt}]),t({title:" Prompts Generated!",description:`AI created ${d.numberOfScenes} scene prompts. Review and edit as needed.`})}catch(N){console.error("Error analyzing image:",N),t({title:"Analysis Failed",description:N instanceof Error?N.message:"Failed to analyze image.",variant:"destructive"})}finally{w(!1)}},_=async()=>{if(!h.length){t({title:"No Prompts",description:"Please generate prompts first.",variant:"destructive"});return}const N=Math.ceil(h.length*8/60),k=lc(N);try{const S=await aR(N);if(!S.hasCredits){const E=qg(k);t({title:"Insufficient Credits",description:`You need ${k} credits but only have ${S.currentBalance}. Please buy more credits to continue.`,variant:"destructive",duration:8e3}),r("/checkout?mode=credits");return}}catch(S){console.error("Error checking credits:",S),t({title:"Error",description:"Failed to check credit balance. Please try again.",variant:"destructive"});return}v(!0);try{let S=null;if(l==="image"&&i){const{data:O,error:G}=await F.from("jobsite_photos").select("file_url").eq("id",i).single();if(G||!O)throw new Error("Failed to get image URL");S=O.file_url}const E=h.length>1,I=l==="image"?"REFERENCE_2_VIDEO":"TEXT_2_VIDEO",{data:P,error:C}=await F.from("kie_video_generations").insert({user_id:e,image_url:S||"text-to-video",industry:d.industry,avatar_name:d.avatarName,city:d.city,story_idea:d.storyIdea,ai_prompt:h[0].prompt,model:d.model,aspect_ratio:d.aspectRatio,watermark:d.watermark||null,number_of_scenes:h.length,scene_prompts:h,current_scene:1,is_multi_scene:E,metadata:{generation_type:I}}).select().single();if(C||!P)throw new Error("Failed to create generation record");const R=await QB(P.id,"kie",N,{scene_count:h.length});if(!R.success)throw await F.from("kie_video_generations").delete().eq("id",P.id),new Error(R.error||"Failed to reserve credits");const D=h[0].prompt,$=h[0].script||"",U=$?`${D}

AVATAR DIALOGUE: The person speaks these words: "${$}"`:D,{data:q,error:T}=await F.functions.invoke("kie-generate-video",{body:{generation_id:P.id,prompt:U,image_url:S,model:d.model,aspect_ratio:d.aspectRatio,watermark:d.watermark||"",generation_type:I}});if(T||!(q!=null&&q.success)){const O=q==null?void 0:q.error_type,G=(q==null?void 0:q.error)||"Failed to start video generation",de=q==null?void 0:q.user_action;throw t({title:XB(O),description:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:G}),de&&s.jsxs("p",{className:"text-xs font-semibold mt-2",children:[" ",de]})]}),variant:"destructive",duration:8e3}),new Error(G)}t({title:" Video Generation Started!",description:E?`Generating ${h.length} scenes. Track progress on your Dashboard.`:"Your video is being generated. Track progress on your Dashboard."}),o(null),u({industry:"",avatarName:"",city:"",storyIdea:"",model:"veo3_fast",aspectRatio:"16:9",watermark:"",numberOfScenes:3}),m([])}catch(S){console.error("Error generating video:",S),t({title:"Generation Failed",description:S instanceof Error?S.message:"Failed to start video generation.",variant:"destructive"})}finally{v(!1)}};return s.jsxs("div",{className:"max-w-4xl space-y-6",children:[s.jsx(HB,{currentStep:x}),s.jsx(GB,{step:x}),s.jsxs(H,{className:h.length>0?"opacity-75":"",children:[s.jsxs(se,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ea,{className:"h-5 w-5 text-primary"})}),"Step 1 & 2: Upload Image & Provide Details"]}),s.jsx(Ce,{children:"Upload a high-quality image and tell us about your business"})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(z,{className:"text-base font-semibold",children:"Generation Mode"}),s.jsxs(Gs,{value:l,onValueChange:N=>g(N),className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:`flex items-center space-x-3 border rounded-lg p-4 cursor-pointer transition-all ${l==="image"?"border-primary bg-primary/5":"border-muted hover:border-muted-foreground/50"}`,children:[s.jsx(Vt,{value:"image",id:"mode-image"}),s.jsxs(z,{htmlFor:"mode-image",className:"cursor-pointer flex items-center gap-2",children:[s.jsx(_n,{className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Image Reference"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"16:9 only"})]})]})]}),s.jsxs("div",{className:`flex items-center space-x-3 border rounded-lg p-4 cursor-pointer transition-all ${l==="text"?"border-primary bg-primary/5":"border-muted hover:border-muted-foreground/50"}`,children:[s.jsx(Vt,{value:"text",id:"mode-text"}),s.jsxs(z,{htmlFor:"mode-text",className:"cursor-pointer flex items-center gap-2",children:[s.jsx(rv,{className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Prompt Only"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"16:9 or 9:16"})]})]})]})]})]}),l==="image"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(z,{className:"flex items-center gap-2",children:[s.jsx(_n,{className:"h-4 w-4"}),"Business Image *"]}),s.jsx(Fi,{selectedPhotoId:i,onPhotoSelect:o}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use a high-resolution image with good lighting for best results"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(z,{htmlFor:"industry",className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-4 w-4"}),"Industry *"]}),s.jsx(Ne,{id:"industry",value:d.industry,onChange:N=>u({...d,industry:N.target.value}),placeholder:"e.g., Roofing, HVAC, Landscaping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"avatarName",children:"Avatar/Spokesperson Name *"}),s.jsx(Ne,{id:"avatarName",value:d.avatarName,onChange:N=>u({...d,avatarName:N.target.value}),placeholder:"e.g., John Smith"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"city",children:"City *"}),s.jsx(Ne,{id:"city",value:d.city,onChange:N=>u({...d,city:N.target.value}),placeholder:"e.g., Austin, TX"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"numberOfScenes",children:"Number of Scenes"}),s.jsxs(Ze,{value:d.numberOfScenes.toString(),onValueChange:N=>u({...d,numberOfScenes:parseInt(N)}),children:[s.jsx(He,{id:"numberOfScenes",children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"2",children:"2 Scenes (16s total)"}),s.jsx(K,{value:"3",children:"3 Scenes (24s total)"}),s.jsx(K,{value:"4",children:"4 Scenes (32s total)"}),s.jsx(K,{value:"5",children:"5 Scenes (40s total)"}),s.jsx(K,{value:"6",children:"6 Scenes (48s total)"}),s.jsx(K,{value:"7",children:"7 Scenes (56s total)"}),s.jsx(K,{value:"8",children:"8 Scenes (64s total)"}),s.jsx(K,{value:"9",children:"9 Scenes (72s total)"}),s.jsx(K,{value:"10",children:"10 Scenes (80s total)"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"storyIdea",children:"Marketing Story Idea *"}),s.jsx(lt,{id:"storyIdea",value:d.storyIdea,onChange:N=>u({...d,storyIdea:N.target.value}),placeholder:"e.g., Show how our roofing service transforms old homes, highlighting quality, speed, and customer satisfaction",rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe your marketing message (problem  solution, before  after, customer journey)"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"model",children:"Video Model"}),s.jsxs(Ze,{value:d.model,onValueChange:N=>u({...d,model:N}),children:[s.jsx(He,{id:"model",children:s.jsx(Je,{})}),s.jsx(Ge,{children:s.jsx(K,{value:"veo3_fast",children:"Veo Fast (Image-to-Video)"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"aspectRatio",children:"Aspect Ratio"}),s.jsxs(Ze,{value:d.aspectRatio,onValueChange:N=>u({...d,aspectRatio:N}),disabled:l==="image",children:[s.jsx(He,{id:"aspectRatio",children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"16:9",children:"16:9 (Landscape - YouTube, TV)"}),l==="text"&&s.jsxs(s.Fragment,{children:[s.jsx(K,{value:"9:16",children:"9:16 (Portrait - TikTok, Reels)"}),s.jsx(K,{value:"Auto",children:"Auto (Based on content)"})]})]})]}),l==="image"&&s.jsx("p",{className:"text-xs text-muted-foreground",children:'Image-to-video only supports 16:9. Use "Prompt Only" mode for 9:16.'})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"watermark",children:"Watermark (Optional)"}),s.jsx(Ne,{id:"watermark",value:d.watermark,onChange:N=>u({...d,watermark:N.target.value}),placeholder:"Your Brand"})]})]}),s.jsx(V,{onClick:j,disabled:p||h.length>0,className:"w-full",size:"lg",children:p?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing with AI..."]}):h.length>0?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"mr-2 h-4 w-4"}),"Prompts Generated - Review Below"]}):s.jsxs(s.Fragment,{children:[s.jsx(bt,{className:"mr-2 h-4 w-4"}),"Generate AI Prompts",s.jsx(en,{className:"ml-2 h-4 w-4"})]})})]})]}),h.length>0&&s.jsxs(H,{className:"border-primary/50 shadow-lg",children:[s.jsxs(se,{className:"bg-primary/5",children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary text-primary-foreground",children:s.jsx(Lt,{className:"h-5 w-5"})}),"Step 3: Review & Edit Scene Prompts"]}),s.jsxs(Ce,{children:["AI generated ",h.length," scene prompts. Edit any scene before generating."]})]}),s.jsxs(Y,{className:"space-y-4 pt-6",children:[h.map((N,k)=>s.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-bold",children:N.scene_number}),s.jsxs(z,{className:"text-base font-semibold",children:["Scene ",N.scene_number," of ",h.length]}),s.jsx("span",{className:"text-sm text-muted-foreground ml-auto",children:"~8 seconds"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:`scene-${N.scene_number}-prompt`,className:"text-sm font-medium",children:"Visual Prompt"}),s.jsx(lt,{id:`scene-${N.scene_number}-prompt`,value:N.prompt,onChange:S=>{const E=[...h];E[k]={...N,prompt:S.target.value},m(E)},rows:3,className:"font-mono text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:`scene-${N.scene_number}-script`,className:"text-sm font-medium",children:"Avatar Script (Dialogue)"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"What the avatar says in this scene"}),s.jsx(lt,{id:`scene-${N.scene_number}-script`,value:N.script||"",onChange:S=>{const E=[...h];E[k]={...N,script:S.target.value},m(E)},rows:2,className:"italic",placeholder:"Enter dialogue for this scene..."})]})]},N.scene_number)),s.jsxs("div",{className:"pt-4 border-t space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Total video duration: ",s.jsxs("strong",{children:[h.length*8," seconds"]})," (",h.length," scenes  8s)"]}),s.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>m([]),className:"text-muted-foreground hover:text-foreground",children:[s.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Start Over"]})]}),h.length>0&&s.jsx("div",{className:"space-y-2",children:(()=>{const N=Math.ceil(h.length*8/60),k=lc(N),S=qg(k),E=n&&a(k);return s.jsxs("div",{className:"p-4 bg-muted/50 rounded-[10px] space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Estimated rendered:"}),s.jsxs("span",{className:"font-medium",children:[N," minutes"]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Estimated credits:"}),s.jsxs("span",{className:`font-semibold ${E?"text-foreground":"text-destructive"}`,children:[k," credits"]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Estimated cost:"}),s.jsxs("span",{children:["$",S.toFixed(2)]})]}),n&&s.jsxs("div",{className:"flex items-center justify-between text-sm pt-2 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Your balance:"}),s.jsxs("span",{className:"font-medium",children:[n.credits.toLocaleString()," credits"]})]}),!E&&n&&s.jsxs(Ko,{variant:"destructive",className:"mt-2",children:[s.jsx(ad,{className:"h-4 w-4"}),s.jsx(Yo,{children:"Insufficient Credits"}),s.jsxs(Qo,{className:"text-xs",children:["You need ",k," credits but only have ",n.credits,".",s.jsx(V,{variant:"link",size:"sm",className:"h-auto p-0 ml-1 text-xs underline",onClick:()=>r("/checkout?mode=credits"),children:"Buy credits"})]})]})]})})()}),s.jsx(V,{onClick:_,disabled:y||h.length>0&&n&&!a(lc(Math.ceil(h.length*8/60))),className:"w-full",size:"lg",children:y?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Starting Generation..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Lt,{className:"mr-2 h-4 w-4"}),"Generate ",h.length,"-Scene Video"]})})]})]})]})]})},JB=({userId:e})=>{const[t,r]=f.useState([]),[n,a]=f.useState(!0),[i,o]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState(1),[h,m]=f.useState(null);f.useEffect(()=>{p();const g=F.channel("kie_generations_changes").on("postgres_changes",{event:"*",schema:"public",table:"kie_video_generations",filter:`user_id=eq.${e}`},()=>{p()}).subscribe();return()=>{F.removeChannel(g)}},[e]),f.useEffect(()=>{const g=async()=>{const x=t.filter(j=>j.initial_status==="generating"||j.extended_status==="generating");for(const j of x)try{(j.initial_status==="generating"||j.extended_status==="generating")&&await F.functions.invoke("kie-check-status",{body:{generation_id:j.id}})}catch(_){console.error("Error polling status:",_)}};if(t.some(x=>x.initial_status==="generating"||x.extended_status==="generating")){const x=setInterval(g,15e3);return()=>clearInterval(x)}},[t]);const p=async()=>{try{const{data:g,error:x}=await F.from("kie_video_generations").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(x)throw x;r(g||[])}catch(g){console.error("Error fetching generations:",g)}finally{a(!1)}},w=async g=>{o(g);try{const{data:x,error:j}=await F.functions.invoke("kie-extend-next",{body:{generation_id:g}});if(j)throw j;if(!(x!=null&&x.success))throw new Error((x==null?void 0:x.error)||"Failed to extend video");Pr.success("Extension Started",{description:"Your video is being extended. This will take a few minutes."})}catch(x){console.error("Error extending video:",x),Pr.error("Extension Failed",{description:x instanceof Error?x.message:"Failed to extend video"})}finally{o(null)}},y=async g=>{c(g);try{const{data:x,error:j}=await F.functions.invoke("cloudinary-stitch-videos",{body:{generation_id:g,trim:!0,trim_seconds:d}});if(j)throw j;if(!(x!=null&&x.success))throw new Error((x==null?void 0:x.error)||"Failed to stitch videos");Pr.success("Videos Combined!",{description:"Your videos have been successfully merged with smooth transitions."}),await p()}catch(x){console.error("Error stitching with trim:",x),Pr.error("Stitching Failed",{description:x instanceof Error?x.message:"Failed to combine videos"})}finally{c(null)}},v=async g=>{m(g);try{const{data:x,error:j}=await F.functions.invoke("kie-retry-generation",{body:{generation_id:g}});if(j)throw j;Pr.success(x.message||"Retry started successfully!"),await p()}catch(x){console.error("Error retrying generation:",x),Pr.error(x.message||"Failed to retry generation")}finally{m(null)}},b=(g,x)=>{switch(g){case"completed":return s.jsxs(re,{className:"bg-green-500",children:[s.jsx(At,{className:"mr-1 h-3 w-3"}),"Completed"]});case"generating":return s.jsxs(re,{className:"bg-blue-500",children:[s.jsx(we,{className:"mr-1 h-3 w-3 animate-spin"}),"Generating"]});case"failed":return s.jsxs(re,{variant:"destructive",children:[s.jsx(Wt,{className:"mr-1 h-3 w-3"}),"Failed"]});default:return s.jsxs(re,{variant:"secondary",children:[s.jsx(Es,{className:"mr-1 h-3 w-3"}),"Pending"]})}};return n?s.jsx("div",{className:"flex justify-center p-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t.length===0?s.jsx(H,{children:s.jsx(Y,{className:"p-12 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No video generations yet. Create your first one!"})})}):s.jsx("div",{className:"grid gap-4",children:t.map(g=>{var x,j,_,N,k,S;return s.jsx(H,{children:s.jsxs(Y,{className:"p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold text-lg mb-1",children:[g.industry," - ",g.avatar_name,g.is_multi_scene&&s.jsxs(re,{variant:"secondary",className:"ml-2",children:[g.number_of_scenes," Scenes"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.city}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Created ",vl(new Date(g.created_at),{addSuffix:!0})]}),g.is_multi_scene&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs("span",{className:"font-medium",children:["Scene ",g.current_scene||1," of ",g.number_of_scenes]}),g.current_scene<g.number_of_scenes&&s.jsxs(re,{className:"bg-blue-500",children:[s.jsx(we,{className:"mr-1 h-3 w-3 animate-spin"}),"Generating"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${(g.current_scene||1)/g.number_of_scenes*100}%`}})})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(ar,{className:"h-4 w-4"}),"Video Segments (",((x=g.video_segments)==null?void 0:x.length)||0," parts)"]}),g.video_segments&&g.video_segments.length>0?s.jsx("div",{className:"space-y-2",children:g.video_segments.map((E,I)=>s.jsxs("div",{className:"border rounded-lg p-3 bg-muted/30",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Part ",I+1," - ",(E.duration/1e3).toFixed(0),"s"]}),s.jsx(re,{variant:"secondary",className:"capitalize",children:E.type})]}),s.jsx("video",{src:E.url,controls:!0,className:"w-full rounded-lg"})]},I))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No segments yet"})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap mb-4",children:[!g.is_final&&g.extended_status==="completed"&&((j=g.video_segments)==null?void 0:j.length)>=2&&s.jsx(V,{onClick:()=>w(g.id),variant:"outline",size:"sm",disabled:i===g.id,children:i===g.id?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-3 w-3 animate-spin"}),"Extending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Dr,{className:"mr-2 h-3 w-3"}),"Extend Further (+8s)"]})}),((_=g.video_segments)==null?void 0:_.length)>=2&&s.jsx("div",{className:"space-y-2 w-full",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{htmlFor:`trim-${g.id}`,className:"text-sm font-medium mb-1 block",children:"Trim Duration (seconds)"}),s.jsx("input",{id:`trim-${g.id}`,type:"number",min:"0.5",max:"3",step:"0.5",value:d,onChange:E=>u(parseFloat(E.target.value)),className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Removes first X seconds from each segment for smoother transitions"})]}),s.jsx(V,{onClick:()=>y(g.id),variant:"default",size:"sm",disabled:l===g.id,className:"self-end",children:l===g.id?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-3 w-3 animate-spin"}),"Combining..."]}):s.jsxs(s.Fragment,{children:[s.jsx(QN,{className:"mr-2 h-3 w-3"}),"Smooth Merge"]})})]})})]}),g.final_video_url&&s.jsxs("div",{className:"border-2 border-primary rounded-lg p-4 mt-4 bg-primary/5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5 text-green-500"}),"Final Video",s.jsxs(re,{variant:"outline",children:[(((N=g.video_segments)==null?void 0:N.reduce((E,I)=>E+I.duration,0))/1e3||0).toFixed(0),"s total"]})]}),b(g.final_video_status)]}),s.jsx("video",{src:g.final_video_url,controls:!0,className:"w-full rounded-lg mb-3"}),s.jsx(V,{variant:"outline",className:"w-full",asChild:!0,children:s.jsxs("a",{href:g.final_video_url,download:`video-${g.id}.mp4`,children:[s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Download Final Video"]})})]}),g.initial_error&&s.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[s.jsxs("p",{className:"text-sm font-semibold text-destructive mb-1 flex items-center gap-2",children:[s.jsx(Wt,{className:"h-4 w-4"}),"Generation Error"]}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:g.initial_error}),((k=g.metadata)==null?void 0:k.error_type)==="CREDIT_EXHAUSTED"&&s.jsxs("div",{className:"mt-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded",children:[s.jsx("p",{className:"text-xs font-semibold",children:" Solution:"}),s.jsx("p",{className:"text-xs",children:"Add more credits to your Kie.ai account to continue generating videos."})]})]}),g.extended_error&&s.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[s.jsxs("p",{className:"text-sm font-semibold text-destructive mb-1 flex items-center gap-2",children:[s.jsx(Wt,{className:"h-4 w-4"}),"Extension Error"]}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:g.extended_error}),((S=g.metadata)==null?void 0:S.error_type)==="CREDIT_EXHAUSTED"&&s.jsxs("div",{className:"mt-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded",children:[s.jsx("p",{className:"text-xs font-semibold",children:" Solution:"}),s.jsx("p",{className:"text-xs",children:"Add more credits to your Kie.ai account to continue generating videos."})]})]}),g.final_video_error&&s.jsxs("p",{className:"text-sm text-destructive mt-2",children:["Final video error: ",g.final_video_error]}),(g.initial_status==="failed"||g.extended_status==="failed")&&s.jsx(V,{onClick:()=>v(g.id),disabled:h===g.id,variant:"outline",size:"sm",className:"w-full",children:h===g.id?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Retrying..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Pc,{className:"mr-2 h-4 w-4"}),"Retry Failed ",g.initial_status==="failed"?"Scene 1":`Scene ${g.current_scene}`]})})]}),s.jsxs("details",{className:"mt-4",children:[s.jsx("summary",{className:"text-sm font-medium cursor-pointer hover:text-primary",children:"View AI Details"}),s.jsx("div",{className:"mt-2 space-y-3",children:g.scene_prompts&&g.scene_prompts.length>0?s.jsx("div",{className:"space-y-3",children:g.scene_prompts.map(E=>s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsxs(re,{className:"mb-2",children:["Scene ",E.scene_number]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-1",children:"Visual Prompt:"}),s.jsx("p",{className:"text-sm font-mono",children:E.prompt})]}),E.script&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-1",children:"Avatar Script:"}),s.jsxs("p",{className:"text-sm italic",children:['"',E.script,'"']})]})]})]},E.scene_number))}):s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-1",children:"AI Prompt:"}),s.jsx("p",{className:"text-sm font-mono",children:g.ai_prompt}),g.script&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-1",children:"Avatar Script:"}),s.jsxs("p",{className:"text-sm italic",children:['"',g.script,'"']})]})]})})]})]})},g.id)})})},ez=()=>{const[e,t]=f.useState(null),r=at(),{toast:n}=ct();f.useEffect(()=>{a()},[]);const a=async()=>{const{data:{user:i}}=await F.auth.getUser();if(!i){n({title:"Authentication Required",description:"Please log in to access the video generator.",variant:"destructive"}),r("/auth");return}t(i.id)};return s.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[s.jsx(ls,{}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"container mx-auto p-6 max-w-5xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>r("/"),children:[s.jsx(Wr,{className:"mr-1 h-4 w-4"}),"Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-primary/20 to-primary/5 rounded-xl",children:s.jsx(Lt,{className:"h-8 w-8 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"AI Video Generator"}),s.jsx("p",{className:"text-muted-foreground",children:"Create stunning marketing videos from a single image"})]})]})]}),s.jsxs(ir,{defaultValue:"create",className:"w-full",children:[s.jsxs(Jt,{className:"grid w-full max-w-md grid-cols-2 mb-6",children:[s.jsxs(Te,{value:"create",className:"flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Create New"]}),s.jsxs(Te,{value:"history",className:"flex items-center gap-2",children:[s.jsx(Lt,{className:"h-4 w-4"}),"My Videos"]})]}),s.jsx(Me,{value:"create",children:e&&s.jsx(ZB,{userId:e})}),s.jsx(Me,{value:"history",children:e&&s.jsx(JB,{userId:e})})]})]})})]})};var Ff="Switch",[tz,EW]=Ot(Ff),[rz,sz]=tz(Ff),iR=f.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,p]=f.useState(null),w=be(t,x=>p(x)),y=f.useRef(!1),v=m?u||!!m.closest("form"):!0,[b,g]=xr({prop:a,defaultProp:i??!1,onChange:d,caller:Ff});return s.jsxs(rz,{scope:r,checked:b,disabled:l,children:[s.jsx(ce.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":dR(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onClick:X(e.onClick,x=>{g(j=>!j),v&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),v&&s.jsx(cR,{control:m,bubbles:!y.current,name:n,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});iR.displayName=Ff;var oR="SwitchThumb",lR=f.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=sz(oR,r);return s.jsx(ce.span,{"data-state":dR(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});lR.displayName=oR;var nz="SwitchBubbleInput",cR=f.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=f.useRef(null),l=be(o,i),c=Sd(r),d=dd(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&p){const w=new Event("click",{bubbles:n});p.call(u,r),u.dispatchEvent(w)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cR.displayName=nz;function dR(e){return e?"checked":"unchecked"}var uR=iR,az=lR;const Sh=f.forwardRef(({className:e,...t},r)=>s.jsx(uR,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(az,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Sh.displayName=uR.displayName;const fb=e=>e.prompt||e.Scene||"",mb=e=>e.visual_prompt||"",pb=e=>e.script||"",iz=({userId:e})=>{const{toast:t}=ct(),[r,n]=f.useState(null),[a,i]=f.useState(""),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState([]),[m,p]=f.useState(null),[w,y]=f.useState(""),[v,b]=f.useState({industry:"",avatarName:"",city:"",storyIdea:"",numberOfScenes:2,duration:10,aspectRatio:"16:9",audioEnabled:!0,watermark:!1}),g=async C=>{n(C);const{data:R,error:D}=await F.from("jobsite_photos").select("file_url").eq("id",C).single();if(D){console.error("Error fetching photo:",D),t({title:"Error",description:"Failed to load photo URL",variant:"destructive"});return}i(R.file_url)},x=async()=>{if(!a||!v.industry||!v.avatarName||!v.city){t({title:"Missing Information",description:"Please complete all required fields and select a photo",variant:"destructive"});return}l(!0),p(null),y("");try{const{data:C,error:R}=await F.functions.invoke("analyze-image-sora",{body:{image_url:a,industry:v.industry,avatar_name:v.avatarName,city:v.city,story_idea:v.storyIdea,number_of_scenes:v.numberOfScenes,duration_per_scene:v.duration}});if(R)throw R;if(!C.success)throw new Error(C.error||"Failed to generate prompts");h(C.shots),p(C.image_analysis||null),y(C.overall_theme||""),t({title:"Prompts Generated!",description:`${C.shots.length} scene prompt(s) created with image analysis. Review and edit before generating.`})}catch(C){console.error("Error analyzing image:",C),t({title:"Analysis Failed",description:C.message||"Failed to generate scene prompts",variant:"destructive"})}finally{l(!1)}},j=async()=>{if(u.length===0){t({title:"No Prompts",description:"Please generate scene prompts first",variant:"destructive"});return}d(!0);try{const{data:C,error:R}=await F.from("kie_video_generations").insert({user_id:e,image_url:a,industry:v.industry,avatar_name:v.avatarName,city:v.city,story_idea:v.storyIdea,model:"sora-2-pro-storyboard",aspect_ratio:v.aspectRatio,watermark:v.watermark?"enabled":null,number_of_scenes:v.numberOfScenes,scene_prompts:u.map((U,q)=>({...U,scene_number:q+1})),is_multi_scene:v.numberOfScenes>1,current_scene:1,duration:v.duration,audio_enabled:v.audioEnabled,resolution:"1080p",sora_model:"sora-2-pro-storyboard"}).select().single();if(R)throw R;const{data:D,error:$}=await F.functions.invoke("sora-generate-video",{body:{generation_id:C.id,prompt:fb(u[0]),image_url:a,model:"sora-2-pro-storyboard",aspect_ratio:v.aspectRatio,duration:v.duration,watermark:v.watermark,audio_enabled:v.audioEnabled,shots:u}});if($)throw $;if(!D.success)throw new Error(D.error||"Video generation failed");t({title:"Video Generation Started!",description:"Your Sora 2 Pro video is being generated. This may take 2-3 minutes per scene."}),h([]),p(null),y(""),n(null),i(""),b({industry:"",avatarName:"",city:"",storyIdea:"",numberOfScenes:2,duration:10,aspectRatio:"16:9",audioEnabled:!0,watermark:!1})}catch(C){console.error("Error generating video:",C),t({title:"Generation Failed",description:C.message||"Failed to start video generation",variant:"destructive"})}finally{d(!1)}},_=(C,R)=>{const D=[...u];D[C]={...D[C],Scene:R,prompt:R},h(D)},N=(C,R)=>{const D=[...u];D[C]={...D[C],visual_prompt:R},h(D)},k=(C,R)=>{const D=[...u];D[C]={...D[C],script:R},h(D)},S=(C,R)=>{const D=[...u];D[C]={...D[C],duration:R},h(D)},E=(C,R)=>{const D=[...u];D[C]={...D[C],scene_purpose:R},h(D)},I=(C,R)=>{const D=[...u];D[C]={...D[C],connects_to_next:R},h(D)},P=u.reduce((C,R)=>C+R.duration,0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(H,{children:[s.jsx(se,{children:s.jsx(ne,{children:"Step 1: Upload Avatar Image"})}),s.jsx(Y,{children:s.jsx(Fi,{selectedPhotoId:r,onPhotoSelect:g})})]}),s.jsxs(H,{children:[s.jsx(se,{children:s.jsx(ne,{children:"Step 2: Business Information"})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(z,{htmlFor:"industry",children:"Industry *"}),s.jsx(Ne,{id:"industry",placeholder:"e.g., Plumbing, Roofing, Landscaping",value:v.industry,onChange:C=>b({...v,industry:C.target.value})})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:"avatarName",children:"Avatar Name *"}),s.jsx(Ne,{id:"avatarName",placeholder:"e.g., John Smith",value:v.avatarName,onChange:C=>b({...v,avatarName:C.target.value})})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:"city",children:"City *"}),s.jsx(Ne,{id:"city",placeholder:"e.g., Austin, TX",value:v.city,onChange:C=>b({...v,city:C.target.value})})]}),s.jsxs("div",{children:[s.jsx(z,{htmlFor:"storyIdea",children:"Story Idea (Optional)"}),s.jsx(lt,{id:"storyIdea",placeholder:"Describe your video concept (2-3 sentences)",value:v.storyIdea,onChange:C=>b({...v,storyIdea:C.target.value}),rows:3})]})]})]}),s.jsxs(H,{className:"border-amber-200",children:[s.jsx(se,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"h-5 w-5 text-amber-600"}),"Step 3: Sora 2 Pro Storyboard Settings"]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(z,{children:"Number of Scenes (up to 10)"}),s.jsxs(Ze,{value:v.numberOfScenes.toString(),onValueChange:C=>b({...v,numberOfScenes:parseInt(C)}),children:[s.jsx(He,{children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"1",children:"1 Scene"}),s.jsx(K,{value:"2",children:"2 Scenes"}),s.jsx(K,{value:"3",children:"3 Scenes"}),s.jsx(K,{value:"4",children:"4 Scenes"}),s.jsx(K,{value:"5",children:"5 Scenes"}),s.jsx(K,{value:"6",children:"6 Scenes"}),s.jsx(K,{value:"7",children:"7 Scenes"}),s.jsx(K,{value:"8",children:"8 Scenes"}),s.jsx(K,{value:"9",children:"9 Scenes"}),s.jsx(K,{value:"10",children:"10 Scenes"})]})]})]}),s.jsxs("div",{children:[s.jsx(z,{children:"Duration per Scene"}),s.jsxs(Gs,{value:v.duration.toString(),onValueChange:C=>b({...v,duration:parseInt(C)}),className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{value:"10",id:"duration-10"}),s.jsx(z,{htmlFor:"duration-10",children:"10 seconds"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{value:"15",id:"duration-15"}),s.jsx(z,{htmlFor:"duration-15",children:"15 seconds"})]})]})]}),s.jsxs("div",{children:[s.jsx(z,{children:"Aspect Ratio"}),s.jsxs(Ze,{value:v.aspectRatio,onValueChange:C=>b({...v,aspectRatio:C}),children:[s.jsx(He,{children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"16:9",children:"16:9 (Landscape)"}),s.jsx(K,{value:"9:16",children:"9:16 (Portrait)"})]})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sh,{id:"audio-enabled",checked:v.audioEnabled,onCheckedChange:C=>b({...v,audioEnabled:C})}),s.jsx(z,{htmlFor:"audio-enabled",children:"Enable Synchronized Audio"}),s.jsx($1,{children:s.jsxs(XM,{children:[s.jsx(ZM,{asChild:!0,children:s.jsx(Hw,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),s.jsx(U1,{children:s.jsx("p",{className:"max-w-xs",children:"Sora 2 Pro generates natural dialogue and ambient sounds"})})]})})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sh,{id:"watermark",checked:v.watermark,onCheckedChange:C=>b({...v,watermark:C})}),s.jsx(z,{htmlFor:"watermark",children:"Add Watermark"})]})]})]}),s.jsx(V,{onClick:x,disabled:o||!a,className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700",size:"lg",children:o?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-5 w-5 animate-spin"}),"Analyzing Image & Generating Prompts..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ea,{className:"mr-2 h-5 w-5"}),"Generate Sora Storyboard Prompts"]})}),m&&s.jsxs(H,{className:"border-blue-200 bg-blue-50/50",children:[s.jsxs(se,{className:"pb-3",children:[s.jsxs(ne,{className:"flex items-center gap-2 text-blue-700",children:[s.jsx(Ca,{className:"h-5 w-5"}),"Image Analysis Results"]}),s.jsx("p",{className:"text-sm text-blue-600",children:"AI extracted these details from your uploaded image for consistent video generation"})]}),s.jsx(Y,{className:"space-y-3",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[m.avatar_appearance&&s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-white rounded-lg border",children:[s.jsx(ZN,{className:"h-4 w-4 text-blue-600 mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Avatar Appearance"}),s.jsx("p",{className:"text-sm",children:m.avatar_appearance})]})]}),m.clothing_details&&s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-white rounded-lg border",children:[s.jsx(YN,{className:"h-4 w-4 text-blue-600 mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Clothing Details"}),s.jsx("p",{className:"text-sm",children:m.clothing_details})]})]}),m.accessories&&s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-white rounded-lg border",children:[s.jsx(bt,{className:"h-4 w-4 text-blue-600 mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Accessories"}),s.jsx("p",{className:"text-sm",children:m.accessories})]})]}),m.environment&&s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-white rounded-lg border",children:[s.jsx(GN,{className:"h-4 w-4 text-blue-600 mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Environment"}),s.jsx("p",{className:"text-sm",children:m.environment})]})]}),m.lighting_mood&&s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-white rounded-lg border",children:[s.jsx(Hw,{className:"h-4 w-4 text-blue-600 mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Lighting & Mood"}),s.jsx("p",{className:"text-sm",children:m.lighting_mood})]})]}),m.brand_elements&&s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-white rounded-lg border",children:[s.jsx(Ca,{className:"h-4 w-4 text-blue-600 mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Brand Elements"}),s.jsx("p",{className:"text-sm",children:m.brand_elements})]})]})]})})]}),w&&s.jsxs(H,{className:"border-purple-200 bg-purple-50/50",children:[s.jsx(se,{className:"pb-3",children:s.jsxs(ne,{className:"flex items-center gap-2 text-purple-700",children:[s.jsx(bt,{className:"h-5 w-5"}),"Overall Video Theme"]})}),s.jsxs(Y,{children:[s.jsx(lt,{value:w,onChange:C=>y(C.target.value),rows:2,className:"bg-white",placeholder:"The central message of your video..."}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Edit this theme to adjust the overall direction of your video"})]})]}),u.length>0&&s.jsxs(H,{className:"border-amber-200",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Step 4: Review & Edit Scene Prompts"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Duration: ",P," seconds | ",u.length," scene(s)",P!==10&&P!==15&&P!==25&&s.jsxs("span",{className:"ml-2 text-amber-600 font-medium",children:["(will be adjusted to ",[10,15,25].find(C=>C>=P)||25,"s to match API requirements)"]})]})]}),s.jsx(Y,{className:"space-y-6",children:u.map((C,R)=>{const D=C.visual_prompt||C.script;return s.jsxs("div",{className:"space-y-3 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(z,{className:"text-base font-semibold",children:["Scene ",R+1]}),C.scene_purpose&&s.jsx("span",{className:"text-xs px-2 py-1 bg-amber-100 text-amber-700 rounded-full",children:C.scene_purpose})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z,{className:"text-sm",children:"Duration:"}),s.jsxs(Ze,{value:C.duration.toString(),onValueChange:$=>S(R,parseInt($)),children:[s.jsx(He,{className:"w-24",children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"10",children:"10s"}),s.jsx(K,{value:"15",children:"15s"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Scene Purpose"}),s.jsx(Ne,{value:C.scene_purpose||"",onChange:$=>E(R,$.target.value),placeholder:"e.g., Hook - Establish problem",className:"text-sm mt-1"})]}),D?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs(z,{className:"flex items-center gap-2",children:[" Visual Prompt",s.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"(Camera, scene, lighting, actions)"})]}),s.jsx(lt,{value:mb(C),onChange:$=>N(R,$.target.value),rows:4,className:"font-mono text-sm mt-1",placeholder:"Describe camera movement, scene composition, lighting, and avatar actions..."}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[mb(C).length," characters"]})]}),s.jsxs("div",{children:[s.jsxs(z,{className:"flex items-center gap-2",children:[" Script / Dialogue",s.jsxs("span",{className:"text-xs text-muted-foreground font-normal",children:["(What ",v.avatarName||"avatar"," says)"]})]}),s.jsx(lt,{value:pb(C),onChange:$=>k(R,$.target.value),rows:3,className:"font-mono text-sm mt-1",placeholder:"What the avatar says out loud in this scene..."}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[pb(C).length," characters"]})]})]}):s.jsxs("div",{children:[s.jsx(z,{children:"Scene Prompt (Legacy Format)"}),s.jsx(lt,{value:fb(C),onChange:$=>_(R,$.target.value),rows:6,className:"font-mono text-sm"})]}),R<u.length-1&&s.jsxs("div",{className:"pt-2 border-t border-dashed",children:[s.jsxs(z,{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(en,{className:"h-3 w-3"}),"Transition to Scene ",R+2]}),s.jsx(Ne,{value:C.connects_to_next||"",onChange:$=>I(R,$.target.value),placeholder:"How this scene leads into the next...",className:"text-sm mt-1"})]})]},R)})})]}),u.length>0&&s.jsx(V,{onClick:j,disabled:c,className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700",size:"lg",children:c?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-5 w-5 animate-spin"}),"Starting Generation..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bt,{className:"mr-2 h-5 w-5"}),"Generate Sora 2 Pro Video"]})})]})},oz=({generation:e,onRefresh:t})=>{var v,b,g;const{toast:r}=ct(),[n,a]=f.useState(!1),[i,o]=f.useState(!1),[l,c]=f.useState(!1),d=x=>{const j={pending:{variant:"secondary",label:"Pending"},generating:{variant:"default",label:"Generating..."},completed:{variant:"default",label:"Completed"},failed:{variant:"destructive",label:"Failed"}},_=j[x]||j.pending;return s.jsx(re,{variant:_.variant,children:_.label})},h=e.sora_model==="sora-2-pro-storyboard"&&e.initial_status==="completed"||e.final_video_status==="completed"?"completed":e.initial_status==="failed"||e.extended_status==="failed"?"failed":e.extended_status==="generating"||e.initial_status==="generating"?"generating":"pending",m=async x=>{try{const _=await(await fetch(x)).blob(),N=window.URL.createObjectURL(_),k=document.createElement("a");k.href=N,k.download=`sora-video-${e.id}.mp4`,document.body.appendChild(k),k.click(),document.body.removeChild(k),window.URL.revokeObjectURL(N),r({title:"Download Started",description:"Your video is being downloaded"})}catch(j){console.error("Download error:",j),r({title:"Download Failed",description:"Failed to download video",variant:"destructive"})}},p=()=>{const x=e.scene_prompts||[],j=e.current_scene||1,_=j-1,N=x[_]||{};return{sceneNumber:j,prompt:N.Scene||e.ai_prompt||"",script:N.script||"",error:e.initial_error||e.extended_error||"Unknown error"}},w=async(x,j)=>{var _,N;o(!0);try{const k=[...e.scene_prompts||[]],S=(e.current_scene||1)-1;k[S]&&(k[S]={...k[S],Scene:x,script:j});const{error:E}=await F.functions.invoke("sora-generate-video",{body:{generation_id:e.id,prompt:x||((N=(_=e.scene_prompts)==null?void 0:_[0])==null?void 0:N.Scene)||e.ai_prompt,image_url:e.image_url,model:"sora-2-pro-storyboard",aspect_ratio:e.aspect_ratio,duration:e.duration,watermark:e.watermark,audio_enabled:e.audio_enabled,shots:k}});if(E)throw E;r({title:"Retry Started",description:"Video generation has been restarted with your edits"}),c(!1),t()}catch(k){console.error("Retry error:",k),r({title:"Retry Failed",description:k.message||"Failed to restart generation",variant:"destructive"})}finally{o(!1)}},y=((v=e.scene_prompts)==null?void 0:v.reduce((x,j)=>x+(j.duration||0),0))||0;return s.jsxs(H,{className:"border-amber-200/50",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[e.industry," - ",e.avatar_name]}),s.jsxs(Ce,{className:"mt-2",children:[e.city," | ",e.number_of_scenes," scene(s) |",e.duration,"s each | 1080p HD",y>0&&` | Total: ${y}s`]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{className:"bg-amber-500/20 text-amber-700",children:"Sora 2 Pro"}),e.audio_enabled&&s.jsxs(re,{variant:"secondary",children:[s.jsx(th,{className:"h-3 w-3 mr-1"}),"Audio"]})]}),d(h)]})]})}),s.jsxs(Y,{className:"space-y-4",children:[(e.final_video_url||e.initial_video_url)&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("video",{src:e.final_video_url||e.initial_video_url,controls:!0,className:"w-full rounded-lg",poster:e.image_url}),((b=e.metadata)==null?void 0:b.audio_url)&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[s.jsx(th,{className:"h-4 w-4 text-amber-600"}),s.jsx("audio",{src:e.metadata.audio_url,controls:!0,className:"flex-1"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(V,{onClick:()=>m(e.final_video_url||e.initial_video_url),children:[s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Download Video"]}),((g=e.metadata)==null?void 0:g.audio_url)&&s.jsxs(V,{variant:"outline",onClick:()=>m(e.metadata.audio_url),children:[s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Download Audio"]})]})]}),(h==="generating"||h==="pending")&&!e.final_video_url&&!e.initial_video_url&&s.jsx("div",{className:"flex items-center justify-center p-8 bg-muted/50 rounded-lg",children:s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(we,{className:"h-8 w-8 animate-spin mx-auto text-amber-600"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generating your Sora 2 Pro video... This may take 2-3 minutes per scene."})]})}),e.is_multi_scene&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Scene Progress"}),s.jsx("div",{className:"flex gap-2",children:Array.from({length:e.number_of_scenes}).map((x,j)=>{const _=j+1,N=_<(e.current_scene||1),k=_===(e.current_scene||1),S=_>(e.current_scene||1);return s.jsx("div",{className:J("flex-1 h-2 rounded transition-all",N&&"bg-green-500",k&&"bg-amber-500 animate-pulse",S&&"bg-muted")},j)})}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Scene ",e.current_scene||1," of ",e.number_of_scenes]})]}),s.jsxs(ny,{open:n,onOpenChange:a,children:[s.jsx(a2,{asChild:!0,children:s.jsxs(V,{variant:"ghost",size:"sm",className:"w-full",children:[n?s.jsx(Zx,{className:"mr-2 h-4 w-4"}):s.jsx(nd,{className:"mr-2 h-4 w-4"}),n?"Hide":"Show"," Details"]})}),s.jsxs(ay,{className:"space-y-4 mt-4",children:[e.scene_prompts&&e.scene_prompts.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(z,{children:"Scene Prompts"}),e.scene_prompts.map((x,j)=>s.jsxs("div",{className:"p-3 bg-muted rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(z,{className:"text-sm font-semibold",children:["Scene ",j+1]}),s.jsxs(re,{variant:"outline",children:[x.duration,"s"]})]}),s.jsx("p",{className:"text-sm",children:x.Scene})]},j))]}),e.story_idea&&s.jsxs("div",{children:[s.jsx(z,{children:"Story Idea"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.story_idea})]}),(e.initial_error||e.extended_error)&&s.jsxs(Ko,{variant:"destructive",children:[s.jsx(Wt,{className:"h-4 w-4"}),s.jsx(Yo,{children:"Generation Error"}),s.jsx(Qo,{children:e.initial_error||e.extended_error})]}),e.metadata&&s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[e.metadata.sora_credits_consumed&&s.jsxs("p",{children:["Credits Used: ",e.metadata.sora_credits_consumed]}),e.metadata.cost_time&&s.jsxs("p",{children:["Generation Time: ",e.metadata.cost_time,"s"]})]})]})]}),h==="failed"&&s.jsxs(V,{onClick:()=>c(!0),variant:"outline",className:"w-full",children:[s.jsx(XN,{className:"mr-2 h-4 w-4"}),"Edit & Retry"]}),(()=>{const x=p();return s.jsx(x2,{open:l,onOpenChange:c,failedSceneNumber:x.sceneNumber,originalPrompt:x.prompt,originalScript:x.script,errorMessage:x.error,onRetry:w,isRetrying:i})})()]})]})},lz=({userId:e})=>{const{data:t,refetch:r}=ID({queryKey:["sora-storyboard-generations",e],queryFn:async()=>{const{data:n,error:a}=await F.from("kie_video_generations").select("*").eq("user_id",e).eq("model","sora-2-pro-storyboard").order("created_at",{ascending:!1});if(a)throw a;return n},refetchInterval:5e3});return t?t.length===0?s.jsx(H,{children:s.jsxs(Y,{className:"text-center py-12",children:[s.jsx(Lt,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Sora Videos Yet"}),s.jsx("p",{className:"text-muted-foreground",children:"Create your first cinematic Sora 2 Pro video above!"})]})}):s.jsx("div",{className:"space-y-4",children:t.map(n=>s.jsx(oz,{generation:n,onRefresh:r},n.id))}):s.jsx(H,{children:s.jsx(Y,{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})})},cz=()=>{const[e,t]=f.useState(null),r=at(),{toast:n}=ct();f.useEffect(()=>{a()},[]);const a=async()=>{const{data:{user:i}}=await F.auth.getUser();if(!i){n({title:"Authentication Required",description:"Please log in to access Sora 2 Pro Storyboard.",variant:"destructive"}),r("/auth");return}t(i.id)};return e?s.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[s.jsx(ls,{}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(V,{variant:"ghost",onClick:()=>r("/"),className:"mb-4",children:[s.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-lg",children:s.jsx(bt,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Sora 2 Pro Storyboard Generator"}),s.jsx("p",{className:"text-muted-foreground",children:"Powered by OpenAI Sora 2 - Hollywood-quality cinematic videos with synchronized audio"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs(H,{className:"border-amber-200",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(th,{className:"h-5 w-5 text-amber-600"}),s.jsx(ne,{className:"text-base",children:"Synchronized Audio"})]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Native audio generation with natural dialogue and ambient sounds"})})]}),s.jsxs(H,{className:"border-amber-200",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-5 w-5 text-amber-600"}),s.jsx(ne,{className:"text-base",children:"Cinematic Quality"})]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"1080p HD with realistic physics, motion, and lighting"})})]}),s.jsxs(H,{className:"border-amber-200",children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-5 w-5 text-amber-600"}),s.jsx(ne,{className:"text-base",children:"Extended Duration"})]})}),s.jsx(Y,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate 10-15 second scenes (up to 45s total for 3 scenes)"})})]})]}),s.jsxs(ir,{defaultValue:"create",className:"w-full",children:[s.jsxs(Jt,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsxs(Te,{value:"create",className:"flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Create Storyboard"]}),s.jsxs(Te,{value:"history",className:"flex items-center gap-2",children:[s.jsx(ar,{className:"h-4 w-4"}),"My Sora Videos"]})]}),s.jsx(Me,{value:"create",className:"mt-6",children:s.jsx(iz,{userId:e})}),s.jsx(Me,{value:"history",className:"mt-6",children:s.jsx(lz,{userId:e})})]})]})})]}):null},dz=e=>{switch(e){case"CREDIT_EXHAUSTED":return" Credits Exhausted";case"RATE_LIMITED":return" Rate Limited";case"AUTH_ERROR":return" Authentication Error";case"INVALID_PARAMS":return" Invalid Parameters";default:return"Generation Failed"}},uz=({userId:e})=>{const{toast:t}=ct(),[r,n]=f.useState(null),[a,i]=f.useState({industry:"",avatarName:"",city:"",storyIdea:"",aspectRatio:"16:9",watermark:"",numberOfScenes:3,durationPerScene:10}),[o,l]=f.useState([]),[c,d]=f.useState(null),[u,h]=f.useState(!1),[m,p]=f.useState(!1),w=async()=>{if(!r){t({title:"Image Required",description:"Please upload or select an image first.",variant:"destructive"});return}if(!a.industry||!a.avatarName||!a.city||!a.storyIdea){t({title:"Missing Fields",description:"Please fill in all required fields including story idea.",variant:"destructive"});return}h(!0);try{const{data:b,error:g}=await F.from("jobsite_photos").select("file_url").eq("id",r).single();if(g||!b)throw new Error("Failed to get image URL");const{data:x,error:j}=await F.functions.invoke("analyze-image-sora",{body:{image_url:b.file_url,industry:a.industry,avatar_name:a.avatarName,city:a.city,story_idea:a.storyIdea,number_of_scenes:a.numberOfScenes}});if(j)throw console.error("Edge function error:",j),new Error(j.message||"Failed to analyze image");if(!(x!=null&&x.success)&&!(x!=null&&x.shots))throw new Error((x==null?void 0:x.error)||"AI analysis failed");if(x.shots&&Array.isArray(x.shots))l(x.shots.map((_,N)=>({scene_number:N+1,prompt:_.visual_prompt||_.prompt||"",script:_.script||""}))),x.image_analysis&&d(x.image_analysis);else throw new Error("No scene prompts generated");t({title:"Prompts Generated!",description:`AI has created ${a.numberOfScenes} scene prompts. Review and edit if needed.`})}catch(b){console.error("Error analyzing image:",b),t({title:"Analysis Failed",description:b instanceof Error?b.message:"Failed to analyze image.",variant:"destructive"})}finally{h(!1)}},y=async()=>{if(!o.length){t({title:"No Prompts",description:"Please generate prompts first by analyzing an image.",variant:"destructive"});return}p(!0);try{const{data:b,error:g}=await F.from("jobsite_photos").select("file_url").eq("id",r).single();if(g||!b)throw new Error("Failed to get image URL");const{data:x,error:j}=await F.functions.invoke("sora2-generate-video",{body:{user_id:e,image_url:b.file_url,industry:a.industry,avatar_name:a.avatarName,city:a.city,story_idea:a.storyIdea,scene_prompts:o,aspect_ratio:a.aspectRatio,watermark:a.watermark||"",duration:a.durationPerScene,image_analysis:c}});if(j||!(x!=null&&x.success)){const _=x==null?void 0:x.error_type,N=(x==null?void 0:x.error)||"Failed to start video generation",k=x==null?void 0:x.user_action;throw t({title:dz(_),description:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:N}),k&&s.jsxs("p",{className:"text-xs font-semibold mt-2",children:[" ",k]})]}),variant:"destructive",duration:8e3}),new Error(N)}t({title:"Video Generation Started!",description:`Generating ${o.length} scenes. Check the 'My Videos' tab for progress.`}),n(null),i({industry:"",avatarName:"",city:"",storyIdea:"",aspectRatio:"16:9",watermark:"",numberOfScenes:3,durationPerScene:10}),l([]),d(null)}catch(b){console.error("Error generating video:",b),t({title:"Generation Failed",description:b instanceof Error?b.message:"Failed to start video generation.",variant:"destructive"})}finally{p(!1)}},v=o.length*a.durationPerScene;return s.jsxs("div",{className:"grid gap-6 max-w-4xl",children:[s.jsxs(H,{children:[s.jsxs(se,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Ea,{className:"h-5 w-5 text-primary"}),"Step 1: Provide Details"]}),s.jsx(Ce,{children:"Upload an image and describe your video story"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Business Image *"}),s.jsx(Fi,{selectedPhotoId:r,onPhotoSelect:n})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"industry",children:"Industry *"}),s.jsx(Ne,{id:"industry",value:a.industry,onChange:b=>i({...a,industry:b.target.value}),placeholder:"e.g., Roofing, HVAC, Landscaping"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"avatarName",children:"Avatar/Spokesperson Name *"}),s.jsx(Ne,{id:"avatarName",value:a.avatarName,onChange:b=>i({...a,avatarName:b.target.value}),placeholder:"e.g., John Smith"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"city",children:"City *"}),s.jsx(Ne,{id:"city",value:a.city,onChange:b=>i({...a,city:b.target.value}),placeholder:"e.g., Austin, TX"})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(z,{htmlFor:"storyIdea",children:"Marketing Story Idea *"}),s.jsx(lt,{id:"storyIdea",value:a.storyIdea,onChange:b=>i({...a,storyIdea:b.target.value}),placeholder:"e.g., Show how our roofing service transforms old homes, highlighting quality, speed, and customer satisfaction",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"numberOfScenes",children:"Number of Scenes"}),s.jsxs(Ze,{value:a.numberOfScenes.toString(),onValueChange:b=>i({...a,numberOfScenes:parseInt(b)}),children:[s.jsx(He,{id:"numberOfScenes",children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"1",children:"1 Scene"}),s.jsx(K,{value:"2",children:"2 Scenes"}),s.jsx(K,{value:"3",children:"3 Scenes"}),s.jsx(K,{value:"4",children:"4 Scenes"}),s.jsx(K,{value:"5",children:"5 Scenes"}),s.jsx(K,{value:"6",children:"6 Scenes"}),s.jsx(K,{value:"7",children:"7 Scenes"}),s.jsx(K,{value:"8",children:"8 Scenes"}),s.jsx(K,{value:"9",children:"9 Scenes"}),s.jsx(K,{value:"10",children:"10 Scenes"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"durationPerScene",children:"Duration per Scene"}),s.jsxs(Ze,{value:a.durationPerScene.toString(),onValueChange:b=>i({...a,durationPerScene:parseInt(b)}),children:[s.jsx(He,{id:"durationPerScene",children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"10",children:"10 seconds"}),s.jsx(K,{value:"15",children:"15 seconds"}),s.jsx(K,{value:"25",children:"25 seconds"})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Total: ",a.numberOfScenes*a.durationPerScene,"s (",a.numberOfScenes," scenes  ",a.durationPerScene,"s)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"aspectRatio",children:"Aspect Ratio"}),s.jsxs(Ze,{value:a.aspectRatio,onValueChange:b=>i({...a,aspectRatio:b}),children:[s.jsx(He,{id:"aspectRatio",children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"16:9",children:"16:9 (Landscape)"}),s.jsx(K,{value:"9:16",children:"9:16 (Portrait)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"watermark",children:"Watermark (Optional)"}),s.jsx(Ne,{id:"watermark",value:a.watermark,onChange:b=>i({...a,watermark:b.target.value}),placeholder:"Your Brand"})]})]}),s.jsx(V,{onClick:w,disabled:u,className:"w-full",size:"lg",children:u?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing with AI..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bt,{className:"mr-2 h-4 w-4"}),"Generate Scene Prompts"]})})]})]}),o.length>0&&s.jsxs(H,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Step 2: Review & Edit Scene Prompts"}),s.jsxs(Ce,{children:["AI generated ",o.length," scene prompts. Edit any scene before generating."]})]}),s.jsxs(Y,{className:"space-y-4",children:[o.map((b,g)=>s.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(z,{className:"text-base font-semibold",children:["Scene ",b.scene_number," of ",o.length]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.durationPerScene," seconds"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:`scene-${b.scene_number}-prompt`,className:"text-sm font-medium",children:"Visual Prompt"}),s.jsx(lt,{id:`scene-${b.scene_number}-prompt`,value:b.prompt,onChange:x=>{const j=[...o];j[g]={...b,prompt:x.target.value},l(j)},rows:3,className:"font-mono text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:`scene-${b.scene_number}-script`,className:"text-sm font-medium",children:"Avatar Script (Dialogue)"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"What the avatar says in this scene"}),s.jsx(lt,{id:`scene-${b.scene_number}-script`,value:b.script||"",onChange:x=>{const j=[...o];j[g]={...b,script:x.target.value},l(j)},rows:2,className:"italic",placeholder:"Enter dialogue for this scene..."})]})]},b.scene_number)),s.jsxs("div",{className:"pt-2",children:[s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Total video duration: ",v," seconds (",o.length," scenes  ",a.durationPerScene,"s each)"]}),s.jsx(V,{onClick:y,disabled:m,className:"w-full",size:"lg",children:m?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Starting Generation..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Lt,{className:"mr-2 h-4 w-4"}),"Generate ",o.length,"-Scene Video"]})})]})]})]})]})},hz=({userId:e})=>{const[t,r]=f.useState([]),[n,a]=f.useState(!0),[i,o]=f.useState(null);f.useEffect(()=>{l();const u=F.channel("sora2_generations_changes").on("postgres_changes",{event:"*",schema:"public",table:"kie_video_generations",filter:`user_id=eq.${e}`},()=>{l()}).subscribe();return()=>{F.removeChannel(u)}},[e]);const l=async()=>{try{const{data:u,error:h}=await F.from("kie_video_generations").select("*").eq("user_id",e).eq("sora_model","sora-2-pro-image-to-video").order("created_at",{ascending:!1});if(h)throw h;r(u||[])}catch(u){console.error("Error fetching generations:",u)}finally{a(!1)}},c=async u=>{o(u);try{const{data:h,error:m}=await F.functions.invoke("sora2-extend-next",{body:{generation_id:u,retry:!0}});if(m)throw m;Pr.success(h.message||"Retry started successfully!"),await l()}catch(h){console.error("Error retrying generation:",h),Pr.error(h.message||"Failed to retry generation")}finally{o(null)}},d=(u,h)=>{switch(u){case"completed":return s.jsxs(re,{className:"bg-green-500",children:[s.jsx(At,{className:"mr-1 h-3 w-3"}),"Completed"]});case"generating":return s.jsxs(re,{className:"bg-blue-500",children:[s.jsx(we,{className:"mr-1 h-3 w-3 animate-spin"}),"Generating"]});case"failed":return s.jsxs(re,{variant:"destructive",children:[s.jsx(Wt,{className:"mr-1 h-3 w-3"}),"Failed"]});default:return s.jsxs(re,{variant:"secondary",children:[s.jsx(Es,{className:"mr-1 h-3 w-3"}),"Pending"]})}};return n?s.jsx("div",{className:"flex justify-center p-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t.length===0?s.jsx(H,{children:s.jsx(Y,{className:"p-12 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No Sora 2 Latest videos yet. Create your first one!"})})}):s.jsx("div",{className:"grid gap-4",children:t.map(u=>{var h,m;return s.jsx(H,{children:s.jsxs(Y,{className:"p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-semibold text-lg mb-1",children:[u.industry," - ",u.avatar_name,s.jsxs(re,{variant:"secondary",className:"ml-2",children:[u.number_of_scenes," Scenes"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u.city}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Created ",vl(new Date(u.created_at),{addSuffix:!0})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs("span",{className:"font-medium",children:["Scene ",u.current_scene||1," of ",u.number_of_scenes]}),u.initial_status==="generating"||u.extended_status==="generating"?s.jsxs(re,{className:"bg-blue-500",children:[s.jsx(we,{className:"mr-1 h-3 w-3 animate-spin"}),"Generating"]}):null]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${(((h=u.video_segments)==null?void 0:h.length)||0)/u.number_of_scenes*100}%`}})})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(ar,{className:"h-4 w-4"}),"Video Segments (",((m=u.video_segments)==null?void 0:m.length)||0," / ",u.number_of_scenes,")"]}),u.video_segments&&u.video_segments.length>0?s.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:u.video_segments.map((p,w)=>s.jsxs("div",{className:"border rounded-lg p-3 bg-muted/30",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Scene ",p.scene||w+1]}),s.jsx(re,{variant:"secondary",className:"capitalize text-xs",children:p.type})]}),s.jsx("video",{src:p.url,controls:!0,className:"w-full rounded-lg"})]},w))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No segments yet"})]}),u.final_video_url&&s.jsxs("div",{className:"border-2 border-primary rounded-lg p-4 mt-4 bg-primary/5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5 text-green-500"}),"Final Video",s.jsxs(re,{variant:"outline",children:[u.number_of_scenes*(u.duration||10),"s total"]})]}),d(u.final_video_status)]}),s.jsx("video",{src:u.final_video_url,controls:!0,className:"w-full rounded-lg mb-3"}),s.jsx(V,{variant:"outline",className:"w-full",asChild:!0,children:s.jsxs("a",{href:u.final_video_url,download:`sora2-video-${u.id}.mp4`,children:[s.jsx(bi,{className:"mr-2 h-4 w-4"}),"Download Final Video"]})})]}),(u.initial_error||u.extended_error)&&s.jsxs("div",{className:"mt-3 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[s.jsxs("p",{className:"text-sm font-semibold text-destructive mb-1 flex items-center gap-2",children:[s.jsx(Wt,{className:"h-4 w-4"}),"Generation Error"]}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:u.initial_error||u.extended_error})]}),(u.initial_status==="failed"||u.extended_status==="failed")&&s.jsx(V,{onClick:()=>c(u.id),variant:"outline",size:"sm",disabled:i===u.id,className:"mt-2",children:i===u.id?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-3 w-3 animate-spin"}),"Retrying..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Pc,{className:"mr-2 h-3 w-3"}),"Retry Failed Scene"]})})]})]})},u.id)})})},fz=()=>{const[e,t]=f.useState(null),r=at(),{toast:n}=ct();f.useEffect(()=>{a()},[]);const a=async()=>{const{data:{user:i}}=await F.auth.getUser();if(!i){n({title:"Authentication Required",description:"Please log in to access the Sora 2 Latest generator.",variant:"destructive"}),r("/auth");return}t(i.id)};return e?s.jsxs("div",{className:"flex h-screen bg-background overflow-hidden",children:[s.jsx(ls,{}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(V,{variant:"ghost",onClick:()=>r("/"),className:"mb-4",children:[s.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-gradient-to-r from-violet-500/20 to-fuchsia-500/20 rounded-lg",children:s.jsx(Ac,{className:"h-6 w-6 text-violet-500"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Sora 2 Latest"}),s.jsx("p",{className:"text-muted-foreground",children:"Multi-scene video generation with sora-2-pro-image-to-video"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-violet-500/10 to-violet-500/5 border border-violet-500/20",children:[s.jsx(bt,{className:"h-5 w-5 text-violet-500 mb-2"}),s.jsx("h3",{className:"font-semibold",children:"Per-Scene Control"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Each scene is 10/15/25 seconds with individual prompts"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-fuchsia-500/10 to-fuchsia-500/5 border border-fuchsia-500/20",children:[s.jsx(Lt,{className:"h-5 w-5 text-fuchsia-500 mb-2"}),s.jsx("h3",{className:"font-semibold",children:"Auto-Stitching"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"All scenes are automatically combined into one video"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-pink-500/10 to-pink-500/5 border border-pink-500/20",children:[s.jsx(Ac,{className:"h-5 w-5 text-pink-500 mb-2"}),s.jsx("h3",{className:"font-semibold",children:"Longer Videos"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create videos up to several minutes long"})]})]}),s.jsxs(ir,{defaultValue:"create",className:"w-full",children:[s.jsxs(Jt,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsxs(Te,{value:"create",className:"flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Create New"]}),s.jsxs(Te,{value:"history",className:"flex items-center gap-2",children:[s.jsx(Lt,{className:"h-4 w-4"}),"My Videos"]})]}),s.jsx(Me,{value:"create",className:"mt-6",children:s.jsx(uz,{userId:e})}),s.jsx(Me,{value:"history",className:"mt-6",children:s.jsx(hz,{userId:e})})]})]})})]}):null};function mz({onGenerationStarted:e}){const{toast:t}=ct(),[r,n]=f.useState(""),[a,i]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState(""),[u,h]=f.useState(""),[m,p]=f.useState(""),[w,y]=f.useState(""),[v,b]=f.useState("3"),[g,x]=f.useState("10"),[j,_]=f.useState("16:9"),[N,k]=f.useState("720p"),[S,E]=f.useState(!1),[I,P]=f.useState(!1),[C,R]=f.useState([]),[D,$]=f.useState(""),[U,q]=f.useState(null),[T,O]=f.useState(null),G=async ge=>{var Fe;const xe=(Fe=ge.target.files)==null?void 0:Fe[0];if(!xe)return;i(xe);const Q=new FileReader;Q.onloadend=()=>{l(Q.result)},Q.readAsDataURL(xe);const Ae=`runway-extend/${Date.now()}-${xe.name}`,{data:Ue,error:Ie}=await F.storage.from("jobsite-photos").upload(Ae,xe);if(Ie){t({title:"Upload failed",description:Ie.message,variant:"destructive"});return}const{data:De}=F.storage.from("jobsite-photos").getPublicUrl(Ae);n(De.publicUrl),t({title:"Image uploaded",description:"Ready to analyze for scene generation"})},de=async()=>{var ge;if(!r||!c||!u||!m){t({title:"Missing information",description:"Please fill in all required fields and upload an image",variant:"destructive"});return}E(!0);try{const{data:xe,error:Q}=await F.functions.invoke("runway-extend-analyze",{body:{image_url:r,avatar_name:c,industry:u,city:m,story_idea:w,number_of_scenes:parseInt(v),duration_per_scene:parseInt(g)}});if(Q)throw Q;if(xe.success)R(xe.scenes||[]),$(xe.avatar_identity_prefix||""),q(xe.image_analysis||null),t({title:"Analysis complete",description:`Generated ${((ge=xe.scenes)==null?void 0:ge.length)||0} scene prompts. Review and edit before generating.`});else throw new Error(xe.error||"Analysis failed")}catch(xe){console.error("Analysis error:",xe),t({title:"Analysis failed",description:xe.message,variant:"destructive"})}finally{E(!1)}},oe=async()=>{const{data:{user:ge}}=await F.auth.getUser();if(!ge){t({title:"Not authenticated",description:"Please log in to generate videos",variant:"destructive"});return}if(C.length===0){t({title:"No scenes",description:"Please analyze the image first to generate scene prompts",variant:"destructive"});return}P(!0);try{const{data:xe,error:Q}=await F.functions.invoke("runway-extend-generate",{body:{user_id:ge.id,image_url:r,avatar_name:c,industry:u,city:m,story_idea:w,scene_prompts:C,avatar_identity_prefix:D,image_analysis:U,number_of_scenes:parseInt(v),duration_per_scene:parseInt(g),aspect_ratio:j,resolution:N}});if(Q)throw Q;if(xe.success)t({title:"Generation started",description:"Your video is being generated. This may take several minutes."}),e(),R([]),$(""),q(null);else throw new Error(xe.error||"Generation failed")}catch(xe){console.error("Generation error:",xe),t({title:"Generation failed",description:xe.message,variant:"destructive"})}finally{P(!1)}},je=(ge,xe,Q)=>{const Ae=[...C];Ae[ge]={...Ae[ge],[xe]:Q},R(Ae)},_e=parseInt(v)*parseInt(g);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(H,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(ar,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Frame Continuity"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Each scene continues from the last frame"})]})]})})}),s.jsx(H,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(bt,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Avatar Lock"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Same person across all scenes"})]})]})})}),s.jsx(H,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:s.jsx(Y,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ea,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Up to 10 Scenes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create videos up to 100 seconds"})]})]})})})]}),s.jsxs(H,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Create Runway Extend Video"}),s.jsx(Ce,{children:"Upload an image and configure your multi-scene video with consistent avatar"})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Reference Image *"}),s.jsxs("div",{className:"flex items-start gap-4",children:[o?s.jsxs("div",{className:"relative w-32 h-32 rounded-lg overflow-hidden border",children:[s.jsx("img",{src:o,alt:"Preview",className:"w-full h-full object-cover"}),s.jsx("button",{onClick:()=>{l(null),n(""),i(null)},className:"absolute top-1 right-1 p-1 bg-destructive rounded-full",children:s.jsx(tn,{className:"h-3 w-3 text-destructive-foreground"})})]}):s.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed rounded-lg cursor-pointer hover:border-primary transition-colors",children:[s.jsx(ld,{className:"h-8 w-8 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground mt-2",children:"Upload"}),s.jsx("input",{type:"file",accept:"image/*",onChange:G,className:"hidden"})]}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a clear image of your avatar. This will be used as the starting point for all scenes."}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip: Use a well-lit, front-facing photo for best avatar consistency."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"avatarName",children:"Avatar Name *"}),s.jsx(Ne,{id:"avatarName",value:c,onChange:ge=>d(ge.target.value),placeholder:"e.g., John Smith"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"industry",children:"Industry *"}),s.jsx(Ne,{id:"industry",value:u,onChange:ge=>h(ge.target.value),placeholder:"e.g., Real Estate, Fitness, Tech"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"city",children:"City/Location *"}),s.jsx(Ne,{id:"city",value:m,onChange:ge=>p(ge.target.value),placeholder:"e.g., New York, Los Angeles"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"numberOfScenes",children:"Number of Scenes"}),s.jsxs(Ze,{value:v,onValueChange:b,children:[s.jsx(He,{children:s.jsx(Je,{})}),s.jsx(Ge,{children:[1,2,3,4,5,6,7,8,9,10].map(ge=>s.jsxs(K,{value:ge.toString(),children:[ge," Scene",ge>1?"s":""," (",ge*parseInt(g),"s total)"]},ge))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"durationPerScene",children:"Duration Per Scene"}),s.jsxs(Ze,{value:g,onValueChange:x,children:[s.jsx(He,{children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"5",children:"5 seconds"}),s.jsx(K,{value:"10",children:"10 seconds"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"aspectRatio",children:"Aspect Ratio"}),s.jsxs(Ze,{value:j,onValueChange:_,children:[s.jsx(He,{children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"16:9",children:"16:9 (Landscape)"}),s.jsx(K,{value:"9:16",children:"9:16 (Portrait)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"resolution",children:"Resolution"}),s.jsxs(Ze,{value:N,onValueChange:k,children:[s.jsx(He,{children:s.jsx(Je,{})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"720p",children:"720p (Faster)"}),s.jsx(K,{value:"1080p",children:"1080p (Higher Quality)"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{htmlFor:"storyIdea",children:"Story Idea"}),s.jsx(lt,{id:"storyIdea",value:w,onChange:ge=>y(ge.target.value),placeholder:"Describe the story or message you want to convey in your video...",rows:3})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total Duration: ",s.jsxs(re,{variant:"secondary",children:[_e," seconds"]})]}),s.jsx(V,{onClick:de,disabled:S||!r||!c||!u||!m,children:S?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Analyze & Generate Scenes"]})})]})]})]}),C.length>0&&s.jsxs(H,{children:[s.jsxs(se,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"h-5 w-5 text-green-500"}),"Generated Scenes"]}),s.jsx(Ce,{children:"Review and edit the scene prompts before generating your video"})]}),s.jsxs(Y,{className:"space-y-4",children:[C.map((ge,xe)=>s.jsx(H,{className:"border-muted",children:s.jsxs(Y,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs(re,{children:["Scene ",ge.scene_number]}),s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>O(T===xe?null:xe),children:s.jsx(B4,{className:"h-4 w-4"})})]}),T===xe?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(z,{children:"Prompt"}),s.jsx(lt,{value:ge.prompt,onChange:Q=>je(xe,"prompt",Q.target.value),rows:3})]}),s.jsxs("div",{children:[s.jsx(z,{children:"Script"}),s.jsx(lt,{value:ge.script,onChange:Q=>je(xe,"script",Q.target.value),rows:2})]}),s.jsxs("div",{children:[s.jsx(z,{children:"Camera"}),s.jsx(Ne,{value:ge.camera,onChange:Q=>je(xe,"camera",Q.target.value)})]})]}):s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Prompt:"})," ",ge.prompt]}),s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("strong",{children:"Script:"})," ",ge.script]}),s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("strong",{children:"Camera:"})," ",ge.camera]})]})]})},xe)),s.jsx(V,{onClick:oe,disabled:I,className:"w-full",size:"lg",children:I?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Starting Generation..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ar,{className:"mr-2 h-4 w-4"}),"Generate Video (",C.length," Scenes)"]})})]})]})]})}function pz({generation:e}){var d;const t=((d=e.video_segments)==null?void 0:d.length)||0,r=e.number_of_scenes,n=t/r*100,a=e.final_video_status==="completed"&&e.final_video_url,i=e.initial_status==="failed"||e.extended_status==="failed"||e.final_video_status==="failed",o=!a&&!i,l=()=>a?s.jsxs(re,{className:"bg-green-500",children:[s.jsx(At,{className:"h-3 w-3 mr-1"})," Complete"]}):i?s.jsxs(re,{variant:"destructive",children:[s.jsx(Wt,{className:"h-3 w-3 mr-1"})," Failed"]}):e.final_video_status==="processing"?s.jsxs(re,{variant:"secondary",children:[s.jsx(we,{className:"h-3 w-3 mr-1 animate-spin"})," Stitching..."]}):s.jsxs(re,{variant:"secondary",children:[s.jsx(we,{className:"h-3 w-3 mr-1 animate-spin"})," Scene ",e.current_scene,"/",r]}),c=()=>{e.final_video_url&&window.open(e.final_video_url,"_blank")};return s.jsx(H,{className:"overflow-hidden",children:s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsxs("div",{className:"relative w-full md:w-48 h-32 md:h-auto shrink-0",children:[a&&e.final_video_url?s.jsx("video",{src:e.final_video_url,className:"w-full h-full object-cover",muted:!0,loop:!0,onMouseEnter:u=>u.target.play(),onMouseLeave:u=>{const h=u.target;h.pause(),h.currentTime=0}}):s.jsx("img",{src:e.image_url,alt:"Reference",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-2 left-2",children:l()})]}),s.jsxs("div",{className:"flex-1 p-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:e.avatar_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.industry,"  ",e.city]})]}),s.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[s.jsx("p",{children:Ur(new Date(e.created_at),"MMM d, yyyy")}),s.jsx("p",{children:Ur(new Date(e.created_at),"h:mm a")})]})]}),o&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[t,"/",r," scenes"]})]}),s.jsx(_d,{value:n,className:"h-2"})]}),e.video_segments&&e.video_segments.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Completed Scenes:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.video_segments.map((u,h)=>s.jsxs("a",{href:u.video_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 bg-muted rounded text-xs hover:bg-muted/80 transition-colors",children:[s.jsx(rh,{className:"h-3 w-3"}),"Scene ",u.scene]},h))})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ar,{className:"h-4 w-4"}),r," scenes"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Es,{className:"h-4 w-4"}),r*e.duration_per_scene,"s"]}),s.jsx(re,{variant:"outline",children:e.aspect_ratio}),s.jsx(re,{variant:"outline",children:e.resolution})]}),a&&e.final_video_url&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>window.open(e.final_video_url,"_blank"),children:[s.jsx(rh,{className:"h-4 w-4 mr-1"}),"Play"]}),s.jsxs(V,{variant:"default",size:"sm",onClick:c,children:[s.jsx(bi,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})]})]})})}function gz({refreshTrigger:e}){const[t,r]=f.useState([]),[n,a]=f.useState(!0),i=async()=>{try{const{data:o,error:l}=await F.from("runway_extend_generations").select("*").order("created_at",{ascending:!1});if(l)throw l;r(o||[])}catch(o){console.error("Error fetching generations:",o)}finally{a(!1)}};return f.useEffect(()=>{i();const o=F.channel("runway-extend-updates").on("postgres_changes",{event:"*",schema:"public",table:"runway_extend_generations"},l=>{console.log("Realtime update:",l),l.eventType==="INSERT"?r(c=>[l.new,...c]):l.eventType==="UPDATE"?r(c=>c.map(d=>d.id===l.new.id?l.new:d)):l.eventType==="DELETE"&&r(c=>c.filter(d=>d.id!==l.old.id))}).subscribe();return()=>{F.removeChannel(o)}},[e]),n?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(we,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t.length===0?s.jsx(H,{children:s.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(ar,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No videos yet"}),s.jsx("p",{className:"text-sm text-muted-foreground text-center mt-2",children:"Create your first Runway Extend video to see it here"})]})}):s.jsx("div",{className:"space-y-4",children:t.map(o=>s.jsx(pz,{generation:o},o.id))})}const xz=()=>{const e=at(),[t,r]=f.useState("create"),[n,a]=f.useState(0);f.useEffect(()=>{(async()=>{const{data:{session:l}}=await F.auth.getSession();l||e("/auth")})()},[e]);const i=()=>{r("videos"),a(o=>o+1)};return s.jsxs("div",{className:"flex min-h-screen bg-background",children:[s.jsx(ls,{}),s.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(ar,{className:"h-6 w-6 text-primary"})}),s.jsx("h1",{className:"text-3xl font-bold",children:"Runway Extend"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Create multi-scene videos with perfect avatar consistency using frame-to-frame extension"})]}),s.jsxs(ir,{value:t,onValueChange:r,children:[s.jsxs(Jt,{className:"mb-6",children:[s.jsxs(Te,{value:"create",className:"flex items-center gap-2",children:[s.jsx(Dr,{className:"h-4 w-4"}),"Create New"]}),s.jsxs(Te,{value:"videos",className:"flex items-center gap-2",children:[s.jsx(Jx,{className:"h-4 w-4"}),"My Videos"]})]}),s.jsx(Me,{value:"create",children:s.jsx(mz,{onGenerationStarted:i})}),s.jsx(Me,{value:"videos",children:s.jsx(gz,{refreshTrigger:n})})]})]})})]})};var kd=e=>e.type==="checkbox",si=e=>e instanceof Date,ur=e=>e==null;const hR=e=>typeof e=="object";var It=e=>!ur(e)&&!Array.isArray(e)&&hR(e)&&!si(e),fR=e=>It(e)&&e.target?kd(e.target)?e.target.checked:e.target.value:e,vz=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,mR=(e,t)=>e.has(vz(t)),yz=e=>{const t=e.constructor&&e.constructor.prototype;return It(t)&&t.hasOwnProperty("isPrototypeOf")},hy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ut(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(hy&&(e instanceof Blob||n))&&(r||It(e)))if(t=r?[]:{},!r&&!yz(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Ut(e[a]));else return e;return t}var Lf=e=>/^\w*$/.test(e),Pt=e=>e===void 0,fy=e=>Array.isArray(e)?e.filter(Boolean):[],my=e=>fy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(e,t,r)=>{if(!t||!It(e))return r;const n=(Lf(t)?[t]:my(t)).reduce((a,i)=>ur(a)?a:a[i],e);return Pt(n)||n===e?Pt(e[t])?r:e[t]:n},Lr=e=>typeof e=="boolean",rt=(e,t,r)=>{let n=-1;const a=Lf(t)?[t]:my(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const d=e[l];c=It(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const kh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_s={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},hn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},py=B.createContext(null);py.displayName="HookFormContext";const $f=()=>B.useContext(py),wz=e=>{const{children:t,...r}=e;return B.createElement(py.Provider,{value:r},t)};var pR=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==_s.all&&(t._proxyFormState[o]=!n||_s.all),r&&(r[o]=!0),e[o]}});return a};const gy=typeof window<"u"?B.useLayoutEffect:B.useEffect;function bz(e){const t=$f(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=B.useState(r._formState),c=B.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return gy(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:d=>{!n&&l({...r._formState,...d})}}),[a,n,i]),B.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),B.useMemo(()=>pR(o,r,c.current,!1),[o,r])}var Ks=e=>typeof e=="string",gR=(e,t,r,n,a)=>Ks(e)?(n&&t.watch.add(e),le(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),le(r,i))):(n&&(t.watchAll=!0),r),Hg=e=>ur(e)||!hR(e);function vn(e,t,r=new WeakSet){if(Hg(e)||Hg(t))return e===t;if(si(e)&&si(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(si(o)&&si(l)||It(o)&&It(l)||Array.isArray(o)&&Array.isArray(l)?!vn(o,l,r):o!==l)return!1}}return!0}function jz(e){const t=$f(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=B.useRef(a),d=B.useRef(l),u=B.useRef(void 0);d.current=l;const h=B.useMemo(()=>r._getWatch(n,c.current),[r,n]),[m,p]=B.useState(d.current?d.current(h):h);return gy(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:w=>{if(!i){const y=gR(n,r._names,w.values||r._formValues,!1,c.current);if(d.current){const v=d.current(y);vn(v,u.current)||(p(v),u.current=v)}else p(y)}}}),[r,i,n,o]),B.useEffect(()=>r._removeUnmounted()),m}function _z(e){const t=$f(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=mR(a._names.array,r),c=B.useMemo(()=>le(a._formValues,r,le(a._defaultValues,r,o)),[a,r,o]),d=jz({control:a,name:r,defaultValue:c,exact:!0}),u=bz({control:a,name:r,exact:!0}),h=B.useRef(e),m=B.useRef(a.register(r,{...e.rules,value:d,...Lr(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const p=B.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!le(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!le(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!le(u.validatingFields,r)},error:{enumerable:!0,get:()=>le(u.errors,r)}}),[u,r]),w=B.useCallback(g=>m.current.onChange({target:{value:fR(g),name:r},type:kh.CHANGE}),[r]),y=B.useCallback(()=>m.current.onBlur({target:{value:le(a._formValues,r),name:r},type:kh.BLUR}),[r,a._formValues]),v=B.useCallback(g=>{const x=le(a._fields,r);x&&g&&(x._f.ref={focus:()=>g.focus&&g.focus(),select:()=>g.select&&g.select(),setCustomValidity:j=>g.setCustomValidity(j),reportValidity:()=>g.reportValidity()})},[a._fields,r]),b=B.useMemo(()=>({name:r,value:d,...Lr(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:w,onBlur:y,ref:v}),[r,n,u.disabled,w,y,v,d]);return B.useEffect(()=>{const g=a._options.shouldUnregister||i;a.register(r,{...h.current.rules,...Lr(h.current.disabled)?{disabled:h.current.disabled}:{}});const x=(j,_)=>{const N=le(a._fields,j);N&&N._f&&(N._f.mount=_)};if(x(r,!0),g){const j=Ut(le(a._options.defaultValues,r));rt(a._defaultValues,r,j),Pt(le(a._formValues,r))&&rt(a._formValues,r,j)}return!l&&a.register(r),()=>{(l?g&&!a._state.action:g)?a.unregister(r):x(r,!1)}},[r,a,l,i]),B.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),B.useMemo(()=>({field:b,formState:u,fieldState:p}),[b,u,p])}const Nz=e=>e.render(_z(e));var xR=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},cc=e=>Array.isArray(e)?e:[e],gb=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Nr=e=>It(e)&&!Object.keys(e).length,xy=e=>e.type==="file",Ns=e=>typeof e=="function",Ch=e=>{if(!hy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},vR=e=>e.type==="select-multiple",vy=e=>e.type==="radio",Sz=e=>vy(e)||kd(e),Km=e=>Ch(e)&&e.isConnected;function kz(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Pt(e)?n++:e[t[n++]];return e}function Cz(e){for(const t in e)if(e.hasOwnProperty(t)&&!Pt(e[t]))return!1;return!0}function Mt(e,t){const r=Array.isArray(t)?t:Lf(t)?[t]:my(t),n=r.length===1?e:kz(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(It(n)&&Nr(n)||Array.isArray(n)&&Cz(n))&&Mt(e,r.slice(0,-1)),e}var yR=e=>{for(const t in e)if(Ns(e[t]))return!0;return!1};function Eh(e,t={}){const r=Array.isArray(e);if(It(e)||r)for(const n in e)Array.isArray(e[n])||It(e[n])&&!yR(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Eh(e[n],t[n])):ur(e[n])||(t[n]=!0);return t}function wR(e,t,r){const n=Array.isArray(e);if(It(e)||n)for(const a in e)Array.isArray(e[a])||It(e[a])&&!yR(e[a])?Pt(t)||Hg(r[a])?r[a]=Array.isArray(e[a])?Eh(e[a],[]):{...Eh(e[a])}:wR(e[a],ur(t)?{}:t[a],r[a]):r[a]=!vn(e[a],t[a]);return r}var Dl=(e,t)=>wR(e,t,Eh(t));const xb={value:!1,isValid:!1},vb={value:!0,isValid:!0};var bR=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Pt(e[0].attributes.value)?Pt(e[0].value)||e[0].value===""?vb:{value:e[0].value,isValid:!0}:vb:xb}return xb},jR=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Pt(e)?e:t?e===""?NaN:e&&+e:r&&Ks(e)?new Date(e):n?n(e):e;const yb={isValid:!1,value:null};var _R=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,yb):yb;function wb(e){const t=e.ref;return xy(t)?t.files:vy(t)?_R(e.refs).value:vR(t)?[...t.selectedOptions].map(({value:r})=>r):kd(t)?bR(e.refs).value:jR(Pt(t.value)?e.ref.value:t.value,e)}var Ez=(e,t,r,n)=>{const a={};for(const i of e){const o=le(t,i);o&&rt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Rh=e=>e instanceof RegExp,Fl=e=>Pt(e)?e:Rh(e)?e.source:It(e)?Rh(e.value)?e.value.source:e.value:e,bb=e=>({isOnSubmit:!e||e===_s.onSubmit,isOnBlur:e===_s.onBlur,isOnChange:e===_s.onChange,isOnAll:e===_s.all,isOnTouch:e===_s.onTouched});const jb="AsyncFunction";var Rz=e=>!!e&&!!e.validate&&!!(Ns(e.validate)&&e.validate.constructor.name===jb||It(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===jb)),Pz=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),_b=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const dc=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=le(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(dc(l,t))break}else if(It(l)&&dc(l,t))break}}};function Nb(e,t,r){const n=le(e,r);if(n||Lf(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=le(t,i),l=le(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var Tz=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Nr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||_s.all))},Az=(e,t,r)=>!e||!t||e===t||cc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Iz=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Oz=(e,t)=>!fy(le(e,t)).length&&Mt(e,t),Mz=(e,t,r)=>{const n=cc(le(e,r));return rt(n,"root",t[r]),rt(e,r,n),e},Pu=e=>Ks(e);function Sb(e,t,r="validate"){if(Pu(e)||Array.isArray(e)&&e.every(Pu)||Lr(e)&&!e)return{type:r,message:Pu(e)?e:"",ref:t}}var Yi=e=>It(e)&&!Rh(e)?e:{value:e,message:""},kb=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:p,validate:w,name:y,valueAsNumber:v,mount:b}=e._f,g=le(r,y);if(!b||t.has(y))return{};const x=l?l[0]:o,j=C=>{a&&x.reportValidity&&(x.setCustomValidity(Lr(C)?"":C||""),x.reportValidity())},_={},N=vy(o),k=kd(o),S=N||k,E=(v||xy(o))&&Pt(o.value)&&Pt(g)||Ch(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,I=xR.bind(null,y,n,_),P=(C,R,D,$=hn.maxLength,U=hn.minLength)=>{const q=C?R:D;_[y]={type:C?$:U,message:q,ref:o,...I(C?$:U,q)}};if(i?!Array.isArray(g)||!g.length:c&&(!S&&(E||ur(g))||Lr(g)&&!g||k&&!bR(l).isValid||N&&!_R(l).isValid)){const{value:C,message:R}=Pu(c)?{value:!!c,message:c}:Yi(c);if(C&&(_[y]={type:hn.required,message:R,ref:x,...I(hn.required,R)},!n))return j(R),_}if(!E&&(!ur(h)||!ur(m))){let C,R;const D=Yi(m),$=Yi(h);if(!ur(g)&&!isNaN(g)){const U=o.valueAsNumber||g&&+g;ur(D.value)||(C=U>D.value),ur($.value)||(R=U<$.value)}else{const U=o.valueAsDate||new Date(g),q=G=>new Date(new Date().toDateString()+" "+G),T=o.type=="time",O=o.type=="week";Ks(D.value)&&g&&(C=T?q(g)>q(D.value):O?g>D.value:U>new Date(D.value)),Ks($.value)&&g&&(R=T?q(g)<q($.value):O?g<$.value:U<new Date($.value))}if((C||R)&&(P(!!C,D.message,$.message,hn.max,hn.min),!n))return j(_[y].message),_}if((d||u)&&!E&&(Ks(g)||i&&Array.isArray(g))){const C=Yi(d),R=Yi(u),D=!ur(C.value)&&g.length>+C.value,$=!ur(R.value)&&g.length<+R.value;if((D||$)&&(P(D,C.message,R.message),!n))return j(_[y].message),_}if(p&&!E&&Ks(g)){const{value:C,message:R}=Yi(p);if(Rh(C)&&!g.match(C)&&(_[y]={type:hn.pattern,message:R,ref:o,...I(hn.pattern,R)},!n))return j(R),_}if(w){if(Ns(w)){const C=await w(g,r),R=Sb(C,x);if(R&&(_[y]={...R,...I(hn.validate,R.message)},!n))return j(R.message),_}else if(It(w)){let C={};for(const R in w){if(!Nr(C)&&!n)break;const D=Sb(await w[R](g,r),x,R);D&&(C={...D,...I(R,D.message)},j(D.message),n&&(_[y]=C))}if(!Nr(C)&&(_[y]={ref:x,...C},!n))return _}}return j(!0),_};const Dz={mode:_s.onSubmit,reValidateMode:_s.onChange,shouldFocusError:!0};function Fz(e={}){let t={...Dz,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ns(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=It(t.defaultValues)||It(t.values)?Ut(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Ut(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:gb(),state:gb()},p=t.criteriaMode===_s.all,w=A=>L=>{clearTimeout(d),d=setTimeout(A,L)},y=async A=>{if(!t.disabled&&(u.isValid||h.isValid||A)){const L=t.resolver?Nr((await k()).errors):await E(n,!0);L!==r.isValid&&m.state.next({isValid:L})}},v=(A,L)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((A||Array.from(l.mount)).forEach(W=>{W&&(L?rt(r.validatingFields,W,L):Mt(r.validatingFields,W))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Nr(r.validatingFields)}))},b=(A,L=[],W,ie,ae=!0,te=!0)=>{if(ie&&W&&!t.disabled){if(o.action=!0,te&&Array.isArray(le(n,A))){const fe=W(le(n,A),ie.argA,ie.argB);ae&&rt(n,A,fe)}if(te&&Array.isArray(le(r.errors,A))){const fe=W(le(r.errors,A),ie.argA,ie.argB);ae&&rt(r.errors,A,fe),Oz(r.errors,A)}if((u.touchedFields||h.touchedFields)&&te&&Array.isArray(le(r.touchedFields,A))){const fe=W(le(r.touchedFields,A),ie.argA,ie.argB);ae&&rt(r.touchedFields,A,fe)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Dl(a,i)),m.state.next({name:A,isDirty:P(A,L),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else rt(i,A,L)},g=(A,L)=>{rt(r.errors,A,L),m.state.next({errors:r.errors})},x=A=>{r.errors=A,m.state.next({errors:r.errors,isValid:!1})},j=(A,L,W,ie)=>{const ae=le(n,A);if(ae){const te=le(i,A,Pt(W)?le(a,A):W);Pt(te)||ie&&ie.defaultChecked||L?rt(i,A,L?te:wb(ae._f)):D(A,te),o.mount&&y()}},_=(A,L,W,ie,ae)=>{let te=!1,fe=!1;const Be={name:A};if(!t.disabled){if(!W||ie){(u.isDirty||h.isDirty)&&(fe=r.isDirty,r.isDirty=Be.isDirty=P(),te=fe!==Be.isDirty);const it=vn(le(a,A),L);fe=!!le(r.dirtyFields,A),it?Mt(r.dirtyFields,A):rt(r.dirtyFields,A,!0),Be.dirtyFields=r.dirtyFields,te=te||(u.dirtyFields||h.dirtyFields)&&fe!==!it}if(W){const it=le(r.touchedFields,A);it||(rt(r.touchedFields,A,W),Be.touchedFields=r.touchedFields,te=te||(u.touchedFields||h.touchedFields)&&it!==W)}te&&ae&&m.state.next(Be)}return te?Be:{}},N=(A,L,W,ie)=>{const ae=le(r.errors,A),te=(u.isValid||h.isValid)&&Lr(L)&&r.isValid!==L;if(t.delayError&&W?(c=w(()=>g(A,W)),c(t.delayError)):(clearTimeout(d),c=null,W?rt(r.errors,A,W):Mt(r.errors,A)),(W?!vn(ae,W):ae)||!Nr(ie)||te){const fe={...ie,...te&&Lr(L)?{isValid:L}:{},errors:r.errors,name:A};r={...r,...fe},m.state.next(fe)}},k=async A=>{v(A,!0);const L=await t.resolver(i,t.context,Ez(A||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(A),L},S=async A=>{const{errors:L}=await k(A);if(A)for(const W of A){const ie=le(L,W);ie?rt(r.errors,W,ie):Mt(r.errors,W)}else r.errors=L;return L},E=async(A,L,W={valid:!0})=>{for(const ie in A){const ae=A[ie];if(ae){const{_f:te,...fe}=ae;if(te){const Be=l.array.has(te.name),it=ae._f&&Rz(ae._f);it&&u.validatingFields&&v([ie],!0);const br=await kb(ae,l.disabled,i,p,t.shouldUseNativeValidation&&!L,Be);if(it&&u.validatingFields&&v([ie]),br[te.name]&&(W.valid=!1,L))break;!L&&(le(br,te.name)?Be?Mz(r.errors,br,te.name):rt(r.errors,te.name,br[te.name]):Mt(r.errors,te.name))}!Nr(fe)&&await E(fe,L,W)}}return W.valid},I=()=>{for(const A of l.unMount){const L=le(n,A);L&&(L._f.refs?L._f.refs.every(W=>!Km(W)):!Km(L._f.ref))&&Q(A)}l.unMount=new Set},P=(A,L)=>!t.disabled&&(A&&L&&rt(i,A,L),!vn(G(),a)),C=(A,L,W)=>gR(A,l,{...o.mount?i:Pt(L)?a:Ks(A)?{[A]:L}:L},W,L),R=A=>fy(le(o.mount?i:a,A,t.shouldUnregister?le(a,A,[]):[])),D=(A,L,W={})=>{const ie=le(n,A);let ae=L;if(ie){const te=ie._f;te&&(!te.disabled&&rt(i,A,jR(L,te)),ae=Ch(te.ref)&&ur(L)?"":L,vR(te.ref)?[...te.ref.options].forEach(fe=>fe.selected=ae.includes(fe.value)):te.refs?kd(te.ref)?te.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(ae)?fe.checked=!!ae.find(Be=>Be===fe.value):fe.checked=ae===fe.value||!!ae)}):te.refs.forEach(fe=>fe.checked=fe.value===ae):xy(te.ref)?te.ref.value="":(te.ref.value=ae,te.ref.type||m.state.next({name:A,values:Ut(i)})))}(W.shouldDirty||W.shouldTouch)&&_(A,ae,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&O(A)},$=(A,L,W)=>{for(const ie in L){if(!L.hasOwnProperty(ie))return;const ae=L[ie],te=A+"."+ie,fe=le(n,te);(l.array.has(A)||It(ae)||fe&&!fe._f)&&!si(ae)?$(te,ae,W):D(te,ae,W)}},U=(A,L,W={})=>{const ie=le(n,A),ae=l.array.has(A),te=Ut(L);rt(i,A,te),ae?(m.array.next({name:A,values:Ut(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&W.shouldDirty&&m.state.next({name:A,dirtyFields:Dl(a,i),isDirty:P(A,te)})):ie&&!ie._f&&!ur(te)?$(A,te,W):D(A,te,W),_b(A,l)&&m.state.next({...r,name:A}),m.state.next({name:o.mount?A:void 0,values:Ut(i)})},q=async A=>{o.mount=!0;const L=A.target;let W=L.name,ie=!0;const ae=le(n,W),te=it=>{ie=Number.isNaN(it)||si(it)&&isNaN(it.getTime())||vn(it,le(i,W,it))},fe=bb(t.mode),Be=bb(t.reValidateMode);if(ae){let it,br;const cn=L.type?wb(ae._f):fR(A),Ms=A.type===kh.BLUR||A.type===kh.FOCUS_OUT,Rd=!Pz(ae._f)&&!t.resolver&&!le(r.errors,W)&&!ae._f.deps||Iz(Ms,le(r.touchedFields,W),r.isSubmitted,Be,fe),Wa=_b(W,l,Ms);rt(i,W,cn),Ms?(ae._f.onBlur&&ae._f.onBlur(A),c&&c(0)):ae._f.onChange&&ae._f.onChange(A);const Ds=_(W,cn,Ms),Pd=!Nr(Ds)||Wa;if(!Ms&&m.state.next({name:W,type:A.type,values:Ut(i)}),Rd)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?Ms&&y():Ms||y()),Pd&&m.state.next({name:W,...Wa?{}:Ds});if(!Ms&&Wa&&m.state.next({...r}),t.resolver){const{errors:dn}=await k([W]);if(te(cn),ie){const qf=Nb(r.errors,n,W),Td=Nb(dn,n,qf.name||W);it=Td.error,W=Td.name,br=Nr(dn)}}else v([W],!0),it=(await kb(ae,l.disabled,i,p,t.shouldUseNativeValidation))[W],v([W]),te(cn),ie&&(it?br=!1:(u.isValid||h.isValid)&&(br=await E(n,!0)));ie&&(ae._f.deps&&O(ae._f.deps),N(W,br,it,Ds))}},T=(A,L)=>{if(le(r.errors,L)&&A.focus)return A.focus(),1},O=async(A,L={})=>{let W,ie;const ae=cc(A);if(t.resolver){const te=await S(Pt(A)?A:ae);W=Nr(te),ie=A?!ae.some(fe=>le(te,fe)):W}else A?(ie=(await Promise.all(ae.map(async te=>{const fe=le(n,te);return await E(fe&&fe._f?{[te]:fe}:fe)}))).every(Boolean),!(!ie&&!r.isValid)&&y()):ie=W=await E(n);return m.state.next({...!Ks(A)||(u.isValid||h.isValid)&&W!==r.isValid?{}:{name:A},...t.resolver||!A?{isValid:W}:{},errors:r.errors}),L.shouldFocus&&!ie&&dc(n,T,A?ae:l.mount),ie},G=A=>{const L={...o.mount?i:a};return Pt(A)?L:Ks(A)?le(L,A):A.map(W=>le(L,W))},de=(A,L)=>({invalid:!!le((L||r).errors,A),isDirty:!!le((L||r).dirtyFields,A),error:le((L||r).errors,A),isValidating:!!le(r.validatingFields,A),isTouched:!!le((L||r).touchedFields,A)}),oe=A=>{A&&cc(A).forEach(L=>Mt(r.errors,L)),m.state.next({errors:A?r.errors:{}})},je=(A,L,W)=>{const ie=(le(n,A,{_f:{}})._f||{}).ref,ae=le(r.errors,A)||{},{ref:te,message:fe,type:Be,...it}=ae;rt(r.errors,A,{...it,...L,ref:ie}),m.state.next({name:A,errors:r.errors,isValid:!1}),W&&W.shouldFocus&&ie&&ie.focus&&ie.focus()},_e=(A,L)=>Ns(A)?m.state.subscribe({next:W=>"values"in W&&A(C(void 0,L),W)}):C(A,L,!0),ge=A=>m.state.subscribe({next:L=>{Az(A.name,L.name,A.exact)&&Tz(L,A.formState||u,on,A.reRenderRoot)&&A.callback({values:{...i},...r,...L,defaultValues:a})}}).unsubscribe,xe=A=>(o.mount=!0,h={...h,...A.formState},ge({...A,formState:h})),Q=(A,L={})=>{for(const W of A?cc(A):l.mount)l.mount.delete(W),l.array.delete(W),L.keepValue||(Mt(n,W),Mt(i,W)),!L.keepError&&Mt(r.errors,W),!L.keepDirty&&Mt(r.dirtyFields,W),!L.keepTouched&&Mt(r.touchedFields,W),!L.keepIsValidating&&Mt(r.validatingFields,W),!t.shouldUnregister&&!L.keepDefaultValue&&Mt(a,W);m.state.next({values:Ut(i)}),m.state.next({...r,...L.keepDirty?{isDirty:P()}:{}}),!L.keepIsValid&&y()},Ae=({disabled:A,name:L})=>{(Lr(A)&&o.mount||A||l.disabled.has(L))&&(A?l.disabled.add(L):l.disabled.delete(L))},Ue=(A,L={})=>{let W=le(n,A);const ie=Lr(L.disabled)||Lr(t.disabled);return rt(n,A,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:A}},name:A,mount:!0,...L}}),l.mount.add(A),W?Ae({disabled:Lr(L.disabled)?L.disabled:t.disabled,name:A}):j(A,!0,L.value),{...ie?{disabled:L.disabled||t.disabled}:{},...t.progressive?{required:!!L.required,min:Fl(L.min),max:Fl(L.max),minLength:Fl(L.minLength),maxLength:Fl(L.maxLength),pattern:Fl(L.pattern)}:{},name:A,onChange:q,onBlur:q,ref:ae=>{if(ae){Ue(A,L),W=le(n,A);const te=Pt(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,fe=Sz(te),Be=W._f.refs||[];if(fe?Be.find(it=>it===te):te===W._f.ref)return;rt(n,A,{_f:{...W._f,...fe?{refs:[...Be.filter(Km),te,...Array.isArray(le(a,A))?[{}]:[]],ref:{type:te.type,name:A}}:{ref:te}}}),j(A,!1,void 0,te)}else W=le(n,A,{}),W._f&&(W._f.mount=!1),(t.shouldUnregister||L.shouldUnregister)&&!(mR(l.array,A)&&o.action)&&l.unMount.add(A)}}},Ie=()=>t.shouldFocusError&&dc(n,T,l.mount),De=A=>{Lr(A)&&(m.state.next({disabled:A}),dc(n,(L,W)=>{const ie=le(n,W);ie&&(L.disabled=ie._f.disabled||A,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(ae=>{ae.disabled=ie._f.disabled||A}))},0,!1))},Fe=(A,L)=>async W=>{let ie;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let ae=Ut(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:te,values:fe}=await k();r.errors=te,ae=Ut(fe)}else await E(n);if(l.disabled.size)for(const te of l.disabled)Mt(ae,te);if(Mt(r.errors,"root"),Nr(r.errors)){m.state.next({errors:{}});try{await A(ae,W)}catch(te){ie=te}}else L&&await L({...r.errors},W),Ie(),setTimeout(Ie);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nr(r.errors)&&!ie,submitCount:r.submitCount+1,errors:r.errors}),ie)throw ie},qt=(A,L={})=>{le(n,A)&&(Pt(L.defaultValue)?U(A,Ut(le(a,A))):(U(A,L.defaultValue),rt(a,A,Ut(L.defaultValue))),L.keepTouched||Mt(r.touchedFields,A),L.keepDirty||(Mt(r.dirtyFields,A),r.isDirty=L.defaultValue?P(A,Ut(le(a,A))):P()),L.keepError||(Mt(r.errors,A),u.isValid&&y()),m.state.next({...r}))},or=(A,L={})=>{const W=A?Ut(A):a,ie=Ut(W),ae=Nr(A),te=ae?a:ie;if(L.keepDefaultValues||(a=W),!L.keepValues){if(L.keepDirtyValues){const fe=new Set([...l.mount,...Object.keys(Dl(a,i))]);for(const Be of Array.from(fe))le(r.dirtyFields,Be)?rt(te,Be,le(i,Be)):U(Be,le(te,Be))}else{if(hy&&Pt(A))for(const fe of l.mount){const Be=le(n,fe);if(Be&&Be._f){const it=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(Ch(it)){const br=it.closest("form");if(br){br.reset();break}}}}if(L.keepFieldsRef)for(const fe of l.mount)U(fe,le(te,fe));else n={}}i=t.shouldUnregister?L.keepDefaultValues?Ut(a):{}:Ut(te),m.array.next({values:{...te}}),m.state.next({values:{...te}})}l={mount:L.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:L.keepSubmitCount?r.submitCount:0,isDirty:ae?!1:L.keepDirty?r.isDirty:!!(L.keepDefaultValues&&!vn(A,a)),isSubmitted:L.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ae?{}:L.keepDirtyValues?L.keepDefaultValues&&i?Dl(a,i):r.dirtyFields:L.keepDefaultValues&&A?Dl(a,A):L.keepDirty?r.dirtyFields:{},touchedFields:L.keepTouched?r.touchedFields:{},errors:L.keepErrors?r.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Is=(A,L)=>or(Ns(A)?A(i):A,L),Os=(A,L={})=>{const W=le(n,A),ie=W&&W._f;if(ie){const ae=ie.refs?ie.refs[0]:ie.ref;ae.focus&&(ae.focus(),L.shouldSelect&&Ns(ae.select)&&ae.select())}},on=A=>{r={...r,...A}},ln={control:{register:Ue,unregister:Q,getFieldState:de,handleSubmit:Fe,setError:je,_subscribe:ge,_runSchema:k,_focusError:Ie,_getWatch:C,_getDirty:P,_setValid:y,_setFieldArray:b,_setDisabledField:Ae,_setErrors:x,_getFieldArray:R,_reset:or,_resetDefaultValues:()=>Ns(t.defaultValues)&&t.defaultValues().then(A=>{Is(A,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:De,_subjects:m,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(A){o=A},get _defaultValues(){return a},get _names(){return l},set _names(A){l=A},get _formState(){return r},get _options(){return t},set _options(A){t={...t,...A}}},subscribe:xe,trigger:O,register:Ue,handleSubmit:Fe,watch:_e,setValue:U,getValues:G,reset:Is,resetField:qt,clearErrors:oe,unregister:Q,setError:je,setFocus:Os,getFieldState:de};return{...ln,formControl:ln}}function NR(e={}){const t=B.useRef(void 0),r=B.useRef(void 0),[n,a]=B.useState({isDirty:!1,isValidating:!1,isLoading:Ns(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ns(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Ns(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Fz(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,gy(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),B.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),B.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),B.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),B.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),B.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),B.useEffect(()=>{e.values&&!vn(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),B.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=pR(n,i),t.current}const Cb=(e,t,r)=>{if(e&&"reportValidity"in e){const n=le(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},SR=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Cb(n.ref,r,e):n.refs&&n.refs.forEach(a=>Cb(a,r,e))}},Lz=(e,t)=>{t.shouldUseNativeValidation&&SR(e,t);const r={};for(const n in e){const a=le(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if($z(t.names||Object.keys(e),n)){const o=Object.assign({},le(r,n));rt(o,"root",i),rt(r,n,o)}else rt(r,n,i)}return r},$z=(e,t)=>e.some(r=>r.startsWith(t+"."));var Uz=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,d=c&&c[n.code];r[o]=xR(o,t,r,a,d?[].concat(d,n.message):n.message)}e.shift()}return r},kR=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return i.shouldUseNativeValidation&&SR({},i),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Lz(Uz(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Xe;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Xe||(Xe={}));var Eb;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Eb||(Eb={}));const ve=Xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qn=e=>{switch(typeof e){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return Number.isNaN(e)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(e)?ve.array:e===null?ve.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ve.promise:typeof Map<"u"&&e instanceof Map?ve.map:typeof Set<"u"&&e instanceof Set?ve.set:typeof Date<"u"&&e instanceof Date?ve.date:ve.object;default:return ve.unknown}},ee=Xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class In extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),n}static assert(t){if(!(t instanceof In))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}In.create=e=>new In(e);const Gg=(e,t)=>{let r;switch(e.code){case ee.invalid_type:e.received===ve.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ee.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Xe.jsonStringifyReplacer)}`;break;case ee.unrecognized_keys:r=`Unrecognized key(s) in object: ${Xe.joinValues(e.keys,", ")}`;break;case ee.invalid_union:r="Invalid input";break;case ee.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Xe.joinValues(e.options)}`;break;case ee.invalid_enum_value:r=`Invalid enum value. Expected ${Xe.joinValues(e.options)}, received '${e.received}'`;break;case ee.invalid_arguments:r="Invalid function arguments";break;case ee.invalid_return_type:r="Invalid function return type";break;case ee.invalid_date:r="Invalid date";break;case ee.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Xe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ee.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ee.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ee.custom:r="Invalid input";break;case ee.invalid_intersection_types:r="Intersection results could not be merged";break;case ee.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ee.not_finite:r="Number must be finite";break;default:r=t.defaultError,Xe.assertNever(e)}return{message:r}};let Vz=Gg;function Bz(){return Vz}const zz=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function he(e,t){const r=Bz(),n=zz({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Gg?void 0:Gg].filter(a=>!!a)});e.common.issues.push(n)}class Kr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return ke;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Kr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return ke;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const ke=Object.freeze({status:"aborted"}),Gl=e=>({status:"dirty",value:e}),cs=e=>({status:"valid",value:e}),Rb=e=>e.status==="aborted",Pb=e=>e.status==="dirty",Xo=e=>e.status==="valid",Ph=e=>typeof Promise<"u"&&e instanceof Promise;var ye;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ye||(ye={}));class Aa{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Tb=(e,t)=>{if(Xo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new In(e.common.issues);return this._error=r,this._error}}};function $e(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Ke{get description(){return this._def.description}_getType(t){return Qn(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Qn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Kr,ctx:{common:t.parent.common,data:t.data,parsedType:Qn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Ph(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qn(t)},a=this._parseSync({data:t,path:n.path,parent:n});return Tb(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qn(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Xo(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Xo(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qn(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Ph(a)?a:Promise.resolve(a));return Tb(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ee.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new el({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return _a.create(this,this._def)}nullable(){return tl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Js.create(this)}promise(){return Oh.create(this,this._def)}or(t){return Ah.create([this,t],this._def)}and(t){return Ih.create(this,t,this._def)}transform(t){return new el({...$e(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Yg({...$e(this._def),innerType:this,defaultValue:r,typeName:Ee.ZodDefault})}brand(){return new h9({typeName:Ee.ZodBranded,type:this,...$e(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Qg({...$e(this._def),innerType:this,catchValue:r,typeName:Ee.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return yy.create(this,t)}readonly(){return Xg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Wz=/^c[^\s-]{8,}$/i,qz=/^[0-9a-z]+$/,Hz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Gz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Kz=/^[a-z0-9_-]{21}$/i,Yz=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Qz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Xz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Zz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ym;const Jz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,e9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,t9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,r9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,s9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,n9=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,CR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",a9=new RegExp(`^${CR}$`);function ER(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function i9(e){return new RegExp(`^${ER(e)}$`)}function o9(e){let t=`${CR}T${ER(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function l9(e,t){return!!((t==="v4"||!t)&&Jz.test(e)||(t==="v6"||!t)&&t9.test(e))}function c9(e,t){if(!Yz.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function d9(e,t){return!!((t==="v4"||!t)&&e9.test(e)||(t==="v6"||!t)&&r9.test(e))}class ua extends Ke{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ve.string){const i=this._getOrReturnCtx(t);return he(i,{code:ee.invalid_type,expected:ve.string,received:i.parsedType}),ke}const n=new Kr;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),he(a,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),he(a,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?he(a,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&he(a,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Xz.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"email",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ym||(Ym=new RegExp(Zz,"u")),Ym.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"emoji",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Gz.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"uuid",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Kz.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"nanoid",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Wz.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"cuid",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")qz.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"cuid2",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Hz.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"ulid",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),he(a,{validation:"url",code:ee.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"regex",code:ee.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),he(a,{code:ee.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),he(a,{code:ee.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),he(a,{code:ee.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?o9(i).test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{code:ee.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?a9.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{code:ee.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?i9(i).test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{code:ee.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Qz.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"duration",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?l9(t.data,i.version)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"ip",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?c9(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"jwt",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?d9(t.data,i.version)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"cidr",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?s9.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"base64",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?n9.test(t.data)||(a=this._getOrReturnCtx(t,a),he(a,{validation:"base64url",code:ee.invalid_string,message:i.message}),n.dirty()):Xe.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ee.invalid_string,...ye.errToObj(n)})}_addCheck(t){return new ua({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ye.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ye.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ye.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ye.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ye.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ye.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ye.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ye.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ye.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ye.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ye.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ye.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ye.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ye.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ye.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ye.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ye.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ye.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ye.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ye.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ye.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ye.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ye.errToObj(r)})}nonempty(t){return this.min(1,ye.errToObj(t))}trim(){return new ua({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ua({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ua({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ua.create=e=>new ua({checks:[],typeName:Ee.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...$e(e)});function u9(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class Zo extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ve.number){const i=this._getOrReturnCtx(t);return he(i,{code:ee.invalid_type,expected:ve.number,received:i.parsedType}),ke}let n;const a=new Kr;for(const i of this._def.checks)i.kind==="int"?Xe.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),he(n,{code:ee.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:ee.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:ee.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?u9(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),he(n,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),he(n,{code:ee.not_finite,message:i.message}),a.dirty()):Xe.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ye.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ye.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ye.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ye.toString(r))}setLimit(t,r,n,a){return new Zo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ye.toString(a)}]})}_addCheck(t){return new Zo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ye.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ye.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ye.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ye.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ye.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ye.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ye.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ye.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ye.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Xe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Zo.create=e=>new Zo({checks:[],typeName:Ee.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...$e(e)});class qc extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ve.bigint)return this._getInvalidInput(t);let n;const a=new Kr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:ee.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:ee.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),he(n,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Xe.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return he(r,{code:ee.invalid_type,expected:ve.bigint,received:r.parsedType}),ke}gte(t,r){return this.setLimit("min",t,!0,ye.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ye.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ye.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ye.toString(r))}setLimit(t,r,n,a){return new qc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ye.toString(a)}]})}_addCheck(t){return new qc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ye.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ye.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ye.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ye.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ye.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}qc.create=e=>new qc({checks:[],typeName:Ee.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...$e(e)});class Ab extends Ke{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ve.boolean){const n=this._getOrReturnCtx(t);return he(n,{code:ee.invalid_type,expected:ve.boolean,received:n.parsedType}),ke}return cs(t.data)}}Ab.create=e=>new Ab({typeName:Ee.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...$e(e)});class Th extends Ke{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ve.date){const i=this._getOrReturnCtx(t);return he(i,{code:ee.invalid_type,expected:ve.date,received:i.parsedType}),ke}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return he(i,{code:ee.invalid_date}),ke}const n=new Kr;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),he(a,{code:ee.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),he(a,{code:ee.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Xe.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Th({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ye.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ye.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Th.create=e=>new Th({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ee.ZodDate,...$e(e)});class Ib extends Ke{_parse(t){if(this._getType(t)!==ve.symbol){const n=this._getOrReturnCtx(t);return he(n,{code:ee.invalid_type,expected:ve.symbol,received:n.parsedType}),ke}return cs(t.data)}}Ib.create=e=>new Ib({typeName:Ee.ZodSymbol,...$e(e)});class Ob extends Ke{_parse(t){if(this._getType(t)!==ve.undefined){const n=this._getOrReturnCtx(t);return he(n,{code:ee.invalid_type,expected:ve.undefined,received:n.parsedType}),ke}return cs(t.data)}}Ob.create=e=>new Ob({typeName:Ee.ZodUndefined,...$e(e)});class Mb extends Ke{_parse(t){if(this._getType(t)!==ve.null){const n=this._getOrReturnCtx(t);return he(n,{code:ee.invalid_type,expected:ve.null,received:n.parsedType}),ke}return cs(t.data)}}Mb.create=e=>new Mb({typeName:Ee.ZodNull,...$e(e)});class Db extends Ke{constructor(){super(...arguments),this._any=!0}_parse(t){return cs(t.data)}}Db.create=e=>new Db({typeName:Ee.ZodAny,...$e(e)});class Fb extends Ke{constructor(){super(...arguments),this._unknown=!0}_parse(t){return cs(t.data)}}Fb.create=e=>new Fb({typeName:Ee.ZodUnknown,...$e(e)});class Ia extends Ke{_parse(t){const r=this._getOrReturnCtx(t);return he(r,{code:ee.invalid_type,expected:ve.never,received:r.parsedType}),ke}}Ia.create=e=>new Ia({typeName:Ee.ZodNever,...$e(e)});class Lb extends Ke{_parse(t){if(this._getType(t)!==ve.undefined){const n=this._getOrReturnCtx(t);return he(n,{code:ee.invalid_type,expected:ve.void,received:n.parsedType}),ke}return cs(t.data)}}Lb.create=e=>new Lb({typeName:Ee.ZodVoid,...$e(e)});class Js extends Ke{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==ve.array)return he(r,{code:ee.invalid_type,expected:ve.array,received:r.parsedType}),ke;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(he(r,{code:o?ee.too_big:ee.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(he(r,{code:ee.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(he(r,{code:ee.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Aa(r,o,r.path,l)))).then(o=>Kr.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Aa(r,o,r.path,l)));return Kr.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Js({...this._def,minLength:{value:t,message:ye.toString(r)}})}max(t,r){return new Js({...this._def,maxLength:{value:t,message:ye.toString(r)}})}length(t,r){return new Js({...this._def,exactLength:{value:t,message:ye.toString(r)}})}nonempty(t){return this.min(1,t)}}Js.create=(e,t)=>new Js({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...$e(t)});function Zi(e){if(e instanceof St){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=_a.create(Zi(n))}return new St({...e._def,shape:()=>t})}else return e instanceof Js?new Js({...e._def,type:Zi(e.element)}):e instanceof _a?_a.create(Zi(e.unwrap())):e instanceof tl?tl.create(Zi(e.unwrap())):e instanceof Pi?Pi.create(e.items.map(t=>Zi(t))):e}class St extends Ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Xe.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ve.object){const d=this._getOrReturnCtx(t);return he(d,{code:ee.invalid_type,expected:ve.object,received:d.parsedType}),ke}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ia&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Aa(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Ia){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(he(a,{code:ee.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Aa(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>Kr.mergeObjectSync(n,d)):Kr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ye.errToObj,new St({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ye.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new St({...this._def,unknownKeys:"strip"})}passthrough(){return new St({...this._def,unknownKeys:"passthrough"})}extend(t){return new St({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new St({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ee.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new St({...this._def,catchall:t})}pick(t){const r={};for(const n of Xe.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new St({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Xe.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new St({...this._def,shape:()=>r})}deepPartial(){return Zi(this)}partial(t){const r={};for(const n of Xe.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new St({...this._def,shape:()=>r})}required(t){const r={};for(const n of Xe.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof _a;)i=i._def.innerType;r[n]=i}return new St({...this._def,shape:()=>r})}keyof(){return RR(Xe.objectKeys(this.shape))}}St.create=(e,t)=>new St({shape:()=>e,unknownKeys:"strip",catchall:Ia.create(),typeName:Ee.ZodObject,...$e(t)});St.strictCreate=(e,t)=>new St({shape:()=>e,unknownKeys:"strict",catchall:Ia.create(),typeName:Ee.ZodObject,...$e(t)});St.lazycreate=(e,t)=>new St({shape:e,unknownKeys:"strip",catchall:Ia.create(),typeName:Ee.ZodObject,...$e(t)});class Ah extends Ke{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new In(l.ctx.common.issues));return he(r,{code:ee.invalid_union,unionErrors:o}),ke}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new In(c));return he(r,{code:ee.invalid_union,unionErrors:l}),ke}}get options(){return this._def.options}}Ah.create=(e,t)=>new Ah({options:e,typeName:Ee.ZodUnion,...$e(t)});function Kg(e,t){const r=Qn(e),n=Qn(t);if(e===t)return{valid:!0,data:e};if(r===ve.object&&n===ve.object){const a=Xe.objectKeys(t),i=Xe.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Kg(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ve.array&&n===ve.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Kg(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ve.date&&n===ve.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ih extends Ke{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(Rb(i)||Rb(o))return ke;const l=Kg(i.value,o.value);return l.valid?((Pb(i)||Pb(o))&&r.dirty(),{status:r.value,value:l.data}):(he(n,{code:ee.invalid_intersection_types}),ke)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ih.create=(e,t,r)=>new Ih({left:e,right:t,typeName:Ee.ZodIntersection,...$e(r)});class Pi extends Ke{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ve.array)return he(n,{code:ee.invalid_type,expected:ve.array,received:n.parsedType}),ke;if(n.data.length<this._def.items.length)return he(n,{code:ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ke;!this._def.rest&&n.data.length>this._def.items.length&&(he(n,{code:ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Aa(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Kr.mergeArray(r,o)):Kr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Pi({...this._def,rest:t})}}Pi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pi({items:e,typeName:Ee.ZodTuple,rest:null,...$e(t)})};class $b extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ve.map)return he(n,{code:ee.invalid_type,expected:ve.map,received:n.parsedType}),ke;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:a._parse(new Aa(n,l,n.path,[d,"key"])),value:i._parse(new Aa(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ke;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ke;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}$b.create=(e,t,r)=>new $b({valueType:t,keyType:e,typeName:Ee.ZodMap,...$e(r)});class Hc extends Ke{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ve.set)return he(n,{code:ee.invalid_type,expected:ve.set,received:n.parsedType}),ke;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(he(n,{code:ee.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(he(n,{code:ee.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ke;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new Aa(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Hc({...this._def,minSize:{value:t,message:ye.toString(r)}})}max(t,r){return new Hc({...this._def,maxSize:{value:t,message:ye.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Hc.create=(e,t)=>new Hc({valueType:e,minSize:null,maxSize:null,typeName:Ee.ZodSet,...$e(t)});class Ub extends Ke{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ub.create=(e,t)=>new Ub({getter:e,typeName:Ee.ZodLazy,...$e(t)});class Vb extends Ke{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return he(r,{received:r.data,code:ee.invalid_literal,expected:this._def.value}),ke}return{status:"valid",value:t.data}}get value(){return this._def.value}}Vb.create=(e,t)=>new Vb({value:e,typeName:Ee.ZodLiteral,...$e(t)});function RR(e,t){return new Jo({values:e,typeName:Ee.ZodEnum,...$e(t)})}class Jo extends Ke{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return he(r,{expected:Xe.joinValues(n),received:r.parsedType,code:ee.invalid_type}),ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return he(r,{received:r.data,code:ee.invalid_enum_value,options:n}),ke}return cs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Jo.create(t,{...this._def,...r})}exclude(t,r=this._def){return Jo.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Jo.create=RR;class Bb extends Ke{_parse(t){const r=Xe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ve.string&&n.parsedType!==ve.number){const a=Xe.objectValues(r);return he(n,{expected:Xe.joinValues(a),received:n.parsedType,code:ee.invalid_type}),ke}if(this._cache||(this._cache=new Set(Xe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Xe.objectValues(r);return he(n,{received:n.data,code:ee.invalid_enum_value,options:a}),ke}return cs(t.data)}get enum(){return this._def.values}}Bb.create=(e,t)=>new Bb({values:e,typeName:Ee.ZodNativeEnum,...$e(t)});class Oh extends Ke{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ve.promise&&r.common.async===!1)return he(r,{code:ee.invalid_type,expected:ve.promise,received:r.parsedType}),ke;const n=r.parsedType===ve.promise?r.data:Promise.resolve(r.data);return cs(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Oh.create=(e,t)=>new Oh({type:e,typeName:Ee.ZodPromise,...$e(t)});class el extends Ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{he(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ke;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ke:c.status==="dirty"||r.value==="dirty"?Gl(c.value):c});{if(r.value==="aborted")return ke;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ke:l.status==="dirty"||r.value==="dirty"?Gl(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ke:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ke:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Xo(o))return ke;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Xo(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):ke);Xe.assertNever(a)}}el.create=(e,t,r)=>new el({schema:e,typeName:Ee.ZodEffects,effect:t,...$e(r)});el.createWithPreprocess=(e,t,r)=>new el({schema:t,effect:{type:"preprocess",transform:e},typeName:Ee.ZodEffects,...$e(r)});class _a extends Ke{_parse(t){return this._getType(t)===ve.undefined?cs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_a.create=(e,t)=>new _a({innerType:e,typeName:Ee.ZodOptional,...$e(t)});class tl extends Ke{_parse(t){return this._getType(t)===ve.null?cs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}tl.create=(e,t)=>new tl({innerType:e,typeName:Ee.ZodNullable,...$e(t)});class Yg extends Ke{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ve.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Yg.create=(e,t)=>new Yg({innerType:e,typeName:Ee.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...$e(t)});class Qg extends Ke{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ph(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new In(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new In(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Qg.create=(e,t)=>new Qg({innerType:e,typeName:Ee.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...$e(t)});class zb extends Ke{_parse(t){if(this._getType(t)!==ve.nan){const n=this._getOrReturnCtx(t);return he(n,{code:ee.invalid_type,expected:ve.nan,received:n.parsedType}),ke}return{status:"valid",value:t.data}}}zb.create=e=>new zb({typeName:Ee.ZodNaN,...$e(e)});class h9 extends Ke{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class yy extends Ke{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ke:i.status==="dirty"?(r.dirty(),Gl(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ke:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new yy({in:t,out:r,typeName:Ee.ZodPipeline})}}class Xg extends Ke{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Xo(a)&&(a.value=Object.freeze(a.value)),a);return Ph(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Xg.create=(e,t)=>new Xg({innerType:e,typeName:Ee.ZodReadonly,...$e(t)});St.lazycreate;var Ee;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));const Cr=ua.create,PR=Zo.create;Ia.create;Js.create;const TR=St.create;St.strictCreate;Ah.create;Ih.create;Pi.create;Jo.create;Oh.create;_a.create;tl.create;const AR=wz,IR=f.createContext({}),Er=({...e})=>s.jsx(IR.Provider,{value:{name:e.name},children:s.jsx(Nz,{...e})}),Uf=()=>{const e=f.useContext(IR),t=f.useContext(OR),{getFieldState:r,formState:n}=$f(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},OR=f.createContext({}),hr=f.forwardRef(({className:e,...t},r)=>{const n=f.useId();return s.jsx(OR.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:J("space-y-2",e),...t})})});hr.displayName="FormItem";const fr=f.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Uf();return s.jsx(z,{ref:r,className:J(n&&"text-destructive",e),htmlFor:a,...t})});fr.displayName="FormLabel";const mr=f.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Uf();return s.jsx(pN,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});mr.displayName="FormControl";const f9=f.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Uf();return s.jsx("p",{ref:r,id:n,className:J("text-sm text-muted-foreground",e),...t})});f9.displayName="FormDescription";const pr=f.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=Uf(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:J("text-sm font-medium text-destructive",e),...r,children:o}):null});pr.displayName="FormMessage";const Qm=[{name:"avatar_name",label:"Avatar Name",suggestions:["John","Sarah","Mike","Emily","David"]},{name:"avatar_age",label:"Avatar Age",suggestions:["25","35","45","55"]},{name:"avatar_gender",label:"Avatar Gender",suggestions:["Male","Female"]},{name:"background",label:"Background",suggestions:["Office","Warehouse","Outdoor","Kitchen","Jobsite"]},{name:"tone",label:"Tone",suggestions:["Professional","Friendly","Energetic","Casual"]},{name:"industry_override",label:"Industry",suggestions:["Roofing","HVAC","Plumbing","Electrical","Landscaping"]}],m9=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),p9=({variables:e,onChange:t})=>{const[r,n]=f.useState({}),a=(m,p)=>{if(e.some(y=>y.name===m))return;const w={id:m9(),name:m,label:p,values:[]};t([...e,w])},i=m=>{t(e.filter(p=>p.id!==m))},o=m=>{var w;const p=(w=r[m])==null?void 0:w.trim();p&&(t(e.map(y=>y.id===m&&!y.values.includes(p)?{...y,values:[...y.values,p]}:y)),n(y=>({...y,[m]:""})))},l=(m,p)=>{t(e.map(w=>w.id===m?{...w,values:w.values.filter(y=>y!==p)}:w))},c=(m,p)=>{t(e.map(w=>w.id===m&&!w.values.includes(p)?{...w,values:[...w.values,p]}:w))},d=e.map(m=>m.name),u=Qm.filter(m=>!d.includes(m.name)),h=()=>e.length===0?1:e.reduce((m,p)=>m*Math.max(p.values.length,1),1);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{className:"text-base font-semibold",children:"Variables"}),s.jsxs(Ze,{onValueChange:m=>{const p=Qm.find(w=>w.name===m);p&&a(p.name,p.label)},children:[s.jsx(He,{className:"w-48",children:s.jsx(Je,{placeholder:"Add variable..."})}),s.jsx(Ge,{children:u.map(m=>s.jsx(K,{value:m.name,children:m.label},m.name))})]})]}),e.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[s.jsx("p",{children:"No variables added yet."}),s.jsx("p",{className:"text-sm",children:"Add variables to create video variations."})]}),s.jsx("div",{className:"space-y-4",children:e.map(m=>{var y;const p=Qm.find(v=>v.name===m.name),w=p==null?void 0:p.suggestions.filter(v=>!m.values.includes(v));return s.jsxs(H,{className:"border-border",children:[s.jsxs(se,{className:"py-3 px-4 flex flex-row items-center justify-between",children:[s.jsx(ne,{className:"text-sm font-medium",children:m.label}),s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>i(m.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx(od,{className:"h-4 w-4"})})]}),s.jsxs(Y,{className:"py-3 px-4 space-y-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.values.map(v=>s.jsxs(re,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1",children:[v,s.jsx("button",{onClick:()=>l(m.id,v),className:"ml-1 hover:text-destructive",children:s.jsx(tn,{className:"h-3 w-3"})})]},v)),m.values.length===0&&s.jsx("span",{className:"text-sm text-muted-foreground",children:"No values added"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ne,{placeholder:`Add ${m.label.toLowerCase()} value...`,value:r[m.id]||"",onChange:v=>n(b=>({...b,[m.id]:v.target.value})),onKeyDown:v=>{v.key==="Enter"&&(v.preventDefault(),o(m.id))},className:"flex-1"}),s.jsx(V,{type:"button",size:"sm",onClick:()=>o(m.id),disabled:!((y=r[m.id])!=null&&y.trim()),children:s.jsx(Dr,{className:"h-4 w-4"})})]}),w&&w.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground mr-1",children:"Suggestions:"}),w.map(v=>s.jsxs("button",{onClick:()=>c(m.id,v),className:"text-xs px-2 py-0.5 rounded-full bg-muted hover:bg-muted-foreground/20 text-muted-foreground hover:text-foreground transition-colors",children:["+ ",v]},v))]})]})]},m.id)})}),e.length>0&&s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium",children:"Total Variations:"}),s.jsxs(re,{variant:"default",className:"text-lg px-4 py-1",children:[h()," videos"]})]})]})};function g9(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var wy="ScrollArea",[MR,RW]=Ot(wy),[x9,ds]=MR(wy),DR=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=f.useState(null),[d,u]=f.useState(null),[h,m]=f.useState(null),[p,w]=f.useState(null),[y,v]=f.useState(null),[b,g]=f.useState(0),[x,j]=f.useState(0),[_,N]=f.useState(!1),[k,S]=f.useState(!1),E=be(t,P=>c(P)),I=Ua(a);return s.jsx(x9,{scope:r,type:n,dir:I,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:_,onScrollbarXEnabledChange:N,scrollbarY:y,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:S,onCornerWidthChange:g,onCornerHeightChange:j,children:s.jsx(ce.div,{dir:I,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});DR.displayName=wy;var FR="ScrollAreaViewport",LR=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=ds(FR,r),l=f.useRef(null),c=be(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(ce.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});LR.displayName=FR;var an="ScrollAreaScrollbar",by=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ds(an,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return f.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(v9,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(y9,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx($R,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(jy,{...n,ref:t}):null});by.displayName=an;var v9=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ds(an,e.__scopeScrollArea),[i,o]=f.useState(!1);return f.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Kt,{present:r||i,children:s.jsx($R,{"data-state":i?"visible":"hidden",...n,ref:t})})}),y9=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ds(an,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Bf(()=>c("SCROLL_END"),100),[l,c]=g9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),f.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const p=d[u];h!==p&&(c("SCROLL"),o()),h=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(Kt,{present:r||l!=="hidden",children:s.jsx(jy,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:X(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:X(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),$R=f.forwardRef((e,t)=>{const r=ds(an,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=f.useState(!1),l=e.orientation==="horizontal",c=Bf(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return rl(r.viewport,c),rl(r.content,c),s.jsx(Kt,{present:n||i,children:s.jsx(jy,{"data-state":i?"visible":"hidden",...a,ref:t})})}),jy=f.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ds(an,e.__scopeScrollArea),i=f.useRef(null),o=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=WR(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,p){return S9(m,o.current,l,p)}return r==="horizontal"?s.jsx(w9,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,p=Wb(m,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=h(m,a.dir))}}):r==="vertical"?s.jsx(b9,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,p=Wb(m,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=h(m))}}):null}),w9=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ds(an,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=be(t,c,i.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(VR,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Vf(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),HR(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Dh(o.paddingLeft),paddingEnd:Dh(o.paddingRight)}})}})}),b9=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ds(an,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=be(t,c,i.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(VR,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Vf(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),HR(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Dh(o.paddingTop),paddingEnd:Dh(o.paddingBottom)}})}})}),[j9,UR]=MR(an),VR=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=e,p=ds(an,r),[w,y]=f.useState(null),v=be(t,E=>y(E)),b=f.useRef(null),g=f.useRef(""),x=p.viewport,j=n.content-n.viewport,_=Ct(u),N=Ct(c),k=Bf(h,10);function S(E){if(b.current){const I=E.clientX-b.current.left,P=E.clientY-b.current.top;d({x:I,y:P})}}return f.useEffect(()=>{const E=I=>{const P=I.target;(w==null?void 0:w.contains(P))&&_(I,j)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[x,w,j,_]),f.useEffect(N,[n,N]),rl(w,k),rl(p.content,k),s.jsx(j9,{scope:r,scrollbar:w,hasThumb:a,onThumbChange:Ct(i),onThumbPointerUp:Ct(o),onThumbPositionChange:N,onThumbPointerDown:Ct(l),children:s.jsx(ce.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:X(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),b.current=w.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),S(E))}),onPointerMove:X(e.onPointerMove,S),onPointerUp:X(e.onPointerUp,E=>{const I=E.target;I.hasPointerCapture(E.pointerId)&&I.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=g.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),Mh="ScrollAreaThumb",BR=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=UR(Mh,e.__scopeScrollArea);return s.jsx(Kt,{present:r||a.hasThumb,children:s.jsx(_9,{ref:t,...n})})}),_9=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=ds(Mh,r),o=UR(Mh,r),{onThumbPositionChange:l}=o,c=be(t,h=>o.onThumbChange(h)),d=f.useRef(void 0),u=Bf(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(u(),!d.current){const p=k9(h,l);d.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,u,l]),s.jsx(ce.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:X(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),w=h.clientX-p.left,y=h.clientY-p.top;o.onThumbPointerDown({x:w,y})}),onPointerUp:X(e.onPointerUp,o.onThumbPointerUp)})});BR.displayName=Mh;var _y="ScrollAreaCorner",zR=f.forwardRef((e,t)=>{const r=ds(_y,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(N9,{...e,ref:t}):null});zR.displayName=_y;var N9=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ds(_y,r),[i,o]=f.useState(0),[l,c]=f.useState(0),d=!!(i&&l);return rl(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),rl(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(ce.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Dh(e){return e?parseInt(e,10):0}function WR(e,t){const r=e/t;return isNaN(r)?0:r}function Vf(e){const t=WR(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function S9(e,t,r,n="ltr"){const a=Vf(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return qR([c,d],h)(e)}function Wb(e,t,r="ltr"){const n=Vf(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=Wc(e,c);return qR([0,o],[0,l])(d)}function qR(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function HR(e,t){return e>0&&e<t}var k9=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Bf(e,t){const r=Ct(e),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function rl(e,t){const r=Ct(t);Rt(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var GR=DR,C9=LR,E9=zR;const Cd=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(GR,{ref:n,className:J("relative overflow-hidden",e),...r,children:[s.jsx(C9,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(KR,{}),s.jsx(E9,{})]}));Cd.displayName=GR.displayName;const KR=f.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(by,{ref:n,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(BR,{className:"relative flex-1 rounded-full bg-border"})}));KR.displayName=by.displayName;const Fh=e=>{const t=e.filter(i=>i.values.length>0);if(t.length===0)return[{}];const[r,...n]=t,a=Fh(n);return r.values.flatMap(i=>a.map(o=>({...o,[r.name]:i})))},R9=({variables:e,baseConfig:t})=>{const r=Fh(e),n=e.filter(a=>a.values.length>0);return n.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:s.jsx("p",{children:"Add variables with values to see variations preview."})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold",children:"Preview Variations"}),s.jsxs(re,{variant:"outline",children:[r.length," variations"]})]}),s.jsx(Cd,{className:"h-[400px] rounded-md border",children:s.jsxs(Ci,{children:[s.jsx(Ei,{children:s.jsxs(Br,{children:[s.jsx(Ye,{className:"w-12",children:"#"}),n.map(a=>s.jsx(Ye,{children:a.label},a.name)),s.jsx(Ye,{children:"Industry"}),s.jsx(Ye,{children:"City"})]})}),s.jsx(Ri,{children:r.map((a,i)=>s.jsxs(Br,{children:[s.jsx(Qe,{className:"font-medium",children:i+1}),n.map(o=>s.jsx(Qe,{children:s.jsx(re,{variant:"secondary",children:a[o.name]})},o.name)),s.jsx(Qe,{children:a.industry_override||t.industry}),s.jsx(Qe,{children:t.city})]},i))})]})}),t.storyIdea&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Base Story Idea:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t.storyIdea}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Variables will be substituted: ","{avatar_name}",", ","{background}",", etc."]})]})]})},P9=TR({name:Cr().min(1,"Batch name is required"),imageUrl:Cr().optional(),industry:Cr().min(1,"Industry is required"),city:Cr().min(1,"City is required"),storyIdea:Cr().optional(),model:Cr().default("veo3_fast"),aspectRatio:Cr().default("16:9"),numberOfScenes:PR().min(1).max(10).default(3)}),T9=({userId:e,onBatchCreated:t})=>{const{toast:r}=ct(),[n,a]=f.useState(!1),[i,o]=f.useState([]),[l,c]=f.useState("config"),[d,u]=f.useState("image"),[h,m]=f.useState(null),p=NR({resolver:kR(P9),defaultValues:{name:"",imageUrl:"",industry:"",city:"",storyIdea:"",model:"veo3_fast",aspectRatio:"16:9",numberOfScenes:3}}),w=async x=>{if(m(x),x){const{data:j}=await F.from("jobsite_photos").select("file_url").eq("id",x).single();j&&p.setValue("imageUrl",j.file_url)}else p.setValue("imageUrl","")},y=x=>{u(x),x==="text"&&(m(null),p.setValue("imageUrl","")),p.setValue("aspectRatio","16:9")},v=async x=>{if(d==="image"&&!x.imageUrl){r({title:"Image required",description:"Please select or upload a business image for Image Reference mode",variant:"destructive"});return}const j=Fh(i);if(j.length===0||j.length===1&&Object.keys(j[0]).length===0){r({title:"No variations defined",description:"Please add at least one variable with values",variant:"destructive"});return}a(!0);try{const _=d==="image"?"REFERENCE_2_VIDEO":"TEXT_2_VIDEO",{data:N,error:k}=await F.from("bulk_video_batches").insert([{user_id:e,name:x.name,base_image_url:d==="image"?x.imageUrl:null,base_industry:x.industry,base_city:x.city,base_story_idea:x.storyIdea||null,variables:JSON.parse(JSON.stringify(i)),total_variations:j.length,model:x.model,aspect_ratio:x.aspectRatio,number_of_scenes:x.numberOfScenes,status:"generating",generation_type:_}]).select().single();if(k)throw k;const{error:S}=await F.functions.invoke("bulk-generate-videos",{body:{batch_id:N.id,combinations:j,base_config:{image_url:d==="image"?x.imageUrl:null,generation_type:_,industry:x.industry,city:x.city,story_idea:x.storyIdea,model:x.model,aspect_ratio:x.aspectRatio,number_of_scenes:x.numberOfScenes}}});if(S)throw S;r({title:"Bulk generation started!",description:`Creating ${j.length} video variations`}),t(N.id),p.reset(),o([]),m(null),u("image")}catch(_){console.error("Error creating batch:",_),r({title:"Failed to start bulk generation",description:_ instanceof Error?_.message:"Unknown error",variant:"destructive"})}finally{a(!1)}},b=Fh(i),g=i.some(x=>x.values.length>0)?b.length:0;return s.jsx(AR,{...p,children:s.jsxs("form",{onSubmit:p.handleSubmit(v),className:"space-y-6",children:[s.jsxs(ir,{value:l,onValueChange:c,children:[s.jsxs(Jt,{className:"grid w-full grid-cols-3",children:[s.jsxs(Te,{value:"config",className:"flex items-center gap-2",children:[s.jsx(Ea,{className:"h-4 w-4"}),"Base Config"]}),s.jsxs(Te,{value:"variables",className:"flex items-center gap-2",children:[s.jsx(rh,{className:"h-4 w-4"}),"Variables",g>0&&s.jsx("span",{className:"ml-1 px-2 py-0.5 bg-primary text-primary-foreground rounded-full text-xs",children:g})]}),s.jsxs(Te,{value:"preview",className:"flex items-center gap-2",children:[s.jsx(Ca,{className:"h-4 w-4"}),"Preview"]})]}),s.jsx(Me,{value:"config",className:"space-y-4 mt-4",children:s.jsxs(H,{children:[s.jsx(se,{children:s.jsx(ne,{className:"text-lg",children:"Base Configuration"})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsx(Er,{control:p.control,name:"name",render:({field:x})=>s.jsxs(hr,{children:[s.jsx(fr,{children:"Batch Name"}),s.jsx(mr,{children:s.jsx(Ne,{placeholder:"e.g., Q1 Marketing Campaign",...x})}),s.jsx(pr,{})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(z,{children:"Generation Mode"}),s.jsxs(Gs,{value:d,onValueChange:x=>y(x),className:"grid grid-cols-2 gap-4",children:[s.jsxs(z,{htmlFor:"mode-image",className:`flex items-center gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${d==="image"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx(Vt,{value:"image",id:"mode-image"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_n,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Image Reference"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use a reference image (16:9)"})]})]})]}),s.jsxs(z,{htmlFor:"mode-text",className:`flex items-center gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${d==="text"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx(Vt,{value:"text",id:"mode-text"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Prompt Only"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Text-based generation"})]})]})]})]})]}),d==="image"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Business Image"}),s.jsx(Fi,{selectedPhotoId:h,onPhotoSelect:w})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Er,{control:p.control,name:"industry",render:({field:x})=>s.jsxs(hr,{children:[s.jsx(fr,{children:"Industry"}),s.jsx(mr,{children:s.jsx(Ne,{placeholder:"e.g., Roofing, HVAC, Plumbing",...x})}),s.jsx(pr,{})]})}),s.jsx(Er,{control:p.control,name:"city",render:({field:x})=>s.jsxs(hr,{children:[s.jsx(fr,{children:"City"}),s.jsx(mr,{children:s.jsx(Ne,{placeholder:"e.g., Austin, TX",...x})}),s.jsx(pr,{})]})})]}),s.jsx(Er,{control:p.control,name:"storyIdea",render:({field:x})=>s.jsxs(hr,{children:[s.jsx(fr,{children:"Story Idea (Optional)"}),s.jsx(mr,{children:s.jsx(lt,{placeholder:"Describe the video concept. Use {avatar_name}, {background}, etc. for variable substitution...",className:"min-h-[100px]",...x})}),s.jsx(pr,{})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(Er,{control:p.control,name:"model",render:({field:x})=>s.jsxs(hr,{children:[s.jsx(fr,{children:"Model"}),s.jsxs(Ze,{onValueChange:x.onChange,value:x.value,children:[s.jsx(mr,{children:s.jsx(He,{children:s.jsx(Je,{})})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"veo3_fast",children:"Veo3 Fast"}),s.jsx(K,{value:"veo3",children:"Veo3 Quality"})]})]}),s.jsx(pr,{})]})}),s.jsx(Er,{control:p.control,name:"aspectRatio",render:({field:x})=>s.jsxs(hr,{children:[s.jsx(fr,{children:"Aspect Ratio"}),s.jsxs(Ze,{onValueChange:x.onChange,value:x.value,children:[s.jsx(mr,{children:s.jsx(He,{children:s.jsx(Je,{})})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"16:9",children:"16:9 (Landscape)"}),d==="text"&&s.jsxs(s.Fragment,{children:[s.jsx(K,{value:"9:16",children:"9:16 (Portrait)"}),s.jsx(K,{value:"auto",children:"Auto"})]})]})]}),d==="image"&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Image mode requires 16:9"}),s.jsx(pr,{})]})}),s.jsx(Er,{control:p.control,name:"numberOfScenes",render:({field:x})=>s.jsxs(hr,{children:[s.jsx(fr,{children:"Scenes"}),s.jsxs(Ze,{onValueChange:j=>x.onChange(parseInt(j)),value:x.value.toString(),children:[s.jsx(mr,{children:s.jsx(He,{children:s.jsx(Je,{})})}),s.jsx(Ge,{children:[1,2,3,4,5].map(j=>s.jsxs(K,{value:j.toString(),children:[j," ",j===1?"scene":"scenes"]},j))})]}),s.jsx(pr,{})]})})]})]})]})}),s.jsx(Me,{value:"variables",className:"mt-4",children:s.jsxs(H,{children:[s.jsx(se,{children:s.jsx(ne,{className:"text-lg",children:"Define Variables"})}),s.jsx(Y,{children:s.jsx(p9,{variables:i,onChange:o})})]})}),s.jsx(Me,{value:"preview",className:"mt-4",children:s.jsx(H,{children:s.jsx(Y,{className:"pt-6",children:s.jsx(R9,{variables:i,baseConfig:{industry:p.watch("industry"),city:p.watch("city"),storyIdea:p.watch("storyIdea")}})})})})]}),s.jsx(V,{type:"submit",className:"w-full",disabled:n||g===0,children:n?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}),"Starting Bulk Generation..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Generate ",g," Video Variations"]})})]})})},A9=({userId:e,onSelectBatch:t})=>{const[r,n]=f.useState([]),[a,i]=f.useState(!0);f.useEffect(()=>{const d=async()=>{const{data:h}=await F.from("bulk_video_batches").select("*").eq("user_id",e).order("created_at",{ascending:!1});h&&n(h),i(!1)};d();const u=F.channel("bulk-batches").on("postgres_changes",{event:"*",schema:"public",table:"bulk_video_batches"},()=>{d()}).subscribe();return()=>{F.removeChannel(u)}},[e]);const o=async d=>{const{error:u}=await F.from("bulk_video_batches").delete().eq("id",d);u||n(h=>h.filter(m=>m.id!==d))},l=d=>{switch(d){case"completed":return s.jsx(Ec,{className:"h-4 w-4 text-success"});case"failed":return s.jsx(Wt,{className:"h-4 w-4 text-destructive"});case"generating":return s.jsx(we,{className:"h-4 w-4 animate-spin text-primary"});default:return s.jsx(Es,{className:"h-4 w-4 text-muted-foreground"})}},c=d=>{switch(d){case"completed":return s.jsx(re,{className:"bg-success",children:"Completed"});case"failed":return s.jsx(re,{variant:"destructive",children:"Failed"});case"generating":return s.jsx(re,{children:"Generating"});default:return s.jsx(re,{variant:"secondary",children:d})}};return a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(we,{className:"h-6 w-6 animate-spin text-primary"})}):r.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[s.jsx("p",{className:"text-lg font-medium",children:"No bulk batches yet"}),s.jsx("p",{className:"text-sm",children:"Create your first bulk video generation above."})]}):s.jsx(Cd,{className:"h-[500px]",children:s.jsx("div",{className:"space-y-4",children:r.map(d=>{const u=d.total_variations>0?Math.round((d.completed_variations+d.failed_variations)/d.total_variations*100):0;return s.jsxs(H,{className:"border-border",children:[s.jsx(se,{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[l(d.status),s.jsxs("div",{children:[s.jsx(ne,{className:"text-base",children:d.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.base_industry," "," ",vl(new Date(d.created_at),{addSuffix:!0})]})]})]}),c(d.status)]})}),s.jsxs(Y,{className:"py-3 px-4 space-y-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[d.completed_variations+d.failed_variations," /"," ",d.total_variations]})]}),s.jsx(_d,{value:u,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-3 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ec,{className:"h-3 w-3 text-success"}),d.completed_variations]}),d.failed_variations>0&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wt,{className:"h-3 w-3 text-destructive"}),d.failed_variations]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>t(d.id),children:[s.jsx(Ca,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>o(d.id),className:"text-destructive hover:text-destructive",children:s.jsx(od,{className:"h-4 w-4"})})]})]})]})]},d.id)})})})},I9=({batchId:e,onComplete:t})=>{const[r,n]=f.useState(null),[a,i]=f.useState([]);if(f.useEffect(()=>{const d=async()=>{const{data:h}=await F.from("bulk_video_batches").select("*").eq("id",e).single();h&&n(h);const{data:m}=await F.from("bulk_batch_generations").select(`
          *,
          generation:kie_video_generations(
            initial_status,
            initial_video_url,
            final_video_url,
            final_video_status,
            initial_error
          )
        `).eq("batch_id",e).order("variation_index",{ascending:!0});m&&i(m)};d();const u=F.channel(`batch-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"bulk_video_batches",filter:`id=eq.${e}`},h=>{h.new&&(n(h.new),h.new.status==="completed"&&(t==null||t()))}).on("postgres_changes",{event:"*",schema:"public",table:"kie_video_generations"},()=>{d()}).subscribe();return()=>{F.removeChannel(u)}},[e,t]),!r)return s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(we,{className:"h-6 w-6 animate-spin text-primary"})});const o=r.total_variations>0?Math.round((r.completed_variations+r.failed_variations)/r.total_variations*100):0,l=d=>{var h,m;const u=((h=d.generation)==null?void 0:h.final_video_status)||((m=d.generation)==null?void 0:m.initial_status);return u==="completed"?s.jsx(Ec,{className:"h-4 w-4 text-success"}):u==="failed"?s.jsx(Wt,{className:"h-4 w-4 text-destructive"}):u==="processing"||u==="pending"?s.jsx(we,{className:"h-4 w-4 animate-spin text-primary"}):s.jsx(Es,{className:"h-4 w-4 text-muted-foreground"})},c=d=>{switch(d){case"completed":return s.jsx(re,{variant:"default",className:"bg-success",children:"Completed"});case"failed":return s.jsx(re,{variant:"destructive",children:"Failed"});case"generating":return s.jsx(re,{variant:"default",children:"Generating"});default:return s.jsx(re,{variant:"secondary",children:d})}};return s.jsxs(H,{children:[s.jsx(se,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-lg",children:r.name}),c(r.status)]})}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[r.completed_variations+r.failed_variations," / ",r.total_variations]})]}),s.jsx(_d,{value:o,className:"h-2"}),s.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ec,{className:"h-3 w-3 text-success"}),r.completed_variations," completed"]}),r.failed_variations>0&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wt,{className:"h-3 w-3 text-destructive"}),r.failed_variations," failed"]})]})]}),s.jsx(Cd,{className:"h-[300px]",children:s.jsx("div",{className:"space-y-2",children:a.map(d=>{var u;return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[l(d),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:["Variation #",d.variation_index+1]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Object.entries(d.variable_values).map(([h,m])=>`${h}: ${m}`).join(", ")})]})]}),((u=d.generation)==null?void 0:u.initial_video_url)&&s.jsxs("a",{href:d.generation.final_video_url||d.generation.initial_video_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary hover:underline text-sm",children:[s.jsx(Lt,{className:"h-4 w-4"}),"View"]})]},d.id)})})})]})]})},O9=()=>{const e=at(),[t,r]=f.useState(null),[n,a]=f.useState("create"),[i,o]=f.useState(null);f.useEffect(()=>{(async()=>{const{data:u}=await F.auth.getUser();if(!u.user){e("/auth");return}r(u.user.id)})()},[e]);const l=d=>{o(d),a("batches")},c=d=>{o(d)};return t?s.jsxs("div",{className:"flex min-h-screen bg-background",children:[s.jsx(ls,{}),s.jsx("main",{className:"flex-1 p-8 overflow-auto",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:s.jsx(Wr,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Bulk Video Generator"}),s.jsx("p",{className:"text-muted-foreground",children:"Create multiple video variations from a single base configuration"})]})]}),s.jsxs(ir,{value:n,onValueChange:a,children:[s.jsxs(Jt,{children:[s.jsxs(Te,{value:"create",className:"flex items-center gap-2",children:[s.jsx(Dr,{className:"h-4 w-4"}),"Create Batch"]}),s.jsxs(Te,{value:"batches",className:"flex items-center gap-2",children:[s.jsx(Jx,{className:"h-4 w-4"}),"My Batches"]})]}),s.jsx(Me,{value:"create",className:"mt-6",children:s.jsx(T9,{userId:t,onBatchCreated:l})}),s.jsx(Me,{value:"batches",className:"mt-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"All Batches"}),s.jsx(A9,{userId:t,onSelectBatch:c})]}),i&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Batch Details"}),s.jsx(I9,{batchId:i})]})]})})]})]})})]}):null},M9=TR({batchName:Cr().min(1,"Batch name is required"),imageUrl:Cr().optional(),industry:Cr().min(1,"Industry is required"),city:Cr().min(1,"City is required"),storyIdea:Cr().optional(),model:Cr().default("veo3_fast"),aspectRatio:Cr().default("16:9"),numberOfScenes:PR().min(1).max(10).default(3)}),D9=({onUpdate:e,initialData:t})=>{const[r,n]=f.useState("image"),[a,i]=f.useState(null),o=NR({resolver:kR(M9),defaultValues:{batchName:(t==null?void 0:t.batchName)||"",imageUrl:(t==null?void 0:t.imageUrl)||"",industry:(t==null?void 0:t.industry)||"",city:(t==null?void 0:t.city)||"",storyIdea:(t==null?void 0:t.storyIdea)||"",model:(t==null?void 0:t.model)||"veo3_fast",aspectRatio:(t==null?void 0:t.aspectRatio)||"16:9",numberOfScenes:(t==null?void 0:t.numberOfScenes)||3}}),l=d=>{i(d),d?F.from("jobsite_photos").select("file_url").eq("id",d).single().then(({data:u})=>{u&&o.setValue("imageUrl",u.file_url)}):o.setValue("imageUrl","")},c=d=>{n(d),d==="text"&&(o.setValue("imageUrl",""),i(null))};return f.useEffect(()=>{const d=o.watch(u=>{e(u)});return()=>d.unsubscribe()},[o,e]),s.jsx(AR,{...o,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(H,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Batch Details"}),s.jsx(Ce,{children:"Name your batch and configure generation settings"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsx(Er,{control:o.control,name:"batchName",render:({field:d})=>s.jsxs(hr,{children:[s.jsx(fr,{children:"Batch Name"}),s.jsx(mr,{children:s.jsx(Ne,{placeholder:"My Video Batch",...d})}),s.jsx(pr,{})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(z,{children:"Generation Mode"}),s.jsxs(Gs,{value:r,onValueChange:d=>c(d),className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{value:"image",id:"mode-image"}),s.jsxs(z,{htmlFor:"mode-image",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(_n,{className:"h-4 w-4"}),"Image Reference"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vt,{value:"text",id:"mode-text"}),s.jsxs(z,{htmlFor:"mode-text",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(rv,{className:"h-4 w-4"}),"Text Only"]})]})]})]}),r==="image"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Business Image"}),s.jsx(Fi,{selectedPhotoId:a,onPhotoSelect:l})]})]})]}),s.jsxs(H,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Content Settings"}),s.jsx(Ce,{children:"Define the base content for your videos"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Er,{control:o.control,name:"industry",render:({field:d})=>s.jsxs(hr,{children:[s.jsx(fr,{children:"Industry"}),s.jsx(mr,{children:s.jsx(Ne,{placeholder:"e.g., Roofing",...d})}),s.jsx(pr,{})]})}),s.jsx(Er,{control:o.control,name:"city",render:({field:d})=>s.jsxs(hr,{children:[s.jsx(fr,{children:"City"}),s.jsx(mr,{children:s.jsx(Ne,{placeholder:"e.g., Austin",...d})}),s.jsx(pr,{})]})})]}),s.jsx(Er,{control:o.control,name:"storyIdea",render:({field:d})=>s.jsxs(hr,{children:[s.jsx(fr,{children:"Story Idea (Optional)"}),s.jsx(mr,{children:s.jsx(lt,{placeholder:"Describe the video story... Use {variable_name} for dynamic values",className:"min-h-[100px]",...d})}),s.jsx(pr,{})]})})]})]}),s.jsxs(H,{children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Video Settings"}),s.jsx(Ce,{children:"Configure video output parameters"})]}),s.jsx(Y,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(Er,{control:o.control,name:"model",render:({field:d})=>s.jsxs(hr,{children:[s.jsx(fr,{children:"Model"}),s.jsxs(Ze,{onValueChange:d.onChange,value:d.value,children:[s.jsx(mr,{children:s.jsx(He,{children:s.jsx(Je,{placeholder:"Select model"})})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"veo3_fast",children:"Veo3 Fast"}),s.jsx(K,{value:"veo3",children:"Veo3 Quality"})]})]}),s.jsx(pr,{})]})}),s.jsx(Er,{control:o.control,name:"aspectRatio",render:({field:d})=>s.jsxs(hr,{children:[s.jsx(fr,{children:"Aspect Ratio"}),s.jsxs(Ze,{onValueChange:d.onChange,value:d.value,children:[s.jsx(mr,{children:s.jsx(He,{children:s.jsx(Je,{placeholder:"Select ratio"})})}),s.jsxs(Ge,{children:[s.jsx(K,{value:"16:9",children:"16:9 (Landscape)"}),s.jsx(K,{value:"9:16",children:"9:16 (Portrait)"})]})]}),s.jsx(pr,{})]})}),s.jsx(Er,{control:o.control,name:"numberOfScenes",render:({field:d})=>{var u;return s.jsxs(hr,{children:[s.jsx(fr,{children:"Number of Scenes"}),s.jsxs(Ze,{onValueChange:h=>d.onChange(parseInt(h)),value:(u=d.value)==null?void 0:u.toString(),children:[s.jsx(mr,{children:s.jsx(He,{children:s.jsx(Je,{placeholder:"Scenes"})})}),s.jsx(Ge,{children:[1,2,3,4,5].map(h=>s.jsxs(K,{value:h.toString(),children:[h," ",h===1?"Scene":"Scenes"]},h))})]}),s.jsx(pr,{})]})}})]})})]})]})})};var zf="Checkbox",[F9,PW]=Ot(zf),[L9,Ny]=F9(zf);function $9(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[m,p]=xr({prop:r,defaultProp:a??!1,onChange:c,caller:zf}),[w,y]=f.useState(null),[v,b]=f.useState(null),g=f.useRef(!1),x=w?!!o||!!w.closest("form"):!0,j={checked:m,disabled:i,setChecked:p,control:w,setControl:y,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:g,required:d,defaultChecked:Na(a)?!1:a,isFormControl:x,bubbleInput:v,setBubbleInput:b};return s.jsx(L9,{scope:t,...j,children:U9(h)?h(j):n})}var YR="CheckboxTrigger",QR=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:w}=Ny(YR,e),y=be(a,u),v=f.useRef(c);return f.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const g=()=>h(v.current);return b.addEventListener("reset",g),()=>b.removeEventListener("reset",g)}},[i,h]),s.jsx(ce.button,{type:"button",role:"checkbox","aria-checked":Na(c)?"mixed":c,"aria-required":d,"data-state":tP(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:y,onKeyDown:X(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:X(r,b=>{h(g=>Na(g)?!0:!g),w&&p&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});QR.displayName=YR;var Sy=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return s.jsx($9,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(QR,{...h,ref:t,__scopeCheckbox:r}),m&&s.jsx(eP,{__scopeCheckbox:r})]})})});Sy.displayName=zf;var XR="CheckboxIndicator",ZR=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=Ny(XR,r);return s.jsx(Kt,{present:n||Na(i.checked)||i.checked===!0,children:s.jsx(ce.span,{"data-state":tP(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});ZR.displayName=XR;var JR="CheckboxBubbleInput",eP=f.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:m,setBubbleInput:p}=Ny(JR,e),w=be(r,p),y=Sd(i),v=dd(n);f.useEffect(()=>{const g=m;if(!g)return;const x=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(x,"checked").set,N=!a.current;if(y!==i&&_){const k=new Event("click",{bubbles:N});g.indeterminate=Na(i),_.call(g,Na(i)?!1:i),g.dispatchEvent(k)}},[m,y,i,a]);const b=f.useRef(Na(i)?!1:i);return s.jsx(ce.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:w,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});eP.displayName=JR;function U9(e){return typeof e=="function"}function Na(e){return e==="indeterminate"}function tP(e){return Na(e)?"indeterminate":e?"checked":"unchecked"}const rP=f.forwardRef(({className:e,...t},r)=>s.jsx(Sy,{ref:r,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(ZR,{className:J("flex items-center justify-center text-current"),children:s.jsx(vt,{className:"h-4 w-4"})})}));rP.displayName=Sy.displayName;const Za=[{name:"avatar_name",label:"Avatar Name",suggestions:["John","Sarah","Mike","Emily","David"]},{name:"avatar_age",label:"Avatar Age",suggestions:["25","35","45","55"]},{name:"avatar_gender",label:"Avatar Gender",suggestions:["Male","Female"]},{name:"background",label:"Background",suggestions:["Office","Jobsite","Outdoor","Modern Home"]},{name:"city_override",label:"City",suggestions:["Austin","Dallas","Houston","Phoenix","Denver"]},{name:"industry_override",label:"Industry",suggestions:["Roofing","HVAC","Plumbing","Electrical","Landscaping"]}],V9=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),B9=({variables:e,onChange:t,videoCount:r,onVideoCountChange:n,onGenerateCombinations:a,onAutoGenerateCombinations:i,totalPossibleCombinations:o})=>{const[l,c]=f.useState({}),[d,u]=f.useState(!1),[h,m]=f.useState(Za.map(S=>S.name)),p=(S,E)=>{if(e.some(P=>P.name===S))return;const I={id:V9(),name:S,label:E,values:[]};t([...e,I])},w=S=>{t(e.filter(E=>E.id!==S))},y=S=>{var I;const E=(I=l[S])==null?void 0:I.trim();E&&(t(e.map(P=>P.id===S&&!P.values.includes(E)?{...P,values:[...P.values,E]}:P)),c({...l,[S]:""}))},v=(S,E)=>{t(e.map(I=>I.id===S?{...I,values:I.values.filter(P=>P!==E)}:I))},b=(S,E)=>{t(e.map(I=>I.id===S&&!I.values.includes(E)?{...I,values:[...I.values,E]}:I))},g=S=>{m(E=>E.includes(S)?E.filter(I=>I!==S):[...E,S])},x=f.useMemo(()=>h.length===0?0:h.reduce((S,E)=>{const I=Za.find(P=>P.name===E);return S*((I==null?void 0:I.suggestions.length)||1)},1),[h]),j=Za.filter(S=>!e.some(E=>E.name===S.name)),_=Math.min(d?x:o,100),N=Math.min(r,_),k=()=>{i(h)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(H,{className:"border-primary/30",children:s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ac,{className:"h-5 w-5 text-primary"}),s.jsx(ne,{className:"text-base",children:"Auto Generate Mode"})]}),s.jsx(Sh,{checked:d,onCheckedChange:u})]}),s.jsx(Ce,{children:d?"Automatically create random combinations using all predefined values":"Manually select variables and add custom values"})]})}),d?s.jsxs(s.Fragment,{children:[s.jsxs(H,{children:[s.jsxs(se,{children:[s.jsx(ne,{className:"text-base",children:"Select Variables to Include"}),s.jsx(Ce,{children:"Check variables you want to include in auto-generation"})]}),s.jsx(Y,{className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Za.map(S=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-muted/30 hover:bg-muted/50 transition-colors",children:[s.jsx(rP,{id:S.name,checked:h.includes(S.name),onCheckedChange:()=>g(S.name)}),s.jsxs("div",{className:"flex-1",children:[s.jsx(z,{htmlFor:S.name,className:"cursor-pointer font-medium",children:S.label}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.suggestions.length," options"]})]})]},S.name))})})]}),s.jsxs(H,{className:"border-primary/50 bg-primary/5",children:[s.jsxs(se,{children:[s.jsxs(ne,{className:"text-base flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Auto Generate Combinations"]}),s.jsx(Ce,{children:x>0?`${x.toLocaleString()} possible combinations from selected variables`:"Select at least one variable"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"How many videos do you want to generate?"}),s.jsx(Ne,{type:"number",min:1,max:_,value:N,onChange:S=>{const E=parseInt(S.target.value)||1;n(Math.min(Math.max(1,E),_))},disabled:x===0}),x>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Max: ",Math.min(_,100)," videos"]})]}),s.jsxs(V,{onClick:k,disabled:h.length===0||N<1,className:"w-full",children:[s.jsx(Ac,{className:"h-4 w-4 mr-2"}),"Auto Generate ",N," Combinations"]})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(H,{children:[s.jsxs(se,{children:[s.jsx(ne,{className:"text-base",children:"Add Variable"}),s.jsx(Ce,{children:"Select variables to create variations"})]}),s.jsx(Y,{children:s.jsxs(Ze,{onValueChange:S=>{const E=Za.find(I=>I.name===S);E&&p(E.name,E.label)},value:"",children:[s.jsx(He,{children:s.jsx(Je,{placeholder:"Choose a variable to add..."})}),s.jsx(Ge,{children:j.map(S=>s.jsx(K,{value:S.name,children:S.label},S.name))})]})})]}),e.map(S=>{const E=Za.find(P=>P.name===S.name),I=E==null?void 0:E.suggestions.filter(P=>!S.values.includes(P));return s.jsxs(H,{children:[s.jsxs(se,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-base",children:S.label}),s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>w(S.id),className:"text-destructive hover:text-destructive",children:s.jsx(tn,{className:"h-4 w-4"})})]}),s.jsxs(Ce,{className:"text-xs",children:["Variable: ",`{${S.name}}`]})]}),s.jsxs(Y,{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.values.map(P=>s.jsxs(re,{variant:"secondary",className:"gap-1 pr-1",children:[P,s.jsx("button",{onClick:()=>v(S.id,P),className:"ml-1 hover:text-destructive",children:s.jsx(tn,{className:"h-3 w-3"})})]},P)),S.values.length===0&&s.jsx("span",{className:"text-sm text-muted-foreground",children:"No values added yet"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ne,{placeholder:"Add custom value...",value:l[S.id]||"",onChange:P=>c({...l,[S.id]:P.target.value}),onKeyDown:P=>{P.key==="Enter"&&(P.preventDefault(),y(S.id))}}),s.jsx(V,{variant:"outline",size:"icon",onClick:()=>y(S.id),children:s.jsx(Dr,{className:"h-4 w-4"})})]}),I&&I.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(z,{className:"text-xs text-muted-foreground",children:"Suggestions:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:I.map(P=>s.jsxs(V,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>b(S.id,P),children:["+ ",P]},P))})]})]})]},S.id)}),s.jsxs(H,{className:"border-primary/50 bg-primary/5",children:[s.jsxs(se,{children:[s.jsxs(ne,{className:"text-base flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Generate Combinations"]}),s.jsx(Ce,{children:o>0?`${o} possible combinations available`:"Add variables with values to generate combinations"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"How many videos do you want to generate?"}),s.jsx(Ne,{type:"number",min:1,max:_,value:N,onChange:S=>{const E=parseInt(S.target.value)||1;n(Math.min(Math.max(1,E),_))},disabled:o===0}),o>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Max: ",_," videos"]})]}),s.jsxs(V,{onClick:a,disabled:o===0||N<1,className:"w-full",children:[s.jsx(tv,{className:"h-4 w-4 mr-2"}),"Generate ",N," Random Combinations"]})]})]})]})]})},z9=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),W9=({combinations:e,variables:t,baseConfig:r,onChange:n,onRegenerate:a,onSubmit:i,isSubmitting:o=!1})=>{const l=(m,p,w)=>{n(e.map(y=>y.id===m?{...y,values:{...y.values,[p]:w}}:y))},c=m=>{n(e.filter(p=>p.id!==m))},d=()=>{const m={};t.forEach(w=>{if(w.values.length>0){const y=Math.floor(Math.random()*w.values.length);m[w.name]=w.values[y]}});const p={id:z9(),values:m};n([...e,p])},u=()=>{n([])},h=m=>{if(!r.storyIdea)return null;let p=r.storyIdea;for(const[w,y]of Object.entries(m.values))p=p.replace(new RegExp(`\\{${w}\\}`,"g"),y);return p.length>100?p.substring(0,100)+"...":p};return e.length===0?s.jsx(H,{className:"border-dashed",children:s.jsx(Y,{className:"flex flex-col items-center justify-center py-12",children:s.jsx("p",{className:"text-muted-foreground mb-4",children:"No combinations generated yet. Go to the Variables tab to generate combinations."})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(H,{children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg",children:"Review & Edit Combinations"}),s.jsxs(Ce,{children:[e.length," video",e.length!==1?"s":""," will be generated"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(V,{variant:"outline",size:"sm",onClick:d,children:[s.jsx(Dr,{className:"h-4 w-4 mr-1"}),"Add Row"]}),s.jsxs(V,{variant:"outline",size:"sm",onClick:a,children:[s.jsx(tv,{className:"h-4 w-4 mr-1"}),"Shuffle"]}),s.jsxs(V,{variant:"outline",size:"sm",onClick:u,children:[s.jsx(q4,{className:"h-4 w-4 mr-1"}),"Clear"]})]})]})}),s.jsx(Y,{children:s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(Ci,{children:[s.jsx(Ei,{children:s.jsxs(Br,{children:[s.jsx(Ye,{className:"w-12",children:"#"}),t.map(m=>s.jsx(Ye,{children:m.label},m.id)),r.storyIdea&&s.jsx(Ye,{children:"Preview"}),s.jsx(Ye,{className:"w-16",children:"Action"})]})}),s.jsx(Ri,{children:e.map((m,p)=>s.jsxs(Br,{children:[s.jsx(Qe,{className:"font-medium",children:p+1}),t.map(w=>s.jsx(Qe,{children:s.jsxs(Ze,{value:m.values[w.name]||"",onValueChange:y=>l(m.id,w.name,y),children:[s.jsx(He,{className:"h-8 w-full min-w-[100px]",children:s.jsx(Je,{placeholder:"Select..."})}),s.jsx(Ge,{children:w.values.map(y=>s.jsx(K,{value:y,children:y},y))})]})},w.id)),r.storyIdea&&s.jsx(Qe,{className:"text-xs text-muted-foreground max-w-[200px] truncate",children:h(m)}),s.jsx(Qe,{children:s.jsx(V,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>c(m.id),children:s.jsx(od,{className:"h-4 w-4"})})})]},m.id))})]})})})]}),s.jsxs(H,{children:[s.jsx(se,{children:s.jsx(ne,{className:"text-base",children:"Base Configuration"})}),s.jsxs(Y,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Industry:"})," ",s.jsx("span",{className:"font-medium",children:r.industry||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"City:"})," ",s.jsx("span",{className:"font-medium",children:r.city||"-"})]})]}),r.storyIdea&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"Story Template:"}),s.jsx("p",{className:"text-sm mt-1",children:r.storyIdea})]})]})]}),s.jsx(V,{onClick:i,disabled:e.length===0||o,size:"lg",className:"w-full",children:o?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"h-4 w-4 mr-2 animate-spin"}),"Starting Generation..."]}):s.jsxs(s.Fragment,{children:["Generate ",e.length," Videos"]})})]})},q9=({userId:e,onSelectBatch:t,selectedBatchId:r})=>{const[n,a]=f.useState([]),[i,o]=f.useState(!0);f.useEffect(()=>{l();const d=F.channel("smart-bulk-batches").on("postgres_changes",{event:"*",schema:"public",table:"bulk_video_batches",filter:`user_id=eq.${e}`},()=>{l()}).subscribe();return()=>{F.removeChannel(d)}},[e]);const l=async()=>{const{data:d,error:u}=await F.from("bulk_video_batches").select("id, name, status, total_variations, completed_variations, failed_variations, created_at, generation_mode").eq("user_id",e).eq("generation_mode","smart_selection").order("created_at",{ascending:!1});u?console.error("Error fetching batches:",u):a(d||[]),o(!1)},c=d=>{switch(d){case"draft":return s.jsx(re,{variant:"secondary",children:"Draft"});case"processing":return s.jsx(re,{className:"bg-blue-500",children:"Processing"});case"completed":return s.jsx(re,{className:"bg-green-500",children:"Completed"});case"failed":return s.jsx(re,{variant:"destructive",children:"Failed"});default:return s.jsx(re,{variant:"outline",children:d})}};return i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(we,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):n.length===0?s.jsx(H,{className:"border-dashed",children:s.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(ar,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No smart bulk batches yet."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create your first batch in the Create tab."})]})}):s.jsx("div",{className:"space-y-4",children:n.map(d=>{const u=d.total_variations>0?Math.round((d.completed_variations+d.failed_variations)/d.total_variations*100):0;return s.jsxs(H,{className:`cursor-pointer transition-all hover:shadow-md ${r===d.id?"ring-2 ring-primary":""}`,onClick:()=>t(d.id),children:[s.jsxs(se,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-base",children:d.name}),c(d.status)]}),s.jsxs(Ce,{className:"flex items-center gap-2 text-xs",children:[s.jsx(nf,{className:"h-3 w-3"}),vl(new Date(d.created_at),{addSuffix:!0})]})]}),s.jsxs(Y,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{children:[d.completed_variations,"/",d.total_variations," videos"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${u}%`}})}),d.failed_variations>0&&s.jsxs("p",{className:"text-xs text-destructive",children:[d.failed_variations," failed"]})]}),s.jsxs(V,{variant:"outline",size:"sm",className:"mt-3 w-full",onClick:h=>{h.stopPropagation(),t(d.id)},children:[s.jsx(Ca,{className:"h-4 w-4 mr-2"}),"View Details"]})]})]},d.id)})})},H9=({batchId:e})=>{const[t,r]=f.useState([]),[n,a]=f.useState(!0),[i,o]=f.useState(null);f.useEffect(()=>{c();const m=F.channel(`smart-batch-progress-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"kie_video_generations"},()=>{c()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"bulk_video_batches",filter:`id=eq.${e}`},()=>{l()}).subscribe();return()=>{F.removeChannel(m)}},[e]);const l=async()=>{const{data:m}=await F.from("bulk_video_batches").select("name, status, total_variations, completed_variations, failed_variations").eq("id",e).single();m&&o({name:m.name,status:m.status,total:m.total_variations,completed:m.completed_variations,failed:m.failed_variations})},c=async()=>{await l();const{data:m}=await F.from("bulk_batch_generations").select("generation_id, variable_values").eq("batch_id",e).order("variation_index",{ascending:!0});if(!m||m.length===0){a(!1);return}const p=m.map(y=>y.generation_id),{data:w}=await F.from("kie_video_generations").select("id, avatar_name, industry, city, initial_status, initial_video_url, final_video_url, final_video_status, initial_error").in("id",p);if(w){const y=w.map(v=>{const b=m.find(g=>g.generation_id===v.id);return{...v,variable_values:(b==null?void 0:b.variable_values)||{}}});r(y)}a(!1)},d=m=>m.final_video_url||m.final_video_status==="completed"?s.jsx(At,{className:"h-4 w-4 text-green-500"}):m.initial_error||m.initial_status==="failed"?s.jsx(Wt,{className:"h-4 w-4 text-destructive"}):m.initial_status==="processing"||m.initial_video_url?s.jsx(we,{className:"h-4 w-4 animate-spin text-blue-500"}):s.jsx(Es,{className:"h-4 w-4 text-muted-foreground"}),u=m=>m.final_video_url||m.final_video_status==="completed"?"Completed":m.initial_error||m.initial_status==="failed"?"Failed":m.initial_status==="processing"||m.initial_video_url?"Processing":"Pending";if(n)return s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(we,{className:"h-6 w-6 animate-spin text-muted-foreground"})});const h=i?Math.round((i.completed+i.failed)/i.total*100):0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(H,{children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{children:(i==null?void 0:i.name)||"Batch"}),s.jsx(re,{className:(i==null?void 0:i.status)==="completed"?"bg-green-500":(i==null?void 0:i.status)==="processing"?"bg-blue-500":(i==null?void 0:i.status)==="failed"?"bg-destructive":"",children:(i==null?void 0:i.status)||"Unknown"})]}),s.jsxs(Ce,{children:[i==null?void 0:i.completed,"/",i==null?void 0:i.total," completed",i!=null&&i.failed?`  ${i.failed} failed`:""]})]}),s.jsxs(Y,{children:[s.jsx("div",{className:"w-full bg-muted rounded-full h-3 overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${h}%`}})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[h,"% complete"]})]})]}),s.jsxs(H,{children:[s.jsx(se,{children:s.jsx(ne,{className:"text-base",children:"Video Generations"})}),s.jsx(Y,{className:"p-0",children:s.jsx(Cd,{className:"h-[400px]",children:s.jsxs("div",{className:"divide-y",children:[t.map((m,p)=>s.jsxs("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-muted text-sm font-medium",children:p+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:m.avatar_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Object.entries(m.variable_values).map(([w,y])=>`${w}: ${y}`).join("  ")})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[d(m),s.jsx("span",{className:"text-sm",children:u(m)})]})]}),m.final_video_url&&s.jsx("div",{className:"mt-3",children:s.jsx("video",{src:m.final_video_url,controls:!0,className:"w-full max-w-md rounded-lg"})}),m.initial_error&&s.jsx("p",{className:"mt-2 text-xs text-destructive bg-destructive/10 p-2 rounded",children:m.initial_error})]},m.id)),t.length===0&&s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(ar,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:"No generations yet. Starting soon..."})]})]})})})]})]})},sP=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),du=e=>{const t=e.filter(a=>a.values.length>0);if(t.length===0)return[];const r=[],n=(a,i)=>{if(a===t.length){r.push({...i});return}const o=t[a];for(const l of o.values)i[o.name]=l,n(a+1,i)};return n(0,{}),r},Xm=(e,t)=>{const r=[...e];for(let n=r.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[r[n],r[a]]=[r[a],r[n]]}return r.slice(0,Math.min(t,r.length)).map(n=>({id:sP(),values:n}))},G9=()=>{const e=at(),{toast:t}=ct(),[r,n]=f.useState(null),[a,i]=f.useState("create"),[o,l]=f.useState(null),[c,d]=f.useState({}),[u,h]=f.useState([]),[m,p]=f.useState(10),[w,y]=f.useState([]),[v,b]=f.useState(!1),[g,x]=f.useState("config");f.useEffect(()=>{(async()=>{const{data:{user:C}}=await F.auth.getUser();if(!C){e("/auth");return}n(C.id)})()},[e]);const j=f.useCallback(P=>{d(P)},[]),_=du(u).length,N=()=>{const P=du(u),C=Xm(P,m);y(C),x("review"),t({title:"Combinations Generated",description:`${C.length} random combinations created. Review and edit them below.`})},k=P=>{const C=P.map($=>{const U=Za.find(q=>q.name===$);return{id:sP(),name:U.name,label:U.label,values:U.suggestions}});h(C);const R=du(C),D=Xm(R,m);y(D),x("review"),t({title:"Auto Generated",description:`${D.length} random combinations created from ${R.length} possibilities.`})},S=()=>{const P=du(u),C=Xm(P,m);y(C)},E=async()=>{if(r){if(!c.batchName||!c.industry||!c.city){t({title:"Missing Information",description:"Please fill in batch name, industry, and city.",variant:"destructive"});return}if(w.length===0){t({title:"No Combinations",description:"Please generate combinations first.",variant:"destructive"});return}b(!0);try{const P=c.imageUrl?"REFERENCE_2_VIDEO":"TEXT_2_VIDEO",{data:C,error:R}=await F.from("bulk_video_batches").insert([{user_id:r,name:c.batchName,base_image_url:c.imageUrl||null,base_industry:c.industry,base_city:c.city,base_story_idea:c.storyIdea||null,model:c.model||"veo3_fast",aspect_ratio:c.aspectRatio||"16:9",number_of_scenes:c.numberOfScenes||3,variables:JSON.parse(JSON.stringify(u)),total_variations:w.length,status:"processing",generation_type:P,generation_mode:"smart_selection"}]).select().single();if(R)throw R;const D=w.map(U=>U.values),{error:$}=await F.functions.invoke("smart-bulk-generate",{body:{batch_id:C.id,combinations:D,base_config:{image_url:c.imageUrl||null,generation_type:P,industry:c.industry,city:c.city,story_idea:c.storyIdea||null,model:c.model||"veo3_fast",aspect_ratio:c.aspectRatio||"16:9",number_of_scenes:c.numberOfScenes||3}}});if($)throw $;t({title:"Batch Started",description:`${w.length} videos are being generated.`}),d({}),h([]),y([]),p(10),x("config"),l(C.id),i("batches")}catch(P){console.error("Error starting batch:",P),t({title:"Error",description:"Failed to start batch generation.",variant:"destructive"})}finally{b(!1)}}},I=P=>{l(P)};return r?s.jsxs("div",{className:"min-h-screen bg-background flex",children:[s.jsx(ls,{}),s.jsx("main",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container py-8 max-w-6xl",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:s.jsx(Wr,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Smart Bulk Video"}),s.jsx("p",{className:"text-muted-foreground",children:"Generate multiple videos with random variable combinations"})]})]}),s.jsxs(ir,{value:a,onValueChange:i,children:[s.jsxs(Jt,{className:"mb-6",children:[s.jsx(Te,{value:"create",children:"Create Batch"}),s.jsx(Te,{value:"batches",children:"My Batches"})]}),s.jsx(Me,{value:"create",children:s.jsxs(ir,{value:g,onValueChange:x,children:[s.jsxs(Jt,{className:"mb-6",children:[s.jsxs(Te,{value:"config",className:"gap-2",children:[s.jsx(ev,{className:"h-4 w-4"}),"Config"]}),s.jsxs(Te,{value:"variables",className:"gap-2",children:[s.jsx(Y4,{className:"h-4 w-4"}),"Variables"]}),s.jsxs(Te,{value:"review",className:"gap-2",disabled:w.length===0,children:[s.jsx(Ca,{className:"h-4 w-4"}),"Review (",w.length,")"]})]}),s.jsxs(Me,{value:"config",children:[s.jsx(D9,{onUpdate:j,initialData:c}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx(V,{onClick:()=>x("variables"),children:"Continue to Variables"})})]}),s.jsx(Me,{value:"variables",children:s.jsx(B9,{variables:u,onChange:h,videoCount:m,onVideoCountChange:p,onGenerateCombinations:N,onAutoGenerateCombinations:k,totalPossibleCombinations:_})}),s.jsx(Me,{value:"review",children:s.jsx(W9,{combinations:w,variables:u,baseConfig:{industry:c.industry||"",city:c.city||"",storyIdea:c.storyIdea},onChange:y,onRegenerate:S,onSubmit:E,isSubmitting:v})})]})}),s.jsx(Me,{value:"batches",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx(q9,{userId:r,onSelectBatch:I,selectedBatchId:o})}),s.jsx("div",{className:"lg:col-span-2",children:o?s.jsx(H9,{batchId:o}):s.jsx("div",{className:"flex items-center justify-center h-[400px] border rounded-lg border-dashed",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Jx,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Select a batch to view progress"})]})})})]})})]})]})})]}):null},Ed=({title:e,subtitle:t,primaryAction:r,secondaryActions:n,className:a})=>s.jsx("div",{className:J("border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",a),children:s.jsxs("div",{className:"flex items-center justify-between px-6 md:px-8 py-6 md:py-8",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-semibold tracking-tight text-foreground",children:e}),t&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1.5",children:t})]}),s.jsxs("div",{className:"flex items-center gap-3 ml-6",children:[n,r&&s.jsxs(V,{onClick:r.onClick,className:"rounded-[14px] font-medium shadow-sm hover:shadow-md transition-all duration-150",children:[r.icon&&s.jsx("span",{className:"mr-2",children:r.icon}),r.label]})]})]})}),K9=()=>{at();const{toast:e}=ct(),[t,r]=f.useState("ingest"),[n,a]=f.useState("brief"),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState(""),[h,m]=f.useState(""),[p,w]=f.useState(!1),[y,v]=f.useState(8),[b,g]=f.useState([]),[x,j]=f.useState(!1),[_,N]=f.useState(!1),k=8,S=y*k,E=Math.floor(S/60),I=S%60,P=`${E}:${I.toString().padStart(2,"0")}`,C=async()=>{const T=n==="brief"?i:n==="url"?l:d;if(!T){e({title:"Input Required",description:"Please provide a brief, URL, or transcript.",variant:"destructive"});return}w(!0);try{const{data:O,error:G}=await F.functions.invoke("generate-longform-script",{body:{input_type:n,input:T}});if(G)throw G;if(!(O!=null&&O.success))throw new Error((O==null?void 0:O.error)||"Failed to generate script");m(O.script||""),O.script&&e({title:"Script Generated!",description:"AI created a script from your input. Adjust scene count and proceed to storyboard."})}catch(O){console.error("Error generating script:",O),e({title:"Script Generation Failed",description:O.message||"Failed to generate script. Please try again.",variant:"destructive"})}finally{w(!1)}},R=async()=>{if(!h){e({title:"Script Required",description:"Please generate a script first.",variant:"destructive"});return}N(!0);try{const{data:T,error:O}=await F.functions.invoke("create-longform-storyboard",{body:{script:h,number_of_scenes:y}});if(O)throw O;if(!(T!=null&&T.success))throw new Error((T==null?void 0:T.error)||"Failed to create storyboard");const G=(T.scenes||[]).map((de,oe)=>({id:`scene-${oe+1}`,sceneNumber:oe+1,title:de.title||de.scene_title||`Scene ${oe+1}`,prompt:de.prompt||de.description||de.scene||"",provider:oe%2===0?"kie":"fal",status:"pending",duration:k}));g(G),r("storyboard"),e({title:"Storyboard Created!",description:`Generated ${G.length} scenes. Review and adjust as needed.`})}catch(T){console.error("Error creating storyboard:",T),e({title:"Storyboard Creation Failed",description:T.message||"Failed to create storyboard. Please try again.",variant:"destructive"})}finally{N(!1)}},D=(T,O)=>{g(b.map(G=>G.id===T?{...G,provider:O}:G))},$=()=>{r("render"),j(!0);let T=0;const O=setInterval(()=>{T<b.length?(g(G=>G.map((de,oe)=>oe===T?{...de,status:"generating"}:de)),T++):(clearInterval(O),j(!1),e({title:"Rendering Complete",description:"All scenes have been rendered. Ready for assembly."}),setTimeout(()=>r("assemble"),1e3))},1500)},U=b.filter(T=>T.status==="completed").length,q=b.length;return s.jsx("div",{className:"h-full w-full bg-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-8 py-8 md:py-10 space-y-8",children:[s.jsx(Ed,{title:"Long-Form Video Generator",subtitle:"Create minutes-to-hours of video with multi-scene orchestration"}),s.jsxs(ir,{value:t,className:"w-full",children:[s.jsxs(Jt,{className:"grid w-full grid-cols-4 mb-8",children:[s.jsx(Te,{value:"ingest",disabled:t!=="ingest",children:"1. Ingest"}),s.jsx(Te,{value:"storyboard",disabled:b.length===0,children:"2. Storyboard"}),s.jsx(Te,{value:"render",disabled:b.length===0,children:"3. Render"}),s.jsx(Te,{value:"assemble",disabled:U===0,children:"4. Assemble"})]}),s.jsx(Me,{value:"ingest",className:"space-y-6",children:s.jsxs(H,{className:"rounded-[14px]",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Create Your Video"}),s.jsx(Ce,{children:"Provide a brief description, URL, or transcript. AI will generate a complete script."})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(V,{variant:n==="brief"?"default":"outline",onClick:()=>a("brief"),className:"rounded-[14px]",children:[s.jsx(sn,{className:"mr-2 h-4 w-4"}),"Brief"]}),s.jsxs(V,{variant:n==="url"?"default":"outline",onClick:()=>a("url"),className:"rounded-[14px]",children:[s.jsx(Kp,{className:"mr-2 h-4 w-4"}),"URL"]}),s.jsxs(V,{variant:n==="transcript"?"default":"outline",onClick:()=>a("transcript"),className:"rounded-[14px]",children:[s.jsx(ld,{className:"mr-2 h-4 w-4"}),"Transcript"]})]}),n==="brief"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Brief Description"}),s.jsx(lt,{placeholder:"E.g., 'A 5-minute video about a roofing company in Austin showcasing their services, expertise, and customer testimonials'",value:i,onChange:T=>o(T.target.value),rows:8,className:"rounded-[14px]"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Describe what you want your video to be about. AI will create a full script."})]}),n==="url"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Blog URL or Article Link"}),s.jsx(Ne,{type:"url",placeholder:"https://example.com/article",value:l,onChange:T=>c(T.target.value),className:"rounded-[14px]"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"AI will extract content and create a script."})]}),n==="transcript"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Podcast Transcript"}),s.jsx(lt,{placeholder:"Paste transcript here...",value:d,onChange:T=>u(T.target.value),rows:12,className:"rounded-[14px]"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"AI will structure the transcript into a video script."})]}),s.jsx(V,{onClick:C,disabled:p||!i&&!l&&!d,className:"w-full rounded-[14px]",size:"lg",children:p?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Script..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bt,{className:"mr-2 h-4 w-4"}),"Generate Script with AI"]})}),h&&s.jsxs(H,{className:"rounded-[14px] border-primary/20 bg-primary/5 mt-6",children:[s.jsxs(se,{children:[s.jsx(ne,{className:"text-lg",children:"Generated Script"}),s.jsx(Ce,{children:"Review the AI-generated script before proceeding to storyboard"})]}),s.jsxs(Y,{children:[s.jsx(lt,{value:h,onChange:T=>m(T.target.value),rows:12,className:"rounded-[14px] font-mono text-sm",readOnly:!1}),s.jsx(V,{onClick:R,disabled:_,className:"w-full rounded-[14px] mt-4",size:"lg",children:_?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Storyboard..."]}):s.jsxs(s.Fragment,{children:["Proceed to Storyboard",s.jsx(en,{className:"ml-2 h-4 w-4"})]})})]})]})]})]})}),s.jsx(Me,{value:"storyboard",className:"space-y-6",children:s.jsxs(H,{className:"rounded-[14px]",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Scene Breakdown"}),s.jsx(Ce,{children:"Adjust scene count and review scenes. Select provider per scene for optimal results."})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4 p-4 bg-muted/50 rounded-[14px] border border-border/50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(z,{className:"text-base font-semibold",children:"Number of Scenes"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl font-bold",children:y}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"scenes"})]})]}),s.jsx(uy,{value:[y],onValueChange:T=>v(T[0]),min:1,max:50,step:1,className:"w-full"}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Minimum: 1 scene"}),s.jsx("span",{children:"Maximum: 50 scenes"})]}),s.jsxs("div",{className:"pt-4 border-t border-border/50 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Estimated video duration:"})]}),s.jsx("span",{className:"text-lg font-semibold",children:P})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Based on ",k," seconds per scene"]})]}),b.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx("p",{className:"mb-4",children:"No scenes yet. Generate a script first."}),s.jsxs(V,{onClick:()=>r("ingest"),variant:"outline",className:"rounded-[14px]",children:[s.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Back to Ingest"]})]}):s.jsxs(s.Fragment,{children:[b.map(T=>s.jsxs("div",{className:"p-4 rounded-[14px] border border-border/50 bg-card space-y-3",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs(re,{variant:"outline",children:["Scene ",T.sceneNumber]}),s.jsx("span",{className:"font-semibold",children:T.title}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",T.duration||k,"s"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T.prompt})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(z,{className:"text-xs",children:"Provider:"}),s.jsxs("select",{value:T.provider,onChange:O=>D(T.id,O.target.value),className:"rounded-[10px] border border-border/50 px-3 py-1.5 text-sm bg-background",children:[s.jsx("option",{value:"kie",children:"Kie.ai"}),s.jsx("option",{value:"fal",children:"fal.ai"}),s.jsx("option",{value:"custom",children:"Custom Provider"})]})]})]},T.id)),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs(V,{variant:"outline",onClick:()=>r("ingest"),className:"rounded-[14px]",children:[s.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Back"]}),s.jsxs(V,{onClick:$,className:"flex-1 rounded-[14px]",size:"lg",children:["Start Rendering",s.jsx(en,{className:"ml-2 h-4 w-4"})]})]})]})]})]})}),s.jsx(Me,{value:"render",className:"space-y-6",children:s.jsxs(H,{className:"rounded-[14px]",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Render Queue"}),s.jsx(Ce,{children:"Rendering scenes across providers with intelligent queue management"})]}),s.jsxs(Y,{className:"space-y-4",children:[b.map(T=>s.jsx("div",{className:`p-4 rounded-[14px] border ${T.status==="generating"?"border-primary/50 bg-primary/5":T.status==="completed"?"border-success/50 bg-success/5":"border-border/50 bg-card"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[T.status==="generating"&&s.jsx(we,{className:"h-5 w-5 animate-spin text-primary"}),T.status==="completed"&&s.jsx(At,{className:"h-5 w-5 text-success"}),T.status==="pending"&&s.jsx(ad,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold",children:["Scene ",T.sceneNumber,": ",T.title]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Provider: ",T.provider.toUpperCase()]})]})]}),s.jsx(re,{variant:T.status==="completed"?"default":T.status==="generating"?"secondary":"outline",children:T.status})]})},T.id)),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress:"}),s.jsxs("span",{className:"font-semibold",children:[U," / ",q," scenes completed"]})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-accent rounded-full transition-all duration-300",style:{width:`${q>0?U/q*100:0}%`}})})]})]})]})}),s.jsx(Me,{value:"assemble",className:"space-y-6",children:s.jsxs(H,{className:"rounded-[14px]",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Timeline Assembly"}),s.jsx(Ce,{children:"Final timeline with captions, audio mixing, and transitions"})]}),s.jsxs(Y,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Video Timeline"}),b.map(T=>s.jsx("div",{className:"h-16 bg-gradient-to-r from-primary/20 to-accent/20 rounded-[10px] border border-border/50 flex items-center px-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-sm",children:["Scene ",T.sceneNumber]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[T.duration||k,"s  ",T.provider.toUpperCase()]})]})},T.id))]}),s.jsxs("div",{className:"pt-4 border-t space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(At,{className:"h-4 w-4 text-success"}),s.jsx("span",{className:"text-muted-foreground",children:"All scenes rendered"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(At,{className:"h-4 w-4 text-success"}),s.jsx("span",{className:"text-muted-foreground",children:"Captions generated"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(At,{className:"h-4 w-4 text-success"}),s.jsx("span",{className:"text-muted-foreground",children:"Audio mixed"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs(V,{variant:"outline",onClick:()=>r("render"),className:"rounded-[14px]",children:[s.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Back"]}),s.jsxs(V,{className:"flex-1 rounded-[14px]",size:"lg",children:[s.jsx(Lt,{className:"mr-2 h-4 w-4"}),"Export Video"]})]})]})]})})]})]})})},Y9=()=>{const{toast:e}=ct(),[t,r]=f.useState([]),[n,a]=f.useState(!1),[i,o]=f.useState(""),[l,c]=f.useState("voice");f.useEffect(()=>{d()},[l]);const d=async()=>{a(!0);const p=[{id:"1",name:"Professional Male Voice",type:"voice",url:"#",duration:120,created_at:new Date().toISOString()},{id:"2",name:"Corporate Background Music",type:"music",url:"#",duration:180,created_at:new Date().toISOString()}];r(p.filter(w=>w.type===l)),a(!1)},u=async p=>{e({title:"Upload Feature",description:`Upload ${p} functionality will be implemented here.`})},h=t.filter(p=>p.name.toLowerCase().includes(i.toLowerCase())),m=p=>{switch(p){case"voice":return s.jsx(Q4,{className:"h-5 w-5"});case"music":return s.jsx(th,{className:"h-5 w-5"});case"broll":return s.jsx(Lt,{className:"h-5 w-5"});case"caption":return s.jsx(sn,{className:"h-5 w-5"});default:return s.jsx(_n,{className:"h-5 w-5"})}};return s.jsx("div",{className:"h-full w-full bg-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-8 py-8 md:py-10 space-y-8",children:[s.jsx(Ed,{title:"Asset Library",subtitle:"Centralized voice, music, b-roll, and caption assets",primaryAction:{label:`Upload ${l.charAt(0).toUpperCase()+l.slice(1)}`,onClick:()=>u(l),icon:s.jsx(Dr,{className:"h-4 w-4"})}}),s.jsxs("div",{className:"relative",children:[s.jsx(id,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:`Search ${l} assets...`,value:i,onChange:p=>o(p.target.value),className:"pl-10 rounded-[14px]"})]}),s.jsxs(ir,{value:l,onValueChange:p=>c(p),className:"w-full",children:[s.jsxs(Jt,{className:"grid w-full grid-cols-4 mb-6",children:[s.jsx(Te,{value:"voice",children:"Voice"}),s.jsx(Te,{value:"music",children:"Music"}),s.jsx(Te,{value:"broll",children:"B-Roll"}),s.jsx(Te,{value:"caption",children:"Captions"})]}),s.jsx(Me,{value:l,className:"space-y-4",children:n?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading assets..."}):h.length===0?s.jsx(H,{className:"rounded-[14px]",children:s.jsxs(Y,{className:"py-12 text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-muted flex items-center justify-center",children:m(l)}),s.jsxs("p",{className:"text-muted-foreground mb-4",children:["No ",l," assets yet"]}),s.jsxs(V,{onClick:()=>u(l),className:"rounded-[14px]",children:[s.jsx(ld,{className:"mr-2 h-4 w-4"}),"Upload ",l.charAt(0).toUpperCase()+l.slice(1)]})]})}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(p=>s.jsxs(H,{className:"rounded-[14px] hover:shadow-md transition-all",children:[s.jsx(se,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-[10px] bg-primary/10 flex items-center justify-center",children:m(p.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsx(ne,{className:"text-base",children:p.name}),s.jsx(Ce,{className:"text-xs mt-1",children:p.duration&&`${Math.floor(p.duration/60)}:${(p.duration%60).toString().padStart(2,"0")}`})]})]})})}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(V,{variant:"outline",size:"sm",className:"flex-1 rounded-[10px]",children:[s.jsx(rh,{className:"mr-2 h-3 w-3"}),"Preview"]}),s.jsx(V,{variant:"outline",size:"sm",className:"rounded-[10px]",children:s.jsx(bi,{className:"h-3 w-3"})}),s.jsx(V,{variant:"outline",size:"sm",className:"rounded-[10px]",children:s.jsx(od,{className:"h-3 w-3"})})]})})]},p.id))})})]})]})})};function Wf(){const[e,t]=f.useState(null),[r,n]=f.useState(!0),{toast:a}=ct();f.useEffect(()=>{i();const o=F.channel("subscriptions_changes").on("postgres_changes",{event:"*",schema:"public",table:"subscriptions"},()=>{i()}).subscribe();return()=>{F.removeChannel(o)}},[]);const i=async()=>{try{const{data:{user:o}}=await F.auth.getUser();if(!o){t(null),n(!1);return}const{data:l,error:c}=await F.from("subscriptions").select("*").eq("user_id",o.id).eq("status","active").order("created_at",{ascending:!1}).limit(1).maybeSingle();if(c&&c.code!=="PGRST116")throw c;t(l)}catch(o){console.error("Error fetching Studio Access subscription:",o),a({title:"Error",description:"Failed to load subscription",variant:"destructive"})}finally{n(!1)}};return{subscription:e,loading:r,refresh:i,isActive:(e==null?void 0:e.status)==="active"||(e==null?void 0:e.status)==="trialing",hasAccess:(e==null?void 0:e.status)==="active"||(e==null?void 0:e.status)==="trialing"}}const Q9=()=>{const e=at(),{subscription:t}=Wf(),{balance:r}=xl(),n=async()=>{try{const{data:{session:i}}=await F.auth.getSession();if(!i){e("/auth?redirect=/pricing");return}const o=await F.functions.invoke("create-checkout-session",{body:{mode:"subscription",planId:"studio_access"}});if(o.error)throw o.error;const{url:l}=o.data;l&&(window.location.href=l)}catch(i){console.error("Error creating checkout session:",i),alert("Failed to start checkout. Please try again.")}},a=()=>{e("/checkout?mode=credits")};return s.jsx("div",{className:"h-full w-full bg-background",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6 md:px-8 py-8 md:py-10 space-y-12",children:[s.jsx(Ed,{title:"Pricing",subtitle:"Studio Access subscription + pay-as-you-go credits"}),s.jsxs("div",{className:"space-y-12",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Studio Access"}),s.jsx("p",{className:"text-muted-foreground",children:"Monthly subscription to unlock the studio features"})]}),s.jsxs(H,{className:"rounded-[14px] border-2 border-primary/20 shadow-lg max-w-2xl",children:[s.jsxs(se,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(ne,{className:"text-3xl",children:bn.name}),s.jsx(re,{variant:"default",className:"text-sm",children:"Required"})]}),s.jsx(Ce,{className:"text-lg",children:bn.description}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("span",{className:"text-4xl font-bold",children:["$",bn.price]}),s.jsx("span",{className:"text-muted-foreground text-lg",children:"/month"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Studio Access includes 0 credits. Credits are purchased separately."})]}),s.jsx(Y,{className:"space-y-4",children:s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:bn.features.map((i,o)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(vt,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:i})]},o))})}),s.jsx(Og,{children:s.jsx(V,{onClick:n,disabled:(t==null?void 0:t.status)==="active",className:"w-full rounded-[14px]",size:"lg",children:(t==null?void 0:t.status)==="active"?"Studio Access Active":s.jsxs(s.Fragment,{children:["Subscribe to Studio Access",s.jsx(en,{className:"ml-2 h-4 w-4"})]})})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Credits - Pay as you go"}),s.jsx("p",{className:"text-muted-foreground",children:"Buy credits when you need them. Credits are used for rendering videos."})]}),s.jsxs(H,{className:"rounded-[14px] max-w-2xl",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Credit Pricing"}),s.jsx(Ce,{children:"Credits are consumed when rendering videos"})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-[10px]",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold",children:["1 credit = ",_h===1?"1 rendered minute":`${1/_h} rendered minutes`]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Credits are provider-agnostic"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",Nh.toFixed(2)]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"per credit"})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:" Credits are used to render videos"}),s.jsx("p",{children:" Credits do not expire"}),s.jsx("p",{children:" Pay only for what you use"}),s.jsx("p",{children:" Provider-agnostic (works with Kie, fal, and others)"})]})]}),r&&s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Current credit balance"}),s.jsxs("p",{className:"text-2xl font-bold",children:[r.credits.toLocaleString()," credits"]})]}),s.jsxs(V,{onClick:a,className:"rounded-[14px]",children:[s.jsx(Rc,{className:"mr-2 h-4 w-4"}),"Buy Credits"]})]})})]}),s.jsx(Og,{children:s.jsxs(V,{onClick:a,variant:"outline",className:"w-full rounded-[14px]",size:"lg",children:["Buy Credits",s.jsx(en,{className:"ml-2 h-4 w-4"})]})})]})]}),s.jsxs("div",{className:"space-y-4 mt-12",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(H,{className:"rounded-[14px]",children:[s.jsx(se,{children:s.jsx(ne,{className:"text-lg",children:"Do credits expire?"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-muted-foreground",children:"No, purchased credits never expire. Use them whenever you need to render videos."})})]}),s.jsxs(H,{className:"rounded-[14px]",children:[s.jsx(se,{children:s.jsx(ne,{className:"text-lg",children:"What happens if a render fails?"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-muted-foreground",children:"Failed renders are automatically refunded. You'll get your credits back for any video that doesn't complete successfully."})})]}),s.jsxs(H,{className:"rounded-[14px]",children:[s.jsx(se,{children:s.jsx(ne,{className:"text-lg",children:"What is Studio Access?"})}),s.jsx(Y,{children:s.jsx("p",{className:"text-muted-foreground",children:"Studio Access is a monthly subscription that unlocks the studio app features including the orchestration UI, provider integrations, team collaboration tools, and compliance tooling. It does not include any credits - credits are purchased separately on a pay-as-you-go basis."})})]})]})]})]})]})})},X9=()=>{const e=at(),[t]=uS(),r=t.get("mode")||"access",[n,a]=f.useState(!1);Wf();const{balance:i}=xl(),[o,l]=f.useState(500),c=[100,250,500,1e3];f.useEffect(()=>{(async()=>{const{data:{session:m}}=await F.auth.getSession();m||e("/auth?redirect=/checkout")})()},[e]);const d=qg(o),u=async()=>{a(!0);try{if(r==="access"){const h=await F.functions.invoke("create-checkout-session",{body:{mode:"subscription",planId:"studio_access"}});if(h.error)throw h.error;const{url:m}=h.data;m&&(window.location.href=m)}else if(r==="credits"){const h=await F.functions.invoke("create-checkout-session",{body:{mode:"credits",credits:o}});if(h.error)throw h.error;const{url:m}=h.data;m&&(window.location.href=m)}}catch(h){console.error("Error creating checkout session:",h),alert("Failed to start checkout. Please try again."),a(!1)}};return s.jsx("div",{className:"h-full w-full bg-background",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-6 md:px-8 py-8 md:py-10 space-y-8",children:[s.jsx(Ed,{title:"Complete Your Purchase",subtitle:"Review your order and proceed to secure payment"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs(H,{className:"rounded-[14px]",children:[s.jsx(se,{children:s.jsx(ne,{children:"Order Summary"})}),s.jsxs(Y,{className:"space-y-6",children:[r==="access"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:bn.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",bn.price,"/month subscription"]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("p",{className:"text-muted-foreground",children:bn.description}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Includes 0 credits. Credits are purchased separately."})]})})]}),r==="credits"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Credit Purchase"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"One-time purchase"})]}),s.jsxs("div",{className:"pt-4 border-t space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Credits:"}),s.jsx("span",{className:"font-medium",children:o.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Price per credit:"}),s.jsxs("span",{className:"font-medium",children:["$",Nh.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-xl font-semibold pt-2 border-t",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",d.toFixed(2)]})]})]})]}),i&&r==="credits"&&s.jsxs("div",{className:"pt-4 border-t",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Current balance: ",s.jsxs("span",{className:"font-medium text-foreground",children:[i.credits.toLocaleString()," credits"]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["After purchase: ",(i.credits+o).toLocaleString()," credits"]})]})]})]}),s.jsxs(H,{className:"rounded-[14px]",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Secure Payment"}),s.jsx(Ce,{children:r==="access"?"You'll be redirected to Stripe to complete your subscription":"You'll be redirected to Stripe to complete your credit purchase"})]}),s.jsxs(Y,{className:"space-y-6",children:[r==="credits"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Purchase Credits"}),s.jsx(Ne,{type:"number",min:1,value:o,onChange:h=>l(Math.max(1,parseInt(h.target.value)||1)),className:"rounded-[14px]"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Credits are used for rendering videos"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(z,{children:"Quick Select"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(h=>s.jsx(V,{variant:o===h?"default":"outline",size:"sm",onClick:()=>l(h),className:"rounded-[10px]",children:h.toLocaleString()},h))})]}),s.jsxs("div",{className:"p-3 bg-muted/50 rounded-[10px] text-sm",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Price per credit:"}),s.jsxs("span",{className:"font-medium",children:["$",Nh.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"}),s.jsxs("span",{className:"font-semibold",children:["$",d.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted/50 rounded-[10px]",children:[s.jsx(Rc,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:"Secure checkout by Stripe"}),s.jsx("div",{className:"text-muted-foreground text-xs",children:"Your payment information is encrypted and secure"})]})]}),s.jsx(V,{onClick:u,disabled:n||r==="credits"&&o<1,className:"w-full rounded-[14px] h-12 text-base",size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-5 w-5 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:["Continue to Payment",s.jsx(en,{className:"ml-2 h-5 w-5"})]})}),s.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})]})]})})},Z9=()=>{const e=at(),{subscription:t,loading:r}=Wf(),{balance:n,loading:a}=xl(),[i,o]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState(!1);f.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:{user:w}}=await F.auth.getUser();if(!w)return;const{data:y,error:v}=await F.from("credit_transactions").select("*").eq("user_id",w.id).order("created_at",{ascending:!1}).limit(50);if(v)throw v;o(y||[])}catch(w){console.error("Error fetching transactions:",w)}finally{c(!1)}},m=async()=>{u(!0);try{const w=await F.functions.invoke("create-portal-session");if(w.error)throw w.error;const{url:y}=w.data;y&&(window.location.href=y)}catch(w){console.error("Error creating portal session:",w),alert("Failed to open customer portal. Please try again."),u(!1)}},p=t!=null&&t.current_period_end?Ur(new Date(t.current_period_end),"MMM d, yyyy"):null;return s.jsx("div",{className:"h-full w-full bg-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-8 py-8 md:py-10 space-y-8",children:[s.jsx(Ed,{title:"Billing",subtitle:"Manage your Studio Access subscription and credit balance"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(H,{className:"rounded-[14px]",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Studio Access"}),s.jsx(Ce,{children:"Your subscription status"})]}),s.jsx(Y,{className:"space-y-4",children:r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(we,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):t?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:bn.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",bn.price,"/month"]})]}),s.jsx(re,{variant:t.status==="active"?"default":"secondary",children:t.status})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nf,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Next renewal:"}),s.jsx("span",{className:"font-medium",children:p})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Studio Access includes 0 credits. Credits are purchased separately."})]}),s.jsx(V,{onClick:m,disabled:d,variant:"outline",className:"w-full rounded-[14px]",children:d?s.jsxs(s.Fragment,{children:[s.jsx(we,{className:"mr-2 h-4 w-4 animate-spin"}),"Opening..."]}):s.jsxs(s.Fragment,{children:["Manage Studio Access",s.jsx(D4,{className:"ml-2 h-4 w-4"})]})})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No Studio Access subscription"}),s.jsx(V,{onClick:()=>e("/checkout?mode=access"),className:"rounded-[14px]",children:"Subscribe to Studio Access"})]})})]}),s.jsxs(H,{className:"rounded-[14px]",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Credit Balance"}),s.jsx(Ce,{children:"Available credits for video rendering"})]}),s.jsx(Y,{className:"space-y-4",children:a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(we,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center py-6",children:[s.jsx("div",{className:"text-5xl font-bold text-primary mb-2",children:(n==null?void 0:n.credits.toLocaleString())||"0"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"credits available"})]}),s.jsxs(V,{onClick:()=>e("/checkout?mode=credits"),className:"w-full rounded-[14px]",children:[s.jsx(Dr,{className:"mr-2 h-4 w-4"}),"Buy Credits"]})]})})]})]}),s.jsxs(H,{className:"rounded-[14px]",children:[s.jsxs(se,{children:[s.jsx(ne,{children:"Credit Transaction History"}),s.jsx(Ce,{children:"Recent credit purchases, usage, and refunds"})]}),s.jsx(Y,{children:l?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(we,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):i.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No transactions yet"}):s.jsxs(Ci,{children:[s.jsx(Ei,{children:s.jsxs(Br,{children:[s.jsx(Ye,{children:"Date"}),s.jsx(Ye,{children:"Type"}),s.jsx(Ye,{children:"Amount"}),s.jsx(Ye,{children:"Balance After"})]})}),s.jsx(Ri,{children:i.map(w=>s.jsxs(Br,{children:[s.jsx(Qe,{className:"text-sm",children:Ur(new Date(w.created_at),"MMM d, yyyy h:mm a")}),s.jsx(Qe,{children:s.jsx(re,{variant:w.type==="grant"||w.type==="purchase"?"default":w.type==="debit"?"secondary":"outline",children:w.type})}),s.jsxs(Qe,{className:w.amount>0?"text-green-600":"text-red-600",children:[w.amount>0?"+":"",w.amount.toLocaleString()," credits"]}),s.jsxs(Qe,{className:"font-medium",children:[w.balance_after.toLocaleString()," credits"]})]},w.id))})]})})]})]})})},J9=()=>{const e=at(),[t]=uS(),r=t.get("session_id"),{subscription:n,refresh:a}=Wf(),{balance:i,refresh:o}=xl();return f.useEffect(()=>{a(),o()},[a,o]),s.jsx("div",{className:"h-full w-full bg-background flex items-center justify-center",children:s.jsxs(H,{className:"rounded-[14px] max-w-md w-full",children:[s.jsxs(se,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Ec,{className:"h-8 w-8 text-primary"})}),s.jsx(ne,{className:"text-2xl",children:"Payment Successful!"}),s.jsx(Ce,{children:"Your payment has been processed and your account has been updated."})]}),s.jsxs(Y,{className:"space-y-6",children:[r&&s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsxs("p",{children:["Session ID: ",r.slice(0,20),"..."]})}),s.jsxs("div",{className:"space-y-2 text-sm",children:[n&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Studio Access:"}),s.jsx("span",{className:"font-medium",children:n.status==="active"?"Active":n.status})]}),i&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Credit Balance:"}),s.jsxs("span",{className:"font-medium",children:[i.credits.toLocaleString()," credits"]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(V,{onClick:()=>e("/dashboard"),variant:"outline",className:"flex-1 rounded-[14px]",children:"Go to Dashboard"}),s.jsxs(V,{onClick:()=>e("/account/billing"),className:"flex-1 rounded-[14px]",children:["View Billing",s.jsx(en,{className:"ml-2 h-4 w-4"})]})]})]})]})})},eW=()=>{const e=at();return s.jsx("div",{className:"h-full w-full bg-background flex items-center justify-center",children:s.jsxs(H,{className:"rounded-[14px] max-w-md w-full",children:[s.jsxs(se,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-destructive/10 flex items-center justify-center",children:s.jsx(Wt,{className:"h-8 w-8 text-destructive"})}),s.jsx(ne,{className:"text-2xl",children:"Payment Cancelled"}),s.jsx(Ce,{children:"Your payment was cancelled. No charges were made."})]}),s.jsxs(Y,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"You can try again anytime. If you have any questions, please contact support."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(V,{onClick:()=>e("/pricing"),variant:"outline",className:"flex-1 rounded-[14px]",children:"Back to Pricing"}),s.jsx(V,{onClick:()=>e("/dashboard"),className:"flex-1 rounded-[14px]",children:"Go to Dashboard"})]})]})]})})},tW=()=>{const e=Mn();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},rW=new gD,sW=()=>s.jsx(D3,{children:s.jsx(bD,{client:rW,children:s.jsxs($1,{children:[s.jsx(II,{}),s.jsx(uO,{}),s.jsx(P3,{children:s.jsxs(b3,{children:[s.jsx(tt,{path:"/",element:s.jsx(kU,{})}),s.jsx(tt,{path:"/auth",element:s.jsx(oU,{})}),s.jsx(tt,{path:"/dashboard",element:s.jsx(ut,{children:s.jsx(R8,{})})}),s.jsx(tt,{path:"/new-request",element:s.jsx(ut,{children:s.jsx(_B,{})})}),s.jsx(tt,{path:"/request/:id",element:s.jsx(ut,{children:s.jsx(RB,{})})}),s.jsx(tt,{path:"/templates",element:s.jsx(ut,{children:s.jsx(qB,{})})}),s.jsx(tt,{path:"/video-generator",element:s.jsx(ut,{children:s.jsx(ez,{})})}),s.jsx(tt,{path:"/sora-storyboard-generator",element:s.jsx(ut,{children:s.jsx(cz,{})})}),s.jsx(tt,{path:"/sora2-latest",element:s.jsx(ut,{children:s.jsx(fz,{})})}),s.jsx(tt,{path:"/runway-extend",element:s.jsx(ut,{children:s.jsx(xz,{})})}),s.jsx(tt,{path:"/bulk-video",element:s.jsx(ut,{children:s.jsx(O9,{})})}),s.jsx(tt,{path:"/smart-bulk",element:s.jsx(ut,{children:s.jsx(G9,{})})}),s.jsx(tt,{path:"/long-form",element:s.jsx(ut,{children:s.jsx(K9,{})})}),s.jsx(tt,{path:"/assets",element:s.jsx(ut,{children:s.jsx(Y9,{})})}),s.jsx(tt,{path:"/admin",element:s.jsx(ut,{children:s.jsx(MB,{})})}),s.jsx(tt,{path:"/admin/users",element:s.jsx(ut,{children:s.jsx(LB,{})})}),s.jsx(tt,{path:"/admin/users/:id",element:s.jsx(ut,{children:s.jsx($B,{})})}),s.jsx(tt,{path:"/admin/credits",element:s.jsx(ut,{children:s.jsx(UB,{})})}),s.jsx(tt,{path:"/admin/providers",element:s.jsx(ut,{children:s.jsx(VB,{})})}),s.jsx(tt,{path:"/admin/billing",element:s.jsx(ut,{children:s.jsx(BB,{})})}),s.jsx(tt,{path:"/admin/renders",element:s.jsx(ut,{children:s.jsx(zB,{})})}),s.jsx(tt,{path:"/admin/audit",element:s.jsx(ut,{children:s.jsx(WB,{})})}),s.jsx(tt,{path:"/pricing",element:s.jsx(ut,{requireAuth:!1,children:s.jsx(Q9,{})})}),s.jsx(tt,{path:"/checkout",element:s.jsx(ut,{children:s.jsx(X9,{})})}),s.jsx(tt,{path:"/checkout/success",element:s.jsx(ut,{children:s.jsx(J9,{})})}),s.jsx(tt,{path:"/checkout/cancel",element:s.jsx(ut,{children:s.jsx(eW,{})})}),s.jsx(tt,{path:"/account/billing",element:s.jsx(ut,{children:s.jsx(Z9,{})})}),s.jsx(tt,{path:"*",element:s.jsx(ut,{requireAuth:!1,children:s.jsx(tW,{})})})]})})]})})});console.log(" STEP 1: main.tsx file loaded");const Lh=document.getElementById("root");console.log(" STEP 2: Root element:",Lh?"Found ":"NOT FOUND ");if(!Lh)throw document.body.innerHTML=`
    <div style="padding: 40px; font-family: system-ui; background: #ff6b6b; color: white; min-height: 100vh;">
      <h1> Error: Root element not found</h1>
      <p>Cannot find element with id="root"</p>
      <p>Check if index.html has &lt;div id="root"&gt;&lt;/div&gt;</p>
    </div>
  `,new Error("Root element not found");try{console.log(" STEP 3: Creating React root...");const e=mN(Lh);console.log(" STEP 4: Rendering App component..."),e.render(s.jsx(sW,{})),console.log(" STEP 5: React app mounted successfully!")}catch(e){console.error(" ERROR:",e),Lh.innerHTML=`
    <div style="padding: 40px; font-family: system-ui; background: #ff6b6b; color: white; min-height: 100vh;">
      <h1> Error Loading App</h1>
      <pre style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 8px; margin-top: 20px; overflow: auto; max-height: 400px; font-size: 14px;">
        ${e instanceof Error?e.message:String(e)}
        ${e instanceof Error&&e.stack?`

`+e.stack:""}
      </pre>
      <p style="margin-top: 20px; font-size: 16px;">Open the browser console (F12) and check for more errors.</p>
      <button onclick="window.location.reload()" style="padding: 15px 30px; margin-top: 20px; cursor: pointer; font-size: 16px; background: white; color: #ff6b6b; border: none; border-radius: 4px; font-weight: bold;">Reload Page</button>
    </div>
  `}
